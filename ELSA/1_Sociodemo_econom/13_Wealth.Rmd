---
title: "Wealth"
output: 
  html_document:
    theme: united
    highlight: tango
    toc: true
    toc_depth: 6
    toc_float:
      collapsed: true
      smooth_scroll: true
    number_sections: true
---

<!-- ########################################################## --> 

<!-- # Installation, loading packages -->
<!-- **R script:** -->



```{r setup, include=FALSE,  echo=FALSE}
source("M:/WPs/WP1/Maelstrom/data_process/athlos-project.github.io/setup_laia.r")
```

<!-- ########################################################## --> 

# Description of DataSchema variable 

* Short name: `wealth`
* Variable label: `Total score based in all sources of income transformed into a comparable and normalized categoric variable.`
* Domain: `Socio-demographic and economic characteristics`
* Value type: `categorical ordinal`
* Category coding:

**Code** | **Category Label**
-------- | ------------------
1        | 1st quintile
2        | 2nd quintile
3        | 3rd quintile
4        | 4th quintile
5        | 5th quintile

* Category missings: 

**Code** | **Category Label**
----| ------------------
991 | CAPI/interviewer error
992 | Impute
993 | Disable to measure
994 | Not attempt/not done
995 | Does not answer
996 | Not applicable
997 | Refuse
998 | Do not know
999 | Missing

* Comments: `Need to pay attention to specificities like: before/after taxes or contributions. People: HH income is prioritized. When not available individual/caregiver/informant/family income is caolected. Source: Pension/family/work/government/disablity/total. all sources are taken into account. For some studies, the maximum value can be compared (and crossed by sex and age to control biases) . Time-lapse: weekly, monthly, in the last 12 months. 'Many values are missing since not all respondents have all sources of income or, within the household there is not always more members, in these cases do not confuse missing data with missing values and mean a 0 should be added to the total sum in each case.`

```{r lab, echo=FALSE}
ds_label <- "wealth"
ds_label_all <- "Total score based in all sources of income transformed into a comparable and normalized categoric variable"
```

# Data process


```{r, dataDirectory, echo=FALSE}
datafolder <- "../RData"
```


## ELSA

### Wave 1 

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_1_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |


```{r assign1, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_1_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local1, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**

```{r harmo1}
ELSA_ds_w1 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w1$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w1$wealth <- as.integer(ELSA_ds_w1$wealth)
ELSA_ds_w1$wealth <- labelled(ELSA_ds_w1$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript1, echo=FALSE}
vari <- ELSA_ds_w1$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w1, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation1, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w1$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```

```{r importOPAL1, echo=FALSE}
#val_labels(ELSA_ds_w1) <- NULL
#opal.assign.data(o, 'ELSA_ds_w1', ELSA_ds_w1)
#opal.symbol_import(o,'ELSA_ds_w1', project='_Athlos_Harm_Dataset')
label(ELSA_ds_w1$wealth) <- ds_label_all
wealth <- ELSA_ds_w1
save(wealth, file = "../RData/w1/wealth.RData")
rm(wealth)
```








### Wave 2 

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_2_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |


```{r assign2, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_2_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local2, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**


```{r harmo2}
ELSA_ds_w2 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w2$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w2$wealth <- as.integer(ELSA_ds_w2$wealth)
ELSA_ds_w2$wealth <- labelled(ELSA_ds_w2$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript2, echo=FALSE}
vari <- ELSA_ds_w2$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w2, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation2, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w2$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```

```{r importOPAL2, echo=FALSE}
#val_labels(ELSA_ds_w2) <- NULL
#opal.assign.data(o, 'ELSA_ds_w2', ELSA_ds_w2)
#opal.symbol_import(o,'ELSA_ds_w2', project='_Athlos_Harm_Dataset')
label(ELSA_ds_w2$wealth) <- ds_label_all
wealth <- ELSA_ds_w2
save(wealth, file = "../RData/w2/wealth.RData")
rm(wealth)
```





### Wave 3

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_3_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |


```{r assign3, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_3_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local3, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**

```{r harmo3}
ELSA_ds_w3 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w3$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w3$wealth <- as.integer(ELSA_ds_w3$wealth)
ELSA_ds_w3$wealth <- labelled(ELSA_ds_w3$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript3, echo=FALSE}
vari <- ELSA_ds_w3$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w3, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation3, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w3$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```

```{r importOPAL3, echo=FALSE}
#val_labels(ELSA_ds_w3) <- NULL
#opal.assign.data(o, 'ELSA_ds_w3', ELSA_ds_w3)
#opal.symbol_import(o,'ELSA_ds_w3', project='_Athlos_Harm_Dataset')
label(ELSA_ds_w3$wealth) <- ds_label_all
wealth <- ELSA_ds_w3
save(wealth, file = "../RData/w3/wealth.RData")
rm(wealth)
```



### Wave 4 

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_4_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |


```{r assign4, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_4_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local4, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**


```{r harmo4}
ELSA_ds_w4 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w4$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w3$wealth <- as.integer(ELSA_ds_w3$wealth)
ELSA_ds_w4$wealth <- labelled(ELSA_ds_w4$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript4, echo=FALSE}
vari <- ELSA_ds_w4$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w4, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation4, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w4$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```

```{r importOPAL4, echo=FALSE}
label(ELSA_ds_w4$wealth) <- ds_label_all
wealth <- ELSA_ds_w4
save(wealth, file = "../RData/w4/wealth.RData")
rm(wealth)
```






### Wave 5

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_5_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |


```{r assign5, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_5_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local5, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**

```{r harmo5}
ELSA_ds_w5 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w5$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w3$wealth <- as.integer(ELSA_ds_w3$wealth)
ELSA_ds_w5$wealth <- labelled(ELSA_ds_w5$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript5, echo=FALSE}
vari <- ELSA_ds_w5$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w5, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation5, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w5$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```

```{r importOPAL5, echo=FALSE}
#val_labels(ELSA_ds_w5) <- NULL
#opal.assign.data(o, 'ELSA_ds_w5', ELSA_ds_w5)
#opal.symbol_import(o,'ELSA_ds_w5', project='_Athlos_Harm_Dataset')
label(ELSA_ds_w5$wealth) <- ds_label_all
wealth <- ELSA_ds_w5
save(wealth, file = "../RData/w5/wealth.RData")
rm(wealth)
```





### Wave 6 

#### Study-specific variable description

| **Name** | `yq5_bu_s`| 
|-|-|
| **Label** | `quintiles of BU equivalised income (eqtotinc_bu_s)` | 
| **Table name** | `wave_6_financial_derived_variables` | 
| **Categories** | `categorical ordinal` |
| **Missing categories** | `-999 = not imputed (see user guide)` |
| | `-998 = non-sample member` |
| | `-995 = institutional respondent` |
| **Description** |  |

```{r assign6, echo=FALSE}
opal.assign.table.tibble(o, 'ELSA_wealth','ELSA.wave_6_financial_derived_variables',
                         variables=list('yq5_bu_s'), missings = TRUE)
ELSA_wealth <- opal.execute(o,'ELSA_wealth')
```

```{r local6, echo=FALSE}
vari <- ELSA_wealth$yq5_bu_s
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(-999, -998, -995))[2], caption = "Type of missing")
ggplot(ELSA_wealth, aes(x=factor(yq5_bu_s))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Harmonisation algorithm
The harmonize variable is tha same than the study-specific variable, the missing values hve to be recoded as follows:

* `-999 into 999`
* `-998 into 996`
* `-995 into 993`
* `NA into 999`

**R script:**

```{r harmo6}
ELSA_ds_w6 <- tibble(id=ELSA_wealth$id)
ELSA_ds_w6$wealth <- car::recode(ELSA_wealth$yq5_bu_s, "NA=999; -999=999; -998=996; -995=993")
ELSA_ds_w6$wealth <- as.integer(ELSA_ds_w6$wealth)
ELSA_ds_w6$wealth <- labelled(ELSA_ds_w6$wealth, labels = c("Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistics of the new harmonised variable
```{r descript6, echo=FALSE}
vari <- ELSA_ds_w6$wealth
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = ds_label) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(ELSA_ds_w6, aes(x=factor(wealth))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab(ds_label) + ylab("Frequency")
```

#### Validation
```{r crosstabulation6, echo=FALSE}
BeforeH <- table(ELSA_wealth$yq5_bu_s, useNA = 'ifany')
AfterH <- table(ELSA_ds_w6$wealth)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("1", "2", "3", "4", "5", "NA->999")
kable(C)
```


```{r importOPAL6, echo=FALSE}
label(ELSA_ds_w6$wealth) <- ds_label_all
wealth <- ELSA_ds_w6
save(wealth, file = "../RData/w6/wealth.RData")
rm(wealth)
```


## Quality estimation

Quintiles of BU equivalised income were taken from the original stud which included the value of the house, 
mortgages or loans on the house, and other real estate + asset + income variables.	

In ELSA all age-eligible household members and their spouses or partners were eligible for interviewing. 
ELSA does not impute values for non-responding spouses, so couple-level financial variable where one spouse 
is missing are left missing. For married or cohabiting couples, ELSA asks income and asset questions at the 
individual level or at the couple level, depending on whether the spouses kept their finances separate or 
together. If finances were kept together, one spouse was designated as the financial respondent, who answered 
the income and asset questions for the couple. If spouses kept finances separate each individual in the 
couple answered the income and asset questions for themselves. Pension questions are always asked at the 
individual level.
Some asset variables, namely, value of the house, mortgages or loans on the house, and other real estate, 
are asked of the housing respondent on behalf of the whole household. Note that it is a requirement that 
this individual is a respondent and thus must be otherwise eligible for interview, that is, be 50 years or 
older or the spouse or partner of someone 50 or older. Even though ELSA asks these questions at the 
full-household level, some of these measures are transformed to couple-level in the ELSA financial derived 
variable files by attributing the wealth only to the individuals who are named on the property 
(and their spouses) and where owners are in different couple units, dividing housing wealth accordingly. 
ELSA’s financial derived variables files provide asset and income variables at both the individual and the 
household level. Given our emphasis on harmonization, we combine the individual-level asset and income 
variables into couple-level variables for those variables for which the RAND HRS provides couple-level 
variables. 

ELSA does not impute values for non-responding spouses, so couple-level financial variable based on the 
combination of individual-level variables are left missing when one spouse is missing. 
More information on ELSA Finanical Variables and their imptuations can be found in Financial Derived 
Variables User Guide Waves 1 to 5 (2012).


```{r closeRsession, echo=FALSE}
opal.logout(o)
```

