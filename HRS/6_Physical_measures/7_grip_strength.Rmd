---
title: "Grip Strength"
output:
  html_document:
    highlight: tango
    number_sections: yes
    theme: united
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
      smooth_scroll: yes
---


<!-- ########################################################## --> 
<!-- # Installation, loading packages -->
```{r setup, include=FALSE}
source("../../setup.r")
```
<!-- ########################################################## --> 
<!-- # Loading DS description -->
```{r main, child='../../_DS_Rmd/gripDS.Rmd'}
```
```{r global, echo=F}
source('../../_DS_Rmd/gripDS.R')
```




# Data process


## HRS

```{r assign hrs, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_hrs','HRS.HRS_b_HRS',variables=list('r7lgrip','r7rgrip','r8lgrip','r8rgrip','r9lgrip','r9rgrip','r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_hrs <- opal.execute(o,'HRS_hrs')

```


### Wave 1

Not found.

### Wave 2

Not found.

### Wave 3

Not found.

### Wave 4

Not found.

### Wave 5

Not found.

### Wave 6

Not found.

### Wave 7

#### Study-specific variable description

| **Name** |`r7lgrip`|`r7rgrip`|
|-|-|-|
| **Label** |`r7lgrip:w7 r maximum left hand grip measurement(kg)`|`r7rgrip:w7 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_HRS`|`HRS_b_HRS`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local hrs_w7, echo=FALSE}


vbl <- HRS_hrs$r7lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r7lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_hrs$r7rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r7rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo hrs_w7}

HRS_ds_hrs_w7 <- tibble(id=HRS_hrs$id)


HRS_ds_hrs_w7$grip <- pmax(HRS_hrs$r7lgrip,HRS_hrs$r7rgrip, na.rm=T)
HRS_ds_hrs_w7$grip <- car::recode(HRS_ds_hrs_w7$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript hrs_w7, echo=F}

vbl <- HRS_ds_hrs_w7$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_hrs_w7, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```




### Wave 8


#### Study-specific variable description

| **Name** |`r8lgrip`|`r8rgrip`|
|-|-|-|
| **Label** |`r8lgrip:w8 r maximum left hand grip measurement(kg)`|`r8rgrip:w8 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_HRS`|`HRS_b_HRS`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local hrs_w8, echo=FALSE}

vbl <- HRS_hrs$r8lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r8lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_hrs$r8rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r8rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo hrs_w8}

HRS_ds_hrs_w8 <- tibble(id=HRS_hrs$id)


HRS_ds_hrs_w8$grip <- pmax(HRS_hrs$r8lgrip,HRS_hrs$r8rgrip, na.rm=T)
HRS_ds_hrs_w8$grip <- car::recode(HRS_ds_hrs_w8$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript hrs_w8, echo=F}

vbl <- HRS_ds_hrs_w8$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_hrs_w8, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 9


#### Study-specific variable description

| **Name** |`r9lgrip`|`r9rgrip`|
|-|-|-|
| **Label** |`r9lgrip:w9 r maximum left hand grip measurement(kg)`|`r9rgrip:w9 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_HRS`|`HRS_b_HRS`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local hrs_w9, echo=FALSE}

vbl <- HRS_hrs$r9lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r9lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_hrs$r9rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r9rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo hrs_w9}

HRS_ds_hrs_w9 <- tibble(id=HRS_hrs$id)


HRS_ds_hrs_w9$grip <- pmax(HRS_hrs$r9lgrip,HRS_hrs$r9rgrip, na.rm=T)
HRS_ds_hrs_w9$grip <- car::recode(HRS_ds_hrs_w9$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript hrs_w9, echo=F}

vbl <- HRS_ds_hrs_w9$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_hrs_w9, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_HRS`|`HRS_b_HRS`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local hrs_w10, echo=FALSE}

vbl <- HRS_hrs$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_hrs$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo hrs_w10}

HRS_ds_hrs_w10 <- tibble(id=HRS_hrs$id)


HRS_ds_hrs_w10$grip <- pmax(HRS_hrs$r10lgrip,HRS_hrs$r10rgrip, na.rm=T)
HRS_ds_hrs_w10$grip <- car::recode(HRS_ds_hrs_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript hrs_w10, echo=F}

vbl <- HRS_ds_hrs_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_hrs_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```




### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_HRS`|`HRS_b_HRS`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local hrs_w11, echo=FALSE}

vbl <- HRS_hrs$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_hrs$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_hrs, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo hrs_w11}

HRS_ds_hrs_w11 <- tibble(id=HRS_hrs$id)


HRS_ds_hrs_w11$grip <- pmax(HRS_hrs$r11lgrip,HRS_hrs$r11rgrip, na.rm=T)
HRS_ds_hrs_w11$grip <- car::recode(HRS_ds_hrs_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript hrs_w11, echo=F}

vbl <- HRS_ds_hrs_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_hrs_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```







## Asset and Health Dynamics among the Oldest Old sub-sample (AHEAD)

```{r assign ahead, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_ahead','HRS.HRS_b_AHEAD',variables=list('r7lgrip','r7rgrip','r8lgrip','r8rgrip','r9lgrip','r9rgrip','r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_ahead <- opal.execute(o,'HRS_ahead')

```




### Wave 2

Not found.

### Wave 3

Not found.

### Wave 4

Not found.

### Wave 5

Not found.

### Wave 6

Not found.

### Wave 7

#### Study-specific variable description

| **Name** |`r7lgrip`|`r7rgrip`|
|-|-|-|
| **Label** |`r7lgrip:w7 r maximum left hand grip measurement(kg)`|`r7rgrip:w7 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_AHEAD`|`HRS_b_AHEAD`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ahead_w7, echo=FALSE}

vbl <- HRS_ahead$r7lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r7lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ahead$r7rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r7rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ahead_w7}

HRS_ds_ahead_w7 <- tibble(id=HRS_ahead$id)


HRS_ds_ahead_w7$grip <- pmax(HRS_ahead$r7lgrip,HRS_ahead$r7rgrip, na.rm=T)
HRS_ds_ahead_w7$grip <- car::recode(HRS_ds_ahead_w7$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ahead_w7, echo=F}

vbl <- HRS_ds_ahead_w7$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ahead_w7, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 8


#### Study-specific variable description

| **Name** |`r8lgrip`|`r8rgrip`|
|-|-|-|
| **Label** |`r8lgrip:w8 r maximum left hand grip measurement(kg)`|`r8rgrip:w8 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_AHEAD`|`HRS_b_AHEAD`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ahead_w8, echo=FALSE}

vbl <- HRS_ahead$r8lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r8lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ahead$r8rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r8rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ahead_w8}

HRS_ds_ahead_w8 <- tibble(id=HRS_ahead$id)


HRS_ds_ahead_w8$grip <- pmax(HRS_ahead$r8lgrip,HRS_ahead$r8rgrip, na.rm=T)
HRS_ds_ahead_w8$grip <- car::recode(HRS_ds_ahead_w8$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ahead_w8, echo=F}

vbl <- HRS_ds_ahead_w8$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ahead_w8, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```







### Wave 9


#### Study-specific variable description

| **Name** |`r9lgrip`|`r9rgrip`|
|-|-|-|
| **Label** |`r9lgrip:w9 r maximum left hand grip measurement(kg)`|`r9rgrip:w9 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_AHEAD`|`HRS_b_AHEAD`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ahead_w9, echo=FALSE}

vbl <- HRS_ahead$r9lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r9lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ahead$r9rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r9rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ahead_w9}

HRS_ds_ahead_w9 <- tibble(id=HRS_ahead$id)


HRS_ds_ahead_w9$grip <- pmax(HRS_ahead$r9lgrip,HRS_ahead$r9rgrip, na.rm=T)
HRS_ds_ahead_w9$grip <- car::recode(HRS_ds_ahead_w9$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ahead_w9, echo=F}

vbl <- HRS_ds_ahead_w9$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ahead_w9, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_AHEAD`|`HRS_b_AHEAD`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ahead_w10, echo=FALSE}

vbl <- HRS_ahead$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ahead$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ahead_w10}

HRS_ds_ahead_w10 <- tibble(id=HRS_ahead$id)


HRS_ds_ahead_w10$grip <- pmax(HRS_ahead$r10lgrip,HRS_ahead$r10rgrip, na.rm=T)
HRS_ds_ahead_w10$grip <- car::recode(HRS_ds_ahead_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ahead_w10, echo=F}

vbl <- HRS_ds_ahead_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ahead_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_AHEAD`|`HRS_b_AHEAD`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ahead_w11, echo=FALSE}

vbl <- HRS_ahead$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ahead$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ahead, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ahead_w11}

HRS_ds_ahead_w11 <- tibble(id=HRS_ahead$id)


HRS_ds_ahead_w11$grip <- pmax(HRS_ahead$r11lgrip,HRS_ahead$r11rgrip, na.rm=T)
HRS_ds_ahead_w11$grip <- car::recode(HRS_ds_ahead_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ahead_w11, echo=F}

vbl <- HRS_ds_ahead_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ahead_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```








## The Children of the Depression sub-sample (CODA)


```{r assign coda, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_coda','HRS.HRS_b_CODA',variables=list('r7lgrip','r7rgrip','r8lgrip','r8rgrip','r9lgrip','r9rgrip','r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_coda <- opal.execute(o,'HRS_coda')

```




### Wave 4

Not found.

### Wave 5

Not found.

### Wave 6

Not found.

### Wave 7

#### Study-specific variable description

| **Name** |`r7lgrip`|`r7rgrip`|
|-|-|-|
| **Label** |`r7lgrip:w7 r maximum left hand grip measurement(kg)`|`r7rgrip:w7 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_CODA`|`HRS_b_CODA`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local coda_w7, echo=FALSE}

vbl <- HRS_coda$r7lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r7lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_coda$r7rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r7rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo coda_w7}

HRS_ds_coda_w7 <- tibble(id=HRS_coda$id)


HRS_ds_coda_w7$grip <- pmax(HRS_coda$r7lgrip,HRS_coda$r7rgrip, na.rm=T)
HRS_ds_coda_w7$grip <- car::recode(HRS_ds_coda_w7$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript coda_w7, echo=F}

vbl <- HRS_ds_coda_w7$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_coda_w7, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 8


#### Study-specific variable description

| **Name** |`r8lgrip`|`r8rgrip`|
|-|-|-|
| **Label** |`r8lgrip:w8 r maximum left hand grip measurement(kg)`|`r8rgrip:w8 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_CODA`|`HRS_b_CODA`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local coda_w8, echo=FALSE}

vbl <- HRS_coda$r8lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r8lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_coda$r8rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r8rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo coda_w8}

HRS_ds_coda_w8 <- tibble(id=HRS_coda$id)


HRS_ds_coda_w8$grip <- pmax(HRS_coda$r8lgrip,HRS_coda$r8rgrip, na.rm=T)
HRS_ds_coda_w8$grip <- car::recode(HRS_ds_coda_w8$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript coda_w8, echo=F}

vbl <- HRS_ds_coda_w8$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_coda_w8, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 9


#### Study-specific variable description

| **Name** |`r9lgrip`|`r9rgrip`|
|-|-|-|
| **Label** |`r9lgrip:w9 r maximum left hand grip measurement(kg)`|`r9rgrip:w9 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_CODA`|`HRS_b_CODA`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local coda_w9, echo=FALSE}

vbl <- HRS_coda$r9lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r9lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_coda$r9rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r9rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo coda_w9}

HRS_ds_coda_w9 <- tibble(id=HRS_coda$id)


HRS_ds_coda_w9$grip <- pmax(HRS_coda$r9lgrip,HRS_coda$r9rgrip, na.rm=T)
HRS_ds_coda_w9$grip <- car::recode(HRS_ds_coda_w9$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript coda_w9, echo=F}

vbl <- HRS_ds_coda_w9$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_coda_w9, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_CODA`|`HRS_b_CODA`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local coda_w10, echo=FALSE}

vbl <- HRS_coda$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_coda$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo coda_w10}

HRS_ds_coda_w10 <- tibble(id=HRS_coda$id)


HRS_ds_coda_w10$grip <- pmax(HRS_coda$r10lgrip,HRS_coda$r10rgrip, na.rm=T)
HRS_ds_coda_w10$grip <- car::recode(HRS_ds_coda_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript coda_w10, echo=F}

vbl <- HRS_ds_coda_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_coda_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_CODA`|`HRS_b_CODA`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local coda_w11, echo=FALSE}

vbl <- HRS_coda$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_coda$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_coda, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo coda_w11}

HRS_ds_coda_w11 <- tibble(id=HRS_coda$id)


HRS_ds_coda_w11$grip <- pmax(HRS_coda$r11lgrip,HRS_coda$r11rgrip, na.rm=T)
HRS_ds_coda_w11$grip <- car::recode(HRS_ds_coda_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript coda_w11, echo=F}

vbl <- HRS_ds_coda_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_coda_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```







## The War Baby sub-sample (WB)

```{r assign wb, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_wb','HRS.HRS_b_WB',variables=list('r7lgrip','r7rgrip','r8lgrip','r8rgrip','r9lgrip','r9rgrip','r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_wb <- opal.execute(o,'HRS_wb')

```



### Wave 4

Not found.

### Wave 5

Not found.

### Wave 6

Not found.

### Wave 7

#### Study-specific variable description

| **Name** |`r7lgrip`|`r7rgrip`|
|-|-|-|
| **Label** |`r7lgrip:w7 r maximum left hand grip measurement(kg)`|`r7rgrip:w7 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_WB`|`HRS_b_WB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local wb_w7, echo=FALSE}

vbl <- HRS_wb$r7lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r7lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_wb$r7rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r7rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo wb_w7}

HRS_ds_wb_w7 <- tibble(id=HRS_wb$id)


HRS_ds_wb_w7$grip <- pmax(HRS_wb$r7lgrip,HRS_wb$r7rgrip, na.rm=T)
HRS_ds_wb_w7$grip <- car::recode(HRS_ds_wb_w7$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript wb_w7, echo=F}

vbl <- HRS_ds_wb_w7$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_wb_w7, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 8


#### Study-specific variable description

| **Name** |`r8lgrip`|`r8rgrip`|
|-|-|-|
| **Label** |`r8lgrip:w8 r maximum left hand grip measurement(kg)`|`r8rgrip:w8 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_WB`|`HRS_b_WB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local wb_w8, echo=FALSE}

vbl <- HRS_wb$r8lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r8lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_wb$r8rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r8rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo wb_w8}

HRS_ds_wb_w8 <- tibble(id=HRS_wb$id)


HRS_ds_wb_w8$grip <- pmax(HRS_wb$r8lgrip,HRS_wb$r8rgrip, na.rm=T)
HRS_ds_wb_w8$grip <- car::recode(HRS_ds_wb_w8$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript wb_w8, echo=F}

vbl <- HRS_ds_wb_w8$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_wb_w8, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 9


#### Study-specific variable description

| **Name** |`r9lgrip`|`r9rgrip`|
|-|-|-|
| **Label** |`r9lgrip:w9 r maximum left hand grip measurement(kg)`|`r9rgrip:w9 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_WB`|`HRS_b_WB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local wb_w9, echo=FALSE}

vbl <- HRS_wb$r9lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r9lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_wb$r9rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r9rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo wb_w9}

HRS_ds_wb_w9 <- tibble(id=HRS_wb$id)


HRS_ds_wb_w9$grip <- pmax(HRS_wb$r9lgrip,HRS_wb$r9rgrip, na.rm=T)
HRS_ds_wb_w9$grip <- car::recode(HRS_ds_wb_w9$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript wb_w9, echo=F}

vbl <- HRS_ds_wb_w9$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_wb_w9, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_WB`|`HRS_b_WB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local wb_w10, echo=FALSE}

vbl <- HRS_wb$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_wb$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo wb_w10}

HRS_ds_wb_w10 <- tibble(id=HRS_wb$id)


HRS_ds_wb_w10$grip <- pmax(HRS_wb$r10lgrip,HRS_wb$r10rgrip, na.rm=T)
HRS_ds_wb_w10$grip <- car::recode(HRS_ds_wb_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript wb_w10, echo=F}

vbl <- HRS_ds_wb_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_wb_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_WB`|`HRS_b_WB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local wb_w11, echo=FALSE}

vbl <- HRS_wb$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_wb$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_wb, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo wb_w11}

HRS_ds_wb_w11 <- tibble(id=HRS_wb$id)


HRS_ds_wb_w11$grip <- pmax(HRS_wb$r11lgrip,HRS_wb$r11rgrip, na.rm=T)
HRS_ds_wb_w11$grip <- car::recode(HRS_ds_wb_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript wb_w11, echo=F}

vbl <- HRS_ds_wb_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_wb_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






## The Early Baby Boomer sub-sample (EBB)


```{r assign ebb, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_ebb','HRS.HRS_b_EBB',variables=list('r7lgrip','r7rgrip','r8lgrip','r8rgrip','r9lgrip','r9rgrip','r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_ebb <- opal.execute(o,'HRS_ebb')

```



### Wave 7


#### Study-specific variable description

| **Name** |`r7lgrip`|`r7rgrip`|
|-|-|-|
| **Label** |`r7lgrip:w7 r maximum left hand grip measurement(kg)`|`r7rgrip:w7 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_EBB`|`HRS_b_EBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ebb_w7, echo=FALSE}

vbl <- HRS_ebb$r7lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r7lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ebb$r7rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r7rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ebb_w7}

HRS_ds_ebb_w7 <- tibble(id=HRS_ebb$id)


HRS_ds_ebb_w7$grip <- pmax(HRS_ebb$r7lgrip,HRS_ebb$r7rgrip, na.rm=T)
HRS_ds_ebb_w7$grip <- car::recode(HRS_ds_ebb_w7$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ebb_w7, echo=F}

vbl <- HRS_ds_ebb_w7$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ebb_w7, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 8


#### Study-specific variable description

| **Name** |`r8lgrip`|`r8rgrip`|
|-|-|-|
| **Label** |`r8lgrip:w8 r maximum left hand grip measurement(kg)`|`r8rgrip:w8 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_EBB`|`HRS_b_EBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ebb_w8, echo=FALSE}

vbl <- HRS_ebb$r8lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r8lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ebb$r8rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r8rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ebb_w8}

HRS_ds_ebb_w8 <- tibble(id=HRS_ebb$id)


HRS_ds_ebb_w8$grip <- pmax(HRS_ebb$r8lgrip,HRS_ebb$r8rgrip, na.rm=T)
HRS_ds_ebb_w8$grip <- car::recode(HRS_ds_ebb_w8$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ebb_w8, echo=F}

vbl <- HRS_ds_ebb_w8$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ebb_w8, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```








### Wave 9


#### Study-specific variable description

| **Name** |`r9lgrip`|`r9rgrip`|
|-|-|-|
| **Label** |`r9lgrip:w9 r maximum left hand grip measurement(kg)`|`r9rgrip:w9 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_EBB`|`HRS_b_EBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ebb_w9, echo=FALSE}

vbl <- HRS_ebb$r9lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r9lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ebb$r9rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r9rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ebb_w9}

HRS_ds_ebb_w9 <- tibble(id=HRS_ebb$id)


HRS_ds_ebb_w9$grip <- pmax(HRS_ebb$r9lgrip,HRS_ebb$r9rgrip, na.rm=T)
HRS_ds_ebb_w9$grip <- car::recode(HRS_ds_ebb_w9$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ebb_w9, echo=F}

vbl <- HRS_ds_ebb_w9$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ebb_w9, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```






### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_EBB`|`HRS_b_EBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ebb_w10, echo=FALSE}

vbl <- HRS_ebb$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ebb$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ebb_w10}

HRS_ds_ebb_w10 <- tibble(id=HRS_ebb$id)


HRS_ds_ebb_w10$grip <- pmax(HRS_ebb$r10lgrip,HRS_ebb$r10rgrip, na.rm=T)
HRS_ds_ebb_w10$grip <- car::recode(HRS_ds_ebb_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ebb_w10, echo=F}

vbl <- HRS_ds_ebb_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ebb_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_EBB`|`HRS_b_EBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local ebb_w11, echo=FALSE}

vbl <- HRS_ebb$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_ebb$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_ebb, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo ebb_w11}

HRS_ds_ebb_w11 <- tibble(id=HRS_ebb$id)


HRS_ds_ebb_w11$grip <- pmax(HRS_ebb$r11lgrip,HRS_ebb$r11rgrip, na.rm=T)
HRS_ds_ebb_w11$grip <- car::recode(HRS_ds_ebb_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript ebb_w11, echo=F}

vbl <- HRS_ds_ebb_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_ebb_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```







## The Mid Baby Boomer sub-sample (MBB)


```{r assign mbb, echo=FALSE}

opal.assign.table.tibble(o, 'HRS_mbb','HRS.HRS_b_MBB',variables=list('r10lgrip','r10rgrip','r11lgrip','r11rgrip'), missings = TRUE)
HRS_mbb <- opal.execute(o,'HRS_mbb')

```



### Wave 10


#### Study-specific variable description

| **Name** |`r10lgrip`|`r10rgrip`|
|-|-|-|
| **Label** |`r10lgrip:w10 r maximum left hand grip measurement(kg)`|`r10rgrip:w10 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_MBB`|`HRS_b_MBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local mbb_w10, echo=FALSE}

vbl <- HRS_mbb$r10lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_mbb, aes(r10lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_mbb$r10rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_mbb, aes(r10rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo mbb_w10}

HRS_ds_mbb_w10 <- tibble(id=HRS_mbb$id)


HRS_ds_mbb_w10$grip <- pmax(HRS_mbb$r10lgrip,HRS_mbb$r10rgrip, na.rm=T)
HRS_ds_mbb_w10$grip <- car::recode(HRS_ds_mbb_w10$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript mbb_w10, echo=F}

vbl <- HRS_ds_mbb_w10$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_mbb_w10, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```





### Wave 11


#### Study-specific variable description

| **Name** |`r11lgrip`|`r11rgrip`|
|-|-|-|
| **Label** |`r11lgrip:w11 r maximum left hand grip measurement(kg)`|`r11rgrip:w11 r maximum right hand grip measurement(kg)`|
| **Table name** |`HRS_b_MBB`|`HRS_b_MBB`|
| **Units** |`kg`|`kg`|
| **Description** |  |  |


```{r local mbb_w11, echo=FALSE}

vbl <- HRS_mbb$r11lgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_mbb, aes(r11lgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

vbl <- HRS_mbb$r11rgrip
kable(Continuous_summary(vbl, missing_values = NA)[3], caption = attributes(vbl)$`spss::shortName`)
pander(Continuous_summary(vbl, missing_values = NA)$summary, caption = "Summary")
ggplot(HRS_mbb, aes(r11rgrip)) + geom_histogram(stat="count", fill="steelblue") + xlab(label(vbl)) + ylab("Frequency")

```

#### Harmonisation algorithm

To compute the harmonised variable `grip` from the study-specific variables, they have to be recoded as follows:


* `The highest score of the two measurements regardless of hand dominance`


* `NA into 999`

**R script:**

```{r harmo mbb_w11}

HRS_ds_mbb_w11 <- tibble(id=HRS_mbb$id)


HRS_ds_mbb_w11$grip <- pmax(HRS_mbb$r11lgrip,HRS_mbb$r11rgrip, na.rm=T)
HRS_ds_mbb_w11$grip <- car::recode(HRS_ds_mbb_w11$grip, "NA = 999")






```


#### Statistical description of the new harmonised variable

```{r descript mbb_w11, echo=F}

vbl <- HRS_ds_mbb_w11$grip
kable(Continuous_summary(var = vbl, missing_values = miss_values_vector)[3], caption = ds_label)
kable(Continuous_summary(vbl, missing_values = miss_values_vector)[2], caption = "Values")
pander(Continuous_summary(vbl, missing_values = miss_values_vector)$summary, caption = "Summary")
ggplot(HRS_ds_mbb_w11, aes(grip)) + geom_bar(stat="count", width=0.4, fill="steelblue", data = .%>% filter(!vbl %in% miss_values_vector)) + xlab(ds_label) + ylab("Frequency")







```














## Summary of descriptive statistics of the harmonised variable accross populations and waves

```{r helpfunctions, echo=F}

labelling <- function(l.hds,m.hds){
  
  # Labelling of the tibbles with continuous data and creating new tibbles with all missings recodified as NA

  for(name in names(l.hds)) {
    # In the aux_object we copy the old tibble to recodify all missing values as NA.
    aux_object <- l.hds[[name]]
    # Labelling of variables
    label(l.hds[[name]][[2]]) <- label(aux_object[[2]]) <- ds_label
    # Labelling of categories (for continues variables, only missing values)
    l.hds[[name]][[2]] <- labelled(l.hds[[name]][[2]], labels = cont_label)
    aux_object[[2]] <- car::recode(aux_object[[2]], "miss_values_vector=NA")
    # Saving the recodified tibble in list m.hds
    m.hds[[name]] <- aux_object
    rm(aux_object)
  }
  return(list(l.hds,m.hds))

}

# Creation of summary tables for continuous data

summaries <- function(l.hds,m.hds,lnames){

  # Creation of column with summary table categories
  t.summ <- summary(m.hds[[1]][2])[1:6]
  # Adding of missing/no-missing values categories
  t.hds <- c(substr(t.summ,1,regexpr(":", t.summ, fixed=T)-1),labels(Continuous_summary(l.hds[[1]][[2]],missing_values = miss_values_vector)$values_table)[[2]])
  # For each wave/population in l.hds, add the correponding values
  for (i in seq_along(l.hds)){
    # First, summary values
    t.summ <- summary(m.hds[[i]][2])[1:6]
    # Next, missing/no-missing values
    t.hds <- cbind(t.hds,c(as.numeric(substr(t.summ,regexpr(":", t.summ, fixed=T)+1,nchar(t.summ))),as.numeric(Continuous_summary(l.hds[[i]][[2]],missing_values = miss_values_vector)$values_table[1,])))
  }
  # Add sample size for each wave/population
  t.hds <- rbind(t.hds,c("sample size", sapply(l.hds,function(wave) length(wave[[1]]))))
  # Add wave/population names
  dimnames(t.hds)[[2]] <- c(dimnames(summary(m.hds[[1]][2]))[[2]],lnames)
  return(t.hds)
  
}

# Save data tables

savingRD <- function(l.hds,vbl_name){

  for(index in seq_along(l.hds)){
    assign(vbl_name,l.hds[[index]])
    save(vbl_name,list = vbl_name, file = paste0(datafolder,names(l.hds)[index],"/",vbl_name,".RData"))
  }

}

```




```{r summ, echo=F}

# All study waves and populations with abbreviated and descriptive names


hrs.hrs.cw <- list(hrs_w1 = c("hrs_w1","HRS w1"), hrs_w2 = c("hrs_w2","HRS w2"), hrs_w3 = c("hrs_w3","HRS w3"), hrs_w4 = c("hrs_w4","HRS w4"), hrs_w5 = c("hrs_w5","HRS w5"), hrs_w6 = c("hrs_w6","HRS w6"), hrs_w7 = c("hrs_w7","HRS w7"), hrs_w8 = c("hrs_w8","HRS w8"), hrs_w9 = c("hrs_w9","HRS w9"), hrs_w10 = c("hrs_w10","HRS w10"), hrs_w11 = c("hrs_w11","HRS w11"))

hrs.ahead.cw <- list(ahead_w2 = c("ahead_w2","AHEAD w2"), ahead_w3 = c("ahead_w3","AHEAD w3"), ahead_w4 = c("ahead_w4","AHEAD w4"), ahead_w5 = c("ahead_w5","AHEAD w5"), ahead_w6 = c("ahead_w6","AHEAD w6"), ahead_w7 = c("ahead_w7","AHEAD w7"), ahead_w8 = c("ahead_w8","AHEAD w8"), ahead_w9 = c("ahead_w9","AHEAD w9"), ahead_w10 = c("ahead_w10","AHEAD w10"), ahead_w11 = c("ahead_w11","AHEAD w11"))

hrs.coda.cw <- list(coda_w4 = c("coda_w4","CODA w4"), coda_w5 = c("coda_w5","CODA w5"), coda_w6 = c("coda_w6","CODA w6"), coda_w7 = c("coda_w7","CODA w7"), coda_w8 = c("coda_w8","CODA w8"), coda_w9 = c("coda_w9","CODA w9"), coda_w10 = c("coda_w10","CODA w10"), coda_w11 = c("coda_w11","CODA w11"))

hrs.wb.cw <- list(wb_w4 = c("wb_w4","WB w4"), wb_w5 = c("wb_w5","WB w5"), wb_w6 = c("wb_w6","WB w6"), wb_w7 = c("wb_w7","WB w7"), wb_w8 = c("wb_w8","WB w8"), wb_w9 = c("wb_w9","WB w9"), wb_w10 = c("wb_w10","WB w10"), wb_w11 = c("wb_w11","WB w11"))

hrs.ebb.cw <- list(ebb_w7 = c("ebb_w7","EBB w7"), ebb_w8 = c("ebb_w8","EBB w8"), ebb_w9 = c("ebb_w9","EBB w9"), ebb_w10 = c("ebb_w10","EBB w10"), ebb_w11 = c("ebb_w11","EBB w11"))

hrs.mbb.cw <- list(mbb_w10 = c("mbb_w10","MBB w10"), mbb_w11 = c("mbb_w11","MBB w11"))



# HRS

# Consider only harmonised waves
l.hds <- lapply(hrs.hrs.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)

if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing summaries
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}






# AHEAD

# Consider only harmonised waves
l.hds <- lapply(hrs.ahead.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)


if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing summaries
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}








# CODA

# Consider only harmonised waves
l.hds <- lapply(hrs.coda.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)

if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing table of categories
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}





# WB

# Consider only harmonised waves
l.hds <- lapply(hrs.wb.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)

if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing table of categories
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}





# EBB

# Consider only harmonised waves
l.hds <- lapply(hrs.ebb.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)

if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing table of categories
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}




# MBB

# Consider only harmonised waves
l.hds <- lapply(hrs.mbb.cw, function(wname) if(exists(paste0("HRS_ds_",wname[1]))){wname = list(get(paste0("HRS_ds_",wname[1])),wname[2])})
nullw <- which(sapply(l.hds, is.null))

if(length(nullw)!=0){
  l.hds <- l.hds[-nullw]
}

m.hds <- list()

lmlist <- list(lapply(l.hds,function(x)x[[1]]),m.hds)

if(length(l.hds)>0){
  # Labelling tibbles
  lmlist <- labelling(lmlist[[1]],lmlist[[2]])
  # Printing table of categories
  print(knitr::kable(summaries(lmlist[[1]],lmlist[[2]],lapply(l.hds,function(x)x[[2]])),caption=ds_label))
  # Saving tibbles
  savingRD(lmlist[[1]],vbl_name=hd_vbl)
}




```





# Quality estimation

The high amount of missing values is due to the fact that this test was given to a random subsample of respondents.

Indeed, from documentation:

> The HRS administered a set of 5 physical measures in 2004, which was only given to a random subsample of approximately 3,300 respondents. While all members of this sample were given the breathing and hand strength tests, smaller subsamples were given varying combinations of the walking test, and height and weight measurements.

Also:

> In 2004, HRS administered a set of physical measures to a random subsample of about 3,300 respondents. In 2006, this effort was expanded in terms of both the size of the sample covered and the measurements that were conducted.

> Beginning in 2006, a random one-half of the sample was pre-selected to complete an enhanced face-to-face interview, including the performance of the physical measures and collection of the biomarker measurements. This sample was selected at a household-level, and the request for these measures were made to the respondent and to their partner or spouse if applicable. Respondents who were selected for the enhanced face-to-face interview but who resided in a nursing home, were interviewed by proxy, or declined a face-to-face interview in place of a telephone interview were not asked to complete the physical measures or biomarkers. For those selected for an enhanced face-to-face interview, a consent form was administered by the interviewer. As a result of this sampling strategy, those not selected for an enhanced face-toface interview, those residing in a nursing home, those interviewed by proxy, those who selected a phone interview, and those who refused to consent were not asked to complete the physical measures and biomarker measurements, and are assigned a special missing .s for these variables.

>Those who did consent to this portion of the interview were asked to perform the following standardized physical measures: lung function, grip strength, balance tests, and walking speed. Additionally, the following biomarker measurements were taken: blood pressure, height, weight, and waist circumference. These measurements were completed in the following order: blood pressure, lung function, handgrip strength, balance tests, timed walk, height, weight, and waist circumference. If the respondent attempted the measure but failed to complete it, then a special missing .x is assigned for that measure. If the respondent did not attempt the measure due to safety concerns in the performance of the test, then a special missing .n is assigned for that measure.







```{r closeRsession, echo=FALSE}
opal.logout(o)
```
