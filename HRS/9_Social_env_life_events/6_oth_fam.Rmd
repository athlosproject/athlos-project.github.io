---
title: "Has other (living) family members (e.g. parents, siblings, in-laws, etc.)"
output:
  html_document:
    highlight: tango
    number_sections: yes
    theme: united
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
      smooth_scroll: yes
---

<!-- ########################################################## --> 

<!-- # Installation, loading packages -->
<!-- **R script:** -->

```{r setup, include=FALSE}
source("../../setup_iago.r")
```
<!-- # Loading DS description -->
```{r main, child='../../_DS_Rmd/oth_famDS.Rmd'}
```
```{r global, echo=F}
source('../../_DS_Rmd/oth_famDS.R')
```

<!-- ########################################################## --> 





<!-- ########################################################## --> 

# Data process

## HRS

### Wave 1 

#### Study-specific variable description



| **Name** | `R1LIVSIB`|
|-|-|
| **Label** |`R1LIVSIB:W1 Number of living siblings`|
| **Table name** |`HRS-HRS-w1`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S1LIVSIB`|
|-|-|
| **Label** |`S1LIVSIB:W1 Number of living siblings`|
| **Table name** |`HRS-HRS-w1`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R1LIVPAR`|
|-|-|
| **Label** |`R1LIVPAR:W1 Number of living parents`|
| **Table name** |`HRS-HRS-w1`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S1LIVPAR`|
|-|-|
| **Label** |`S1LIVPAR:W1 Number of living parents`|
| **Table name** |`HRS-HRS-w1`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign1 hrs, echo=F}

opal.assign.table.tibble(o, 'HRS_hrs_w1_oth_fam','HRS.HRS-HRS-w1', 
                        variables=list('R1LIVSIB','S1LIVSIB','R1LIVPAR','S1LIVPAR'), missings = TRUE)
HRS_hrs_w1_oth_fam <- opal.execute(o,'HRS_hrs_w1_oth_fam')

```

```{r local1 hrs, echo=F}

vari <- HRS_hrs_w1_oth_fam$R1LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w1_oth_fam$R1LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w1_oth_fam, aes(x=factor(R1LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w1_oth_fam$S1LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w1_oth_fam$S1LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w1_oth_fam, aes(x=factor(S1LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w1_oth_fam$R1LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w1_oth_fam$R1LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w1_oth_fam, aes(x=factor(R1LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_hrs_w1_oth_fam$S1LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w1_oth_fam$S1LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w1_oth_fam, aes(x=factor(S1LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo1 hrs, echo=TRUE}
HRS_ds_hrs_w1 <- tibble(id=HRS_hrs_w1_oth_fam$id)

HRS_hrs_w1_oth_fam$R1LIVSIB <- car::recode(as.vector(HRS_hrs_w1_oth_fam$R1LIVSIB), "NA='-999'")
HRS_hrs_w1_oth_fam$S1LIVSIB <- car::recode(as.vector(HRS_hrs_w1_oth_fam$S1LIVSIB), "NA='-999'")
HRS_hrs_w1_oth_fam$R1LIVPAR <- car::recode(as.vector(HRS_hrs_w1_oth_fam$R1LIVPAR), "NA='-999'")
HRS_hrs_w1_oth_fam$S1LIVPAR <- car::recode(as.vector(HRS_hrs_w1_oth_fam$S1LIVPAR), "NA='-999'")

HRS_ds_hrs_w1$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w1_oth_fam)[1]){
  if( HRS_hrs_w1_oth_fam$R1LIVSIB[i] > 0 | HRS_hrs_w1_oth_fam$S1LIVSIB[i] > 0 |
      HRS_hrs_w1_oth_fam$R1LIVPAR[i] > 0 | HRS_hrs_w1_oth_fam$S1LIVPAR[i] > 0 ){
    HRS_ds_hrs_w1$oth_fam[i] = 1 }
  else if( HRS_hrs_w1_oth_fam$R1LIVSIB[i] == 0 & HRS_hrs_w1_oth_fam$S1LIVSIB[i] %in% c(0,-999) &
      HRS_hrs_w1_oth_fam$R1LIVPAR[i] == 0 & HRS_hrs_w1_oth_fam$S1LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w1$oth_fam[i] = 0 }
}

HRS_ds_hrs_w1$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w1$oth_fam), "NA='999'")
HRS_ds_hrs_w1$oth_fam <- labelled(HRS_ds_hrs_w1$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript1 hrs, echo=F}
vari <- HRS_ds_hrs_w1$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w1$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w1, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation1 hrs, echo=F}

```

 
 



### Wave 2 

#### Study-specific variable description


  
| **Name** | `R2LIVSIB`|
|-|-|
| **Label** |`R2LIVSIB:W2 Number of living siblings`|
| **Table name** |`HRS-HRS-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S2LIVSIB`|
|-|-|
| **Label** |`S2LIVSIB:W2 Number of living siblings`|
| **Table name** |`HRS-HRS-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R2LIVPAR`|
|-|-|
| **Label** |`R2LIVPAR:W2 Number of living parents`|
| **Table name** |`HRS-HRS-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S2LIVPAR`|
|-|-|
| **Label** |`S2LIVPAR:W2 Number of living parents`|
| **Table name** |`HRS-HRS-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign2 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w2_oth_fam','HRS.HRS-HRS-w2', 
                         variables=list('R2LIVSIB','S2LIVSIB','R2LIVPAR','S2LIVPAR'), missings = TRUE)
```

```{r local2 hrs, echo=F}
HRS_hrs_w2_oth_fam <- opal.execute(o,'HRS_hrs_w2_oth_fam')

vari <- HRS_hrs_w2_oth_fam$R2LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w2_oth_fam$R2LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w2_oth_fam, aes(x=factor(R2LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w2_oth_fam$S2LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w2_oth_fam$S2LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w2_oth_fam, aes(x=factor(S2LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w2_oth_fam$R2LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w2_oth_fam$R2LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w2_oth_fam, aes(x=factor(R2LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_hrs_w2_oth_fam$S2LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w2_oth_fam$S2LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w2_oth_fam, aes(x=factor(S2LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo2 hrs, echo=TRUE}
HRS_ds_hrs_w2 <- tibble(id=HRS_hrs_w2_oth_fam$id)

HRS_hrs_w2_oth_fam$R2LIVSIB <- car::recode(as.vector(HRS_hrs_w2_oth_fam$R2LIVSIB), "NA='-999'")
HRS_hrs_w2_oth_fam$S2LIVSIB <- car::recode(as.vector(HRS_hrs_w2_oth_fam$S2LIVSIB), "NA='-999'")
HRS_hrs_w2_oth_fam$R2LIVPAR <- car::recode(as.vector(HRS_hrs_w2_oth_fam$R2LIVPAR), "NA='-999'")
HRS_hrs_w2_oth_fam$S2LIVPAR <- car::recode(as.vector(HRS_hrs_w2_oth_fam$S2LIVPAR), "NA='-999'")

HRS_ds_hrs_w2$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w2_oth_fam)[1]){
  if( HRS_hrs_w2_oth_fam$R2LIVSIB[i] >0 | HRS_hrs_w2_oth_fam$S2LIVSIB[i] > 0 |
      HRS_hrs_w2_oth_fam$R2LIVPAR[i] >0 | HRS_hrs_w2_oth_fam$S2LIVPAR[i] > 0 ){
    HRS_ds_hrs_w2$oth_fam[i] = 1 }
  else if( HRS_hrs_w2_oth_fam$R2LIVSIB[i]== 0 & HRS_hrs_w2_oth_fam$S2LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w2_oth_fam$R2LIVPAR[i]== 0 & HRS_hrs_w2_oth_fam$S2LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w2$oth_fam[i] = 0 }
}

HRS_ds_hrs_w2$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w2$oth_fam), "NA='999'")
HRS_ds_hrs_w2$oth_fam <- labelled(HRS_ds_hrs_w2$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript2 hrs, echo=F}
vari <- HRS_ds_hrs_w2$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w2$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w2, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation2 hrs, echo=F}

```

 
 



### Wave 3

#### Study-specific variable description


  
| **Name** | `R3LIVSIB`|
|-|-|
| **Label** |`R3LIVSIB:W3 Number of living siblings`|
| **Table name** |`HRS-HRS-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S3LIVSIB`|
|-|-|
| **Label** |`S3LIVSIB:W3 Number of living siblings`|
| **Table name** |`HRS-HRS-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R3LIVPAR`|
|-|-|
| **Label** |`R3LIVPAR:W3 Number of living parents`|
| **Table name** |`HRS-HRS-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S3LIVPAR`|
|-|-|
| **Label** |`S3LIVPAR:W3 Number of living parents`|
| **Table name** |`HRS-HRS-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign3 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w3_oth_fam','HRS.HRS-HRS-w3', 
                         variables=list('R3LIVSIB','S3LIVSIB','R3LIVPAR','S3LIVPAR'), missings = TRUE)
```

```{r local3 hrs, echo=F}
HRS_hrs_w3_oth_fam <- opal.execute(o,'HRS_hrs_w3_oth_fam')

vari <- HRS_hrs_w3_oth_fam$R3LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w3_oth_fam$R3LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w3_oth_fam, aes(x=factor(R3LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w3_oth_fam$S3LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w3_oth_fam$S3LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w3_oth_fam, aes(x=factor(S3LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w3_oth_fam$R3LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w3_oth_fam$R3LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w3_oth_fam, aes(x=factor(R3LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_hrs_w3_oth_fam$S3LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w3_oth_fam$S3LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w3_oth_fam, aes(x=factor(S3LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo3 hrs, echo=TRUE}
HRS_ds_hrs_w3 <- tibble(id=HRS_hrs_w3_oth_fam$id)

HRS_hrs_w3_oth_fam$R3LIVSIB <- car::recode(as.vector(HRS_hrs_w3_oth_fam$R3LIVSIB), "NA='-999'")
HRS_hrs_w3_oth_fam$S3LIVSIB <- car::recode(as.vector(HRS_hrs_w3_oth_fam$S3LIVSIB), "NA='-999'")
HRS_hrs_w3_oth_fam$R3LIVPAR <- car::recode(as.vector(HRS_hrs_w3_oth_fam$R3LIVPAR), "NA='-999'")
HRS_hrs_w3_oth_fam$S3LIVPAR <- car::recode(as.vector(HRS_hrs_w3_oth_fam$S3LIVPAR), "NA='-999'")

HRS_ds_hrs_w3$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w3_oth_fam)[1]){
  if( HRS_hrs_w3_oth_fam$R3LIVSIB[i] >0 | HRS_hrs_w3_oth_fam$S3LIVSIB[i] >0 |
      HRS_hrs_w3_oth_fam$R3LIVPAR[i] >0 | HRS_hrs_w3_oth_fam$S3LIVPAR[i] > 0 ){
    HRS_ds_hrs_w3$oth_fam[i] = 1 }
  else if( HRS_hrs_w3_oth_fam$R3LIVSIB[i]== 0 & HRS_hrs_w3_oth_fam$S3LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w3_oth_fam$R3LIVPAR[i]== 0 & HRS_hrs_w3_oth_fam$S3LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w3$oth_fam[i] = 0 }
}

HRS_ds_hrs_w3$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w3$oth_fam), "NA='999'")
HRS_ds_hrs_w3$oth_fam <- labelled(HRS_ds_hrs_w3$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript3 hrs, echo=F}
vari <- HRS_ds_hrs_w3$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w3$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w3, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation3 hrs, echo=F}

```

 
 



### Wave 4

#### Study-specific variable description


  
| **Name** | `R4LIVSIB`|
|-|-|
| **Label** |`R4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-HRS-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVSIB`|
|-|-|
| **Label** |`S4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-HRS-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R4LIVPAR`|
|-|-|
| **Label** |`R4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-HRS-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVPAR`|
|-|-|
| **Label** |`S4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-HRS-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign4 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w4_oth_fam','HRS.HRS-HRS-w4', 
                         variables=list('R4LIVSIB','S4LIVSIB','R4LIVPAR','S4LIVPAR'), missings = TRUE)
```

```{r local4 hrs, echo=F}
HRS_hrs_w4_oth_fam <- opal.execute(o,'HRS_hrs_w4_oth_fam')

vari <- HRS_hrs_w4_oth_fam$R4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w4_oth_fam$R4LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w4_oth_fam, aes(x=factor(R4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w4_oth_fam$S4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w4_oth_fam$S4LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w4_oth_fam, aes(x=factor(S4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_hrs_w4_oth_fam$R4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w4_oth_fam$R4LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w4_oth_fam, aes(x=factor(R4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_hrs_w4_oth_fam$S4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w4_oth_fam$S4LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w4_oth_fam, aes(x=factor(S4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo4 hrs, echo=TRUE}
HRS_ds_hrs_w4 <- tibble(id=HRS_hrs_w4_oth_fam$id)

HRS_hrs_w4_oth_fam$R4LIVSIB <- car::recode(as.vector(HRS_hrs_w4_oth_fam$R4LIVSIB), "NA='-999'")
HRS_hrs_w4_oth_fam$S4LIVSIB <- car::recode(as.vector(HRS_hrs_w4_oth_fam$S4LIVSIB), "NA='-999'")
HRS_hrs_w4_oth_fam$R4LIVPAR <- car::recode(as.vector(HRS_hrs_w4_oth_fam$R4LIVPAR), "NA='-999'")
HRS_hrs_w4_oth_fam$S4LIVPAR <- car::recode(as.vector(HRS_hrs_w4_oth_fam$S4LIVPAR), "NA='-999'")

HRS_ds_hrs_w4$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w4_oth_fam)[1]){
  if( HRS_hrs_w4_oth_fam$R4LIVSIB[i] >0 | HRS_hrs_w4_oth_fam$S4LIVSIB[i] >0 |
      HRS_hrs_w4_oth_fam$R4LIVPAR[i] >0 | HRS_hrs_w4_oth_fam$S4LIVPAR[i] > 0 ){
    HRS_ds_hrs_w4$oth_fam[i] = 1 }
  else if( HRS_hrs_w4_oth_fam$R4LIVSIB[i]== 0 & HRS_hrs_w4_oth_fam$S4LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w4_oth_fam$R4LIVPAR[i]== 0 & HRS_hrs_w4_oth_fam$S4LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w4$oth_fam[i] = 0 }
}

HRS_ds_hrs_w4$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w4$oth_fam), "NA='999'")
HRS_ds_hrs_w4$oth_fam <- labelled(HRS_ds_hrs_w4$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 hrs, echo=F}
vari <- HRS_ds_hrs_w4$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w4$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w4, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation4 hrs, echo=F}

```

 
 



### Wave 5

#### Study-specific variable description


  
| **Name** | `R5LIVSIB`|
|-|-|
| **Label** |`R5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-HRS-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVSIB`|
|-|-|
| **Label** |`S5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-HRS-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R5LIVPAR`|
|-|-|
| **Label** |`R5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-HRS-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVPAR`|
|-|-|
| **Label** |`S5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-HRS-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign5 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w5_oth_fam','HRS.HRS-HRS-w5', 
                         variables=list('R5LIVSIB','S5LIVSIB','R5LIVPAR','S5LIVPAR'), missings = TRUE)
```

```{r local5 hrs, echo=F}
HRS_hrs_w5_oth_fam <- opal.execute(o,'HRS_hrs_w5_oth_fam')

vari <- HRS_hrs_w5_oth_fam$R5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w5_oth_fam$R5LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w5_oth_fam, aes(x=factor(R5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w5_oth_fam$S5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w5_oth_fam$S5LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w5_oth_fam, aes(x=factor(S5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w5_oth_fam$R5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w5_oth_fam$R5LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w5_oth_fam, aes(x=factor(R5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w5_oth_fam$S5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w5_oth_fam$S5LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w5_oth_fam, aes(x=factor(S5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo5 hrs, echo=TRUE}
HRS_ds_hrs_w5 <- tibble(id=HRS_hrs_w5_oth_fam$id)

HRS_hrs_w5_oth_fam$R5LIVSIB <- car::recode(as.vector(HRS_hrs_w5_oth_fam$R5LIVSIB), "NA='-999'")
HRS_hrs_w5_oth_fam$S5LIVSIB <- car::recode(as.vector(HRS_hrs_w5_oth_fam$S5LIVSIB), "NA='-999'")
HRS_hrs_w5_oth_fam$R5LIVPAR <- car::recode(as.vector(HRS_hrs_w5_oth_fam$R5LIVPAR), "NA='-999'")
HRS_hrs_w5_oth_fam$S5LIVPAR <- car::recode(as.vector(HRS_hrs_w5_oth_fam$S5LIVPAR), "NA='-999'")

HRS_ds_hrs_w5$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w5_oth_fam)[1]){
  if( HRS_hrs_w5_oth_fam$R5LIVSIB[i] >0 | HRS_hrs_w5_oth_fam$S5LIVSIB[i] > 0 |
      HRS_hrs_w5_oth_fam$R5LIVPAR[i] >0 | HRS_hrs_w5_oth_fam$S5LIVPAR[i] > 0 ){
    HRS_ds_hrs_w5$oth_fam[i] = 1 }
  else if( HRS_hrs_w5_oth_fam$R5LIVSIB[i]== 0 & HRS_hrs_w5_oth_fam$S5LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w5_oth_fam$R5LIVPAR[i]== 0 & HRS_hrs_w5_oth_fam$S5LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w5$oth_fam[i] = 0 }
}

HRS_ds_hrs_w5$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w5$oth_fam), "NA='999'")
HRS_ds_hrs_w5$oth_fam <- labelled(HRS_ds_hrs_w5$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 hrs, echo=F}
vari <- HRS_ds_hrs_w5$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w5$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w5, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation5 hrs, echo=F}

```

 
 



### Wave 6

#### Study-specific variable description


  
| **Name** | `R6LIVSIB`|
|-|-|
| **Label** |`R6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-HRS-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVSIB`|
|-|-|
| **Label** |`S6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-HRS-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R6LIVPAR`|
|-|-|
| **Label** |`R6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-HRS-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVPAR`|
|-|-|
| **Label** |`S6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-HRS-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign6 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w6_oth_fam','HRS.HRS-HRS-w6', 
                         variables=list('R6LIVSIB','S6LIVSIB','R6LIVPAR','S6LIVPAR'), missings = TRUE)
```

```{r local6 hrs, echo=F}
HRS_hrs_w6_oth_fam <- opal.execute(o,'HRS_hrs_w6_oth_fam')

vari <- HRS_hrs_w6_oth_fam$R6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w6_oth_fam$R6LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w6_oth_fam, aes(x=factor(R6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w6_oth_fam$S6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w6_oth_fam$S6LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w6_oth_fam, aes(x=factor(S6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w6_oth_fam$R6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w6_oth_fam$R6LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w6_oth_fam, aes(x=factor(R6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w6_oth_fam$S6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w6_oth_fam$S6LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w6_oth_fam, aes(x=factor(S6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo6 hrs, echo=TRUE}
HRS_ds_hrs_w6 <- tibble(id=HRS_hrs_w6_oth_fam$id)

HRS_hrs_w6_oth_fam$R6LIVSIB <- car::recode(as.vector(HRS_hrs_w6_oth_fam$R6LIVSIB), "NA='-999'")
HRS_hrs_w6_oth_fam$S6LIVSIB <- car::recode(as.vector(HRS_hrs_w6_oth_fam$S6LIVSIB), "NA='-999'")
HRS_hrs_w6_oth_fam$R6LIVPAR <- car::recode(as.vector(HRS_hrs_w6_oth_fam$R6LIVPAR), "NA='-999'")
HRS_hrs_w6_oth_fam$S6LIVPAR <- car::recode(as.vector(HRS_hrs_w6_oth_fam$S6LIVPAR), "NA='-999'")

HRS_ds_hrs_w6$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w6_oth_fam)[1]){
  if( HRS_hrs_w6_oth_fam$R6LIVSIB[i] >0 | HRS_hrs_w6_oth_fam$S6LIVSIB[i] > 0 |
      HRS_hrs_w6_oth_fam$R6LIVPAR[i] >0 | HRS_hrs_w6_oth_fam$S6LIVPAR[i] > 0 ){
    HRS_ds_hrs_w6$oth_fam[i] = 1 }
  else if( HRS_hrs_w6_oth_fam$R6LIVSIB[i]== 0 & HRS_hrs_w6_oth_fam$S6LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w6_oth_fam$R6LIVPAR[i]== 0 & HRS_hrs_w6_oth_fam$S6LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w6$oth_fam[i] = 0 }
}

HRS_ds_hrs_w6$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w6$oth_fam), "NA='999'")
HRS_ds_hrs_w6$oth_fam <- labelled(HRS_ds_hrs_w6$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 hrs, echo=F}
vari <- HRS_ds_hrs_w6$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w6$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w6, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 hrs, echo=F}

```

 
 



### Wave 7

#### Study-specific variable description


  
| **Name** | `R7LIVSIB`|
|-|-|
| **Label** |`R7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-HRS-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVSIB`|
|-|-|
| **Label** |`S7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-HRS-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R7LIVPAR`|
|-|-|
| **Label** |`R7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-HRS-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVPAR`|
|-|-|
| **Label** |`S7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-HRS-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign7 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w7_oth_fam','HRS.HRS-HRS-w7', 
                         variables=list('R7LIVSIB','S7LIVSIB','R7LIVPAR','S7LIVPAR'), missings = TRUE)
```

```{r local7 hrs, echo=F}
HRS_hrs_w7_oth_fam <- opal.execute(o,'HRS_hrs_w7_oth_fam')

vari <- HRS_hrs_w7_oth_fam$R7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w7_oth_fam$R7LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w7_oth_fam, aes(x=factor(R7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w7_oth_fam$S7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w7_oth_fam$S7LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w7_oth_fam, aes(x=factor(S7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w7_oth_fam$R7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w7_oth_fam$R7LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w7_oth_fam, aes(x=factor(R7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w7_oth_fam$S7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w7_oth_fam$S7LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w7_oth_fam, aes(x=factor(S7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo7 hrs, echo=TRUE}
HRS_ds_hrs_w7 <- tibble(id=HRS_hrs_w7_oth_fam$id)

HRS_hrs_w7_oth_fam$R7LIVSIB <- car::recode(as.vector(HRS_hrs_w7_oth_fam$R7LIVSIB), "NA='-999'")
HRS_hrs_w7_oth_fam$S7LIVSIB <- car::recode(as.vector(HRS_hrs_w7_oth_fam$S7LIVSIB), "NA='-999'")
HRS_hrs_w7_oth_fam$R7LIVPAR <- car::recode(as.vector(HRS_hrs_w7_oth_fam$R7LIVPAR), "NA='-999'")
HRS_hrs_w7_oth_fam$S7LIVPAR <- car::recode(as.vector(HRS_hrs_w7_oth_fam$S7LIVPAR), "NA='-999'")

HRS_ds_hrs_w7$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w7_oth_fam)[1]){
  if( HRS_hrs_w7_oth_fam$R7LIVSIB[i] >0 | HRS_hrs_w7_oth_fam$S7LIVSIB[i] > 0 |
      HRS_hrs_w7_oth_fam$R7LIVPAR[i] >0 | HRS_hrs_w7_oth_fam$S7LIVPAR[i] > 0 ){
    HRS_ds_hrs_w7$oth_fam[i] = 1 }
  else if( HRS_hrs_w7_oth_fam$R7LIVSIB[i]== 0 & HRS_hrs_w7_oth_fam$S7LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w7_oth_fam$R7LIVPAR[i]== 0 & HRS_hrs_w7_oth_fam$S7LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w7$oth_fam[i] = 0 }
}

HRS_ds_hrs_w7$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w7$oth_fam), "NA='999'")
HRS_ds_hrs_w7$oth_fam <- labelled(HRS_ds_hrs_w7$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 hrs, echo=F}
vari <- HRS_ds_hrs_w7$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w7$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w7, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 hrs, echo=F}

```

 
 



### Wave 8

#### Study-specific variable description


  
| **Name** | `R8LIVSIB`|
|-|-|
| **Label** |`R8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-HRS-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVSIB`|
|-|-|
| **Label** |`S8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-HRS-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R8LIVPAR`|
|-|-|
| **Label** |`R8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-HRS-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVPAR`|
|-|-|
| **Label** |`S8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-HRS-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign8 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w8_oth_fam','HRS.HRS-HRS-w8', 
                         variables=list('R8LIVSIB','S8LIVSIB','R8LIVPAR','S8LIVPAR'), missings = TRUE)
```

```{r local8 hrs, echo=F}
HRS_hrs_w8_oth_fam <- opal.execute(o,'HRS_hrs_w8_oth_fam')

vari <- HRS_hrs_w8_oth_fam$R8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w8_oth_fam$R8LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w8_oth_fam, aes(x=factor(R8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w8_oth_fam$S8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w8_oth_fam$S8LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w8_oth_fam, aes(x=factor(S8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w8_oth_fam$R8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w8_oth_fam$R8LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w8_oth_fam, aes(x=factor(R8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w8_oth_fam$S8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w8_oth_fam$S8LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w8_oth_fam, aes(x=factor(S8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo8 hrs, echo=TRUE}
HRS_ds_hrs_w8 <- tibble(id=HRS_hrs_w8_oth_fam$id)

HRS_hrs_w8_oth_fam$R8LIVSIB <- car::recode(as.vector(HRS_hrs_w8_oth_fam$R8LIVSIB), "NA='-999'")
HRS_hrs_w8_oth_fam$S8LIVSIB <- car::recode(as.vector(HRS_hrs_w8_oth_fam$S8LIVSIB), "NA='-999'")
HRS_hrs_w8_oth_fam$R8LIVPAR <- car::recode(as.vector(HRS_hrs_w8_oth_fam$R8LIVPAR), "NA='-999'")
HRS_hrs_w8_oth_fam$S8LIVPAR <- car::recode(as.vector(HRS_hrs_w8_oth_fam$S8LIVPAR), "NA='-999'")

HRS_ds_hrs_w8$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w8_oth_fam)[1]){
  if( HRS_hrs_w8_oth_fam$R8LIVSIB[i] >0 | HRS_hrs_w8_oth_fam$S8LIVSIB[i] > 0 |
      HRS_hrs_w8_oth_fam$R8LIVPAR[i] >0 | HRS_hrs_w8_oth_fam$S8LIVPAR[i] > 0 ){
    HRS_ds_hrs_w8$oth_fam[i] = 1 }
  else if( HRS_hrs_w8_oth_fam$R8LIVSIB[i]== 0 & HRS_hrs_w8_oth_fam$S8LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w8_oth_fam$R8LIVPAR[i]== 0 & HRS_hrs_w8_oth_fam$S8LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w8$oth_fam[i] = 0 }
}

HRS_ds_hrs_w8$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w8$oth_fam), "NA='999'")
HRS_ds_hrs_w8$oth_fam <- labelled(HRS_ds_hrs_w8$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 hrs, echo=F}
vari <- HRS_ds_hrs_w8$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w8$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w8, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 hrs, echo=F}

```

 
 


### Wave 9

#### Study-specific variable description


  
| **Name** | `R9LIVSIB`|
|-|-|
| **Label** |`R9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-HRS-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVSIB`|
|-|-|
| **Label** |`S9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-HRS-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R9LIVPAR`|
|-|-|
| **Label** |`R9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-HRS-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVPAR`|
|-|-|
| **Label** |`S9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-HRS-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign9 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w9_oth_fam','HRS.HRS-HRS-w9', 
                         variables=list('R9LIVSIB','S9LIVSIB','R9LIVPAR','S9LIVPAR'), missings = TRUE)
```

```{r local9 hrs, echo=F}
HRS_hrs_w9_oth_fam <- opal.execute(o,'HRS_hrs_w9_oth_fam')

vari <- HRS_hrs_w9_oth_fam$R9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w9_oth_fam$R9LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w9_oth_fam, aes(x=factor(R9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w9_oth_fam$S9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w9_oth_fam$S9LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w9_oth_fam, aes(x=factor(S9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w9_oth_fam$R9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w9_oth_fam$R9LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w9_oth_fam, aes(x=factor(R9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w9_oth_fam$S9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w9_oth_fam$S9LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w9_oth_fam, aes(x=factor(S9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo9 hrs, echo=TRUE}
HRS_ds_hrs_w9 <- tibble(id=HRS_hrs_w9_oth_fam$id)

HRS_hrs_w9_oth_fam$R9LIVSIB <- car::recode(as.vector(HRS_hrs_w9_oth_fam$R9LIVSIB), "NA='-999'")
HRS_hrs_w9_oth_fam$S9LIVSIB <- car::recode(as.vector(HRS_hrs_w9_oth_fam$S9LIVSIB), "NA='-999'")
HRS_hrs_w9_oth_fam$R9LIVPAR <- car::recode(as.vector(HRS_hrs_w9_oth_fam$R9LIVPAR), "NA='-999'")
HRS_hrs_w9_oth_fam$S9LIVPAR <- car::recode(as.vector(HRS_hrs_w9_oth_fam$S9LIVPAR), "NA='-999'")

HRS_ds_hrs_w9$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w9_oth_fam)[1]){
  if( HRS_hrs_w9_oth_fam$R9LIVSIB[i] >0 | HRS_hrs_w9_oth_fam$S9LIVSIB[i] > 0 |
      HRS_hrs_w9_oth_fam$R9LIVPAR[i] >0 | HRS_hrs_w9_oth_fam$S9LIVPAR[i] > 0 ){
    HRS_ds_hrs_w9$oth_fam[i] = 1 }
  else if( HRS_hrs_w9_oth_fam$R9LIVSIB[i]== 0 & HRS_hrs_w9_oth_fam$S9LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w9_oth_fam$R9LIVPAR[i]== 0 & HRS_hrs_w9_oth_fam$S9LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w9$oth_fam[i] = 0 }
}

HRS_ds_hrs_w9$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w9$oth_fam), "NA='999'")
HRS_ds_hrs_w9$oth_fam <- labelled(HRS_ds_hrs_w9$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 hrs, echo=F}
vari <- HRS_ds_hrs_w9$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w9$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w9, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 hrs, echo=F}

```

 
 



### Wave 10

#### Study-specific variable description


  
| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-HRS-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-HRS-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-HRS-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-HRS-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w10_oth_fam','HRS.HRS-HRS-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 hrs, echo=F}
HRS_hrs_w10_oth_fam <- opal.execute(o,'HRS_hrs_w10_oth_fam')

vari <- HRS_hrs_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 hrs, echo=TRUE}
HRS_ds_hrs_w10 <- tibble(id=HRS_hrs_w10_oth_fam$id)

HRS_hrs_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_hrs_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_hrs_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_hrs_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_hrs_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_hrs_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_hrs_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_hrs_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_hrs_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w10_oth_fam)[1]){
  if( HRS_hrs_w10_oth_fam$R10LIVSIB[i] >0 | HRS_hrs_w10_oth_fam$S10LIVSIB[i] > 0 |
      HRS_hrs_w10_oth_fam$R10LIVPAR[i] >0 | HRS_hrs_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_hrs_w10$oth_fam[i] = 1 }
  else if( HRS_hrs_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_hrs_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_hrs_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w10$oth_fam[i] = 0 }
}

HRS_ds_hrs_w10$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w10$oth_fam), "NA='999'")
HRS_ds_hrs_w10$oth_fam <- labelled(HRS_ds_hrs_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 hrs, echo=F}
vari <- HRS_ds_hrs_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 hrs, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-HRS-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-HRS-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-HRS-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-HRS-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w11_oth_fam','HRS.HRS-HRS-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 hrs, echo=F}
HRS_hrs_w11_oth_fam <- opal.execute(o,'HRS_hrs_w11_oth_fam')

vari <- HRS_hrs_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_hrs_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_hrs_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_hrs_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_hrs_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 hrs, echo=TRUE}
HRS_ds_hrs_w11 <- tibble(id=HRS_hrs_w11_oth_fam$id)

HRS_hrs_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_hrs_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_hrs_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_hrs_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_hrs_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_hrs_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_hrs_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_hrs_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_hrs_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_hrs_w11_oth_fam)[1]){
  if( HRS_hrs_w11_oth_fam$R11LIVSIB[i] >0 | HRS_hrs_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_hrs_w11_oth_fam$R11LIVPAR[i] >0 | HRS_hrs_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_hrs_w11$oth_fam[i] = 1 }
  else if( HRS_hrs_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_hrs_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_hrs_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_hrs_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_hrs_w11$oth_fam[i] = 0 }
}

HRS_ds_hrs_w11$oth_fam <- car::recode(as.vector(HRS_ds_hrs_w11$oth_fam), "NA='999'")
HRS_ds_hrs_w11$oth_fam <- labelled(HRS_ds_hrs_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 hrs, echo=F}
vari <- HRS_ds_hrs_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 hrs, echo=F}

```

 
 



## AHEAD

### Wave 2 

#### Study-specific variable description


  
| **Name** | `R2LIVSIB`|
|-|-|
| **Label** |`R2LIVSIB:W2 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S2LIVSIB`|
|-|-|
| **Label** |`S2LIVSIB:W2 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R2LIVPAR`|
|-|-|
| **Label** |`R2LIVPAR:W2 Number of living parents`|
| **Table name** |`HRS-AHEAD-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S2LIVPAR`|
|-|-|
| **Label** |`S2LIVPAR:W2 Number of living parents`|
| **Table name** |`HRS-AHEAD-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign2 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w2_oth_fam','HRS.HRS-AHEAD-w2', 
                         variables=list('R2LIVSIB','S2LIVSIB','R2LIVPAR','S2LIVPAR'), missings = TRUE)
```

```{r local2 ahead, echo=F}
HRS_ahead_w2_oth_fam <- opal.execute(o,'HRS_ahead_w2_oth_fam')

vari <- HRS_ahead_w2_oth_fam$R2LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w2_oth_fam$R2LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w2_oth_fam, aes(x=factor(R2LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w2_oth_fam$S2LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w2_oth_fam$S2LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w2_oth_fam, aes(x=factor(S2LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w2_oth_fam$R2LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w2_oth_fam$R2LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w2_oth_fam, aes(x=factor(R2LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_ahead_w2_oth_fam$S2LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w2_oth_fam$S2LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w2_oth_fam, aes(x=factor(S2LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo2 ahead, echo=TRUE}
HRS_ds_ahead_w2 <- tibble(id=HRS_ahead_w2_oth_fam$id)

HRS_ahead_w2_oth_fam$R2LIVSIB <- car::recode(as.vector(HRS_ahead_w2_oth_fam$R2LIVSIB), "NA='-999'")
HRS_ahead_w2_oth_fam$S2LIVSIB <- car::recode(as.vector(HRS_ahead_w2_oth_fam$S2LIVSIB), "NA='-999'")
HRS_ahead_w2_oth_fam$R2LIVPAR <- car::recode(as.vector(HRS_ahead_w2_oth_fam$R2LIVPAR), "NA='-999'")
HRS_ahead_w2_oth_fam$S2LIVPAR <- car::recode(as.vector(HRS_ahead_w2_oth_fam$S2LIVPAR), "NA='-999'")

HRS_ds_ahead_w2$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w2_oth_fam)[1]){
  if( HRS_ahead_w2_oth_fam$R2LIVSIB[i] >0 | HRS_ahead_w2_oth_fam$S2LIVSIB[i] > 0 |
      HRS_ahead_w2_oth_fam$R2LIVPAR[i] >0 | HRS_ahead_w2_oth_fam$S2LIVPAR[i] > 0 ){
    HRS_ds_ahead_w2$oth_fam[i] = 1 }
  else if( HRS_ahead_w2_oth_fam$R2LIVSIB[i]== 0 & HRS_ahead_w2_oth_fam$S2LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w2_oth_fam$R2LIVPAR[i]== 0 & HRS_ahead_w2_oth_fam$S2LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w2$oth_fam[i] = 0 }
}

HRS_ds_ahead_w2$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w2$oth_fam), "NA='999'")
HRS_ds_ahead_w2$oth_fam <- labelled(HRS_ds_ahead_w2$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript2 ahead, echo=F}
vari <- HRS_ds_ahead_w2$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w2$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w2, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation2 ahead, echo=F}

```

 
 



### Wave 3

#### Study-specific variable description



| **Name** | `R3LIVSIB`|
|-|-|
| **Label** |`R3LIVSIB:W3 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S3LIVSIB`|
|-|-|
| **Label** |`S3LIVSIB:W3 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R3LIVPAR`|
|-|-|
| **Label** |`R3LIVPAR:W3 Number of living parents`|
| **Table name** |`HRS-AHEAD-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S3LIVPAR`|
|-|-|
| **Label** |`S3LIVPAR:W3 Number of living parents`|
| **Table name** |`HRS-AHEAD-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign3 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w3_oth_fam','HRS.HRS-AHEAD-w3', 
                         variables=list('R3LIVSIB','S3LIVSIB','R3LIVPAR','S3LIVPAR'), missings = TRUE)
```

```{r local3 ahead, echo=F}
HRS_ahead_w3_oth_fam <- opal.execute(o,'HRS_ahead_w3_oth_fam')

vari <- HRS_ahead_w3_oth_fam$R3LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w3_oth_fam$R3LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w3_oth_fam, aes(x=factor(R3LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w3_oth_fam$S3LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w3_oth_fam$S3LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w3_oth_fam, aes(x=factor(S3LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w3_oth_fam$R3LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w3_oth_fam$R3LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w3_oth_fam, aes(x=factor(R3LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_ahead_w3_oth_fam$S3LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w3_oth_fam$S3LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w3_oth_fam, aes(x=factor(S3LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo3 ahead, echo=TRUE}
HRS_ds_ahead_w3 <- tibble(id=HRS_ahead_w3_oth_fam$id)

HRS_ahead_w3_oth_fam$R3LIVSIB <- car::recode(as.vector(HRS_ahead_w3_oth_fam$R3LIVSIB), "NA='-999'")
HRS_ahead_w3_oth_fam$S3LIVSIB <- car::recode(as.vector(HRS_ahead_w3_oth_fam$S3LIVSIB), "NA='-999'")
HRS_ahead_w3_oth_fam$R3LIVPAR <- car::recode(as.vector(HRS_ahead_w3_oth_fam$R3LIVPAR), "NA='-999'")
HRS_ahead_w3_oth_fam$S3LIVPAR <- car::recode(as.vector(HRS_ahead_w3_oth_fam$S3LIVPAR), "NA='-999'")

HRS_ds_ahead_w3$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w3_oth_fam)[1]){
  if( HRS_ahead_w3_oth_fam$R3LIVSIB[i] >0 | HRS_ahead_w3_oth_fam$S3LIVSIB[i] > 0 |
      HRS_ahead_w3_oth_fam$R3LIVPAR[i] >0 | HRS_ahead_w3_oth_fam$S3LIVPAR[i] > 0 ){
    HRS_ds_ahead_w3$oth_fam[i] = 1 }
  else if( HRS_ahead_w3_oth_fam$R3LIVSIB[i]== 0 & HRS_ahead_w3_oth_fam$S3LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w3_oth_fam$R3LIVPAR[i]== 0 & HRS_ahead_w3_oth_fam$S3LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w3$oth_fam[i] = 0 }
}

HRS_ds_ahead_w3$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w3$oth_fam), "NA='999'")
HRS_ds_ahead_w3$oth_fam <- labelled(HRS_ds_ahead_w3$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript3 ahead, echo=F}
vari <- HRS_ds_ahead_w3$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w3$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w3, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation3 ahead, echo=F}

```

 
 



### Wave 4

#### Study-specific variable description


  
| **Name** | `R4LIVSIB`|
|-|-|
| **Label** |`R4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVSIB`|
|-|-|
| **Label** |`S4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R4LIVPAR`|
|-|-|
| **Label** |`R4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-AHEAD-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVPAR`|
|-|-|
| **Label** |`S4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-AHEAD-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign4 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w4_oth_fam','HRS.HRS-AHEAD-w4', 
                         variables=list('R4LIVSIB','S4LIVSIB','R4LIVPAR','S4LIVPAR'), missings = TRUE)
```

```{r local4 ahead, echo=F}
HRS_ahead_w4_oth_fam <- opal.execute(o,'HRS_ahead_w4_oth_fam')

vari <- HRS_ahead_w4_oth_fam$R4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w4_oth_fam$R4LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w4_oth_fam, aes(x=factor(R4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w4_oth_fam$S4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w4_oth_fam$S4LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w4_oth_fam, aes(x=factor(S4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_ahead_w4_oth_fam$R4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w4_oth_fam$R4LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w4_oth_fam, aes(x=factor(R4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_ahead_w4_oth_fam$S4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w4_oth_fam$S4LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w4_oth_fam, aes(x=factor(S4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo4 ahead, echo=TRUE}
HRS_ds_ahead_w4 <- tibble(id=HRS_ahead_w4_oth_fam$id)

HRS_ahead_w4_oth_fam$R4LIVSIB <- car::recode(as.vector(HRS_ahead_w4_oth_fam$R4LIVSIB), "NA='-999'")
HRS_ahead_w4_oth_fam$S4LIVSIB <- car::recode(as.vector(HRS_ahead_w4_oth_fam$S4LIVSIB), "NA='-999'")
HRS_ahead_w4_oth_fam$R4LIVPAR <- car::recode(as.vector(HRS_ahead_w4_oth_fam$R4LIVPAR), "NA='-999'")
HRS_ahead_w4_oth_fam$S4LIVPAR <- car::recode(as.vector(HRS_ahead_w4_oth_fam$S4LIVPAR), "NA='-999'")

HRS_ds_ahead_w4$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w4_oth_fam)[1]){
  if( HRS_ahead_w4_oth_fam$R4LIVSIB[i] >0 | HRS_ahead_w4_oth_fam$S4LIVSIB[i] > 0 |
      HRS_ahead_w4_oth_fam$R4LIVPAR[i] >0 | HRS_ahead_w4_oth_fam$S4LIVPAR[i] > 0 ){
    HRS_ds_ahead_w4$oth_fam[i] = 1 }
  else if( HRS_ahead_w4_oth_fam$R4LIVSIB[i]== 0 & HRS_ahead_w4_oth_fam$S4LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w4_oth_fam$R4LIVPAR[i]== 0 & HRS_ahead_w4_oth_fam$S4LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w4$oth_fam[i] = 0 }
}

HRS_ds_ahead_w4$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w4$oth_fam), "NA='999'")
HRS_ds_ahead_w4$oth_fam <- labelled(HRS_ds_ahead_w4$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 ahead, echo=F}
vari <- HRS_ds_ahead_w4$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w4$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w4, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation4 ahead, echo=F}

```

 
 



### Wave 5

#### Study-specific variable description


  
| **Name** | `R5LIVSIB`|
|-|-|
| **Label** |`R5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVSIB`|
|-|-|
| **Label** |`S5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R5LIVPAR`|
|-|-|
| **Label** |`R5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-AHEAD-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVPAR`|
|-|-|
| **Label** |`S5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-AHEAD-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign5 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w5_oth_fam','HRS.HRS-AHEAD-w5', 
                         variables=list('R5LIVSIB','S5LIVSIB','R5LIVPAR','S5LIVPAR'), missings = TRUE)
```

```{r local5 ahead, echo=F}
HRS_ahead_w5_oth_fam <- opal.execute(o,'HRS_ahead_w5_oth_fam')

vari <- HRS_ahead_w5_oth_fam$R5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w5_oth_fam$R5LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w5_oth_fam, aes(x=factor(R5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w5_oth_fam$S5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w5_oth_fam$S5LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w5_oth_fam, aes(x=factor(S5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w5_oth_fam$R5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w5_oth_fam$R5LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w5_oth_fam, aes(x=factor(R5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w5_oth_fam$S5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w5_oth_fam$S5LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w5_oth_fam, aes(x=factor(S5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo5 ahead, echo=TRUE}
HRS_ds_ahead_w5 <- tibble(id=HRS_ahead_w5_oth_fam$id)

HRS_ahead_w5_oth_fam$R5LIVSIB <- car::recode(as.vector(HRS_ahead_w5_oth_fam$R5LIVSIB), "NA='-999'")
HRS_ahead_w5_oth_fam$S5LIVSIB <- car::recode(as.vector(HRS_ahead_w5_oth_fam$S5LIVSIB), "NA='-999'")
HRS_ahead_w5_oth_fam$R5LIVPAR <- car::recode(as.vector(HRS_ahead_w5_oth_fam$R5LIVPAR), "NA='-999'")
HRS_ahead_w5_oth_fam$S5LIVPAR <- car::recode(as.vector(HRS_ahead_w5_oth_fam$S5LIVPAR), "NA='-999'")

HRS_ds_ahead_w5$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w5_oth_fam)[1]){
  if( HRS_ahead_w5_oth_fam$R5LIVSIB[i] >0 | HRS_ahead_w5_oth_fam$S5LIVSIB[i] > 0 |
      HRS_ahead_w5_oth_fam$R5LIVPAR[i] >0 | HRS_ahead_w5_oth_fam$S5LIVPAR[i] > 0 ){
    HRS_ds_ahead_w5$oth_fam[i] = 1 }
  else if( HRS_ahead_w5_oth_fam$R5LIVSIB[i]== 0 & HRS_ahead_w5_oth_fam$S5LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w5_oth_fam$R5LIVPAR[i]== 0 & HRS_ahead_w5_oth_fam$S5LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w5$oth_fam[i] = 0 }
}

HRS_ds_ahead_w5$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w5$oth_fam), "NA='999'")
HRS_ds_ahead_w5$oth_fam <- labelled(HRS_ds_ahead_w5$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 ahead, echo=F}
vari <- HRS_ds_ahead_w5$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w5$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w5, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation5 ahead, echo=F}

```

 
 



### Wave 6

#### Study-specific variable description


  
| **Name** | `R6LIVSIB`|
|-|-|
| **Label** |`R6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVSIB`|
|-|-|
| **Label** |`S6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R6LIVPAR`|
|-|-|
| **Label** |`R6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-AHEAD-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVPAR`|
|-|-|
| **Label** |`S6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-AHEAD-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign6 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w6_oth_fam','HRS.HRS-AHEAD-w6', 
                         variables=list('R6LIVSIB','S6LIVSIB','R6LIVPAR','S6LIVPAR'), missings = TRUE)
```

```{r local6 ahead, echo=F}
HRS_ahead_w6_oth_fam <- opal.execute(o,'HRS_ahead_w6_oth_fam')

vari <- HRS_ahead_w6_oth_fam$R6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w6_oth_fam$R6LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w6_oth_fam, aes(x=factor(R6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w6_oth_fam$S6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w6_oth_fam$S6LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w6_oth_fam, aes(x=factor(S6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w6_oth_fam$R6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w6_oth_fam$R6LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w6_oth_fam, aes(x=factor(R6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w6_oth_fam$S6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w6_oth_fam$S6LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w6_oth_fam, aes(x=factor(S6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo6 ahead, echo=TRUE}
HRS_ds_ahead_w6 <- tibble(id=HRS_ahead_w6_oth_fam$id)

HRS_ahead_w6_oth_fam$R6LIVSIB <- car::recode(as.vector(HRS_ahead_w6_oth_fam$R6LIVSIB), "NA='-999'")
HRS_ahead_w6_oth_fam$S6LIVSIB <- car::recode(as.vector(HRS_ahead_w6_oth_fam$S6LIVSIB), "NA='-999'")
HRS_ahead_w6_oth_fam$R6LIVPAR <- car::recode(as.vector(HRS_ahead_w6_oth_fam$R6LIVPAR), "NA='-999'")
HRS_ahead_w6_oth_fam$S6LIVPAR <- car::recode(as.vector(HRS_ahead_w6_oth_fam$S6LIVPAR), "NA='-999'")

HRS_ds_ahead_w6$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w6_oth_fam)[1]){
  if( HRS_ahead_w6_oth_fam$R6LIVSIB[i] >0 | HRS_ahead_w6_oth_fam$S6LIVSIB[i] > 0 |
      HRS_ahead_w6_oth_fam$R6LIVPAR[i] >0 | HRS_ahead_w6_oth_fam$S6LIVPAR[i] > 0 ){
    HRS_ds_ahead_w6$oth_fam[i] = 1 }
  else if( HRS_ahead_w6_oth_fam$R6LIVSIB[i]== 0 & HRS_ahead_w6_oth_fam$S6LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w6_oth_fam$R6LIVPAR[i]== 0 & HRS_ahead_w6_oth_fam$S6LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w6$oth_fam[i] = 0 }
}

HRS_ds_ahead_w6$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w6$oth_fam), "NA='999'")
HRS_ds_ahead_w6$oth_fam <- labelled(HRS_ds_ahead_w6$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 ahead, echo=F}
vari <- HRS_ds_ahead_w6$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w6$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w6, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 ahead, echo=F}

```

 
 



### Wave 7

#### Study-specific variable description


  
| **Name** | `R7LIVSIB`|
|-|-|
| **Label** |`R7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVSIB`|
|-|-|
| **Label** |`S7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R7LIVPAR`|
|-|-|
| **Label** |`R7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-AHEAD-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVPAR`|
|-|-|
| **Label** |`S7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-AHEAD-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign7 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w7_oth_fam','HRS.HRS-AHEAD-w7', 
                         variables=list('R7LIVSIB','S7LIVSIB','R7LIVPAR','S7LIVPAR'), missings = TRUE)
```

```{r local7 ahead, echo=F}
HRS_ahead_w7_oth_fam <- opal.execute(o,'HRS_ahead_w7_oth_fam')

vari <- HRS_ahead_w7_oth_fam$R7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w7_oth_fam$R7LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w7_oth_fam, aes(x=factor(R7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w7_oth_fam$S7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w7_oth_fam$S7LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w7_oth_fam, aes(x=factor(S7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w7_oth_fam$R7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w7_oth_fam$R7LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w7_oth_fam, aes(x=factor(R7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w7_oth_fam$S7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w7_oth_fam$S7LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w7_oth_fam, aes(x=factor(S7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo7 ahead, echo=TRUE}
HRS_ds_ahead_w7 <- tibble(id=HRS_ahead_w7_oth_fam$id)

HRS_ahead_w7_oth_fam$R7LIVSIB <- car::recode(as.vector(HRS_ahead_w7_oth_fam$R7LIVSIB), "NA='-999'")
HRS_ahead_w7_oth_fam$S7LIVSIB <- car::recode(as.vector(HRS_ahead_w7_oth_fam$S7LIVSIB), "NA='-999'")
HRS_ahead_w7_oth_fam$R7LIVPAR <- car::recode(as.vector(HRS_ahead_w7_oth_fam$R7LIVPAR), "NA='-999'")
HRS_ahead_w7_oth_fam$S7LIVPAR <- car::recode(as.vector(HRS_ahead_w7_oth_fam$S7LIVPAR), "NA='-999'")

HRS_ds_ahead_w7$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w7_oth_fam)[1]){
  if( HRS_ahead_w7_oth_fam$R7LIVSIB[i] >0 | HRS_ahead_w7_oth_fam$S7LIVSIB[i] > 0 |
      HRS_ahead_w7_oth_fam$R7LIVPAR[i] >0 | HRS_ahead_w7_oth_fam$S7LIVPAR[i] > 0 ){
    HRS_ds_ahead_w7$oth_fam[i] = 1 }
  else if( HRS_ahead_w7_oth_fam$R7LIVSIB[i]== 0 & HRS_ahead_w7_oth_fam$S7LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w7_oth_fam$R7LIVPAR[i]== 0 & HRS_ahead_w7_oth_fam$S7LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w7$oth_fam[i] = 0 }
}

HRS_ds_ahead_w7$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w7$oth_fam), "NA='999'")
HRS_ds_ahead_w7$oth_fam <- labelled(HRS_ds_ahead_w7$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 ahead, echo=F}
vari <- HRS_ds_ahead_w7$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w7$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w7, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 ahead, echo=F}

```

 
 



### Wave 8

#### Study-specific variable description


  
| **Name** | `R8LIVSIB`|
|-|-|
| **Label** |`R8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVSIB`|
|-|-|
| **Label** |`S8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R8LIVPAR`|
|-|-|
| **Label** |`R8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-AHEAD-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVPAR`|
|-|-|
| **Label** |`S8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-AHEAD-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign8 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w8_oth_fam','HRS.HRS-AHEAD-w8', 
                         variables=list('R8LIVSIB','S8LIVSIB','R8LIVPAR','S8LIVPAR'), missings = TRUE)
```

```{r local8 ahead, echo=F}
HRS_ahead_w8_oth_fam <- opal.execute(o,'HRS_ahead_w8_oth_fam')

vari <- HRS_ahead_w8_oth_fam$R8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w8_oth_fam$R8LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w8_oth_fam, aes(x=factor(R8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w8_oth_fam$S8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w8_oth_fam$S8LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w8_oth_fam, aes(x=factor(S8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w8_oth_fam$R8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w8_oth_fam$R8LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w8_oth_fam, aes(x=factor(R8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w8_oth_fam$S8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w8_oth_fam$S8LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w8_oth_fam, aes(x=factor(S8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo8 ahead, echo=TRUE}
HRS_ds_ahead_w8 <- tibble(id=HRS_ahead_w8_oth_fam$id)

HRS_ahead_w8_oth_fam$R8LIVSIB <- car::recode(as.vector(HRS_ahead_w8_oth_fam$R8LIVSIB), "NA='-999'")
HRS_ahead_w8_oth_fam$S8LIVSIB <- car::recode(as.vector(HRS_ahead_w8_oth_fam$S8LIVSIB), "NA='-999'")
HRS_ahead_w8_oth_fam$R8LIVPAR <- car::recode(as.vector(HRS_ahead_w8_oth_fam$R8LIVPAR), "NA='-999'")
HRS_ahead_w8_oth_fam$S8LIVPAR <- car::recode(as.vector(HRS_ahead_w8_oth_fam$S8LIVPAR), "NA='-999'")

HRS_ds_ahead_w8$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w8_oth_fam)[1]){
  if( HRS_ahead_w8_oth_fam$R8LIVSIB[i] >0 | HRS_ahead_w8_oth_fam$S8LIVSIB[i] > 0 |
      HRS_ahead_w8_oth_fam$R8LIVPAR[i] >0 | HRS_ahead_w8_oth_fam$S8LIVPAR[i] > 0 ){
    HRS_ds_ahead_w8$oth_fam[i] = 1 }
  else if( HRS_ahead_w8_oth_fam$R8LIVSIB[i]== 0 & HRS_ahead_w8_oth_fam$S8LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w8_oth_fam$R8LIVPAR[i]== 0 & HRS_ahead_w8_oth_fam$S8LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w8$oth_fam[i] = 0 }
}

HRS_ds_ahead_w8$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w8$oth_fam), "NA='999'")
HRS_ds_ahead_w8$oth_fam <- labelled(HRS_ds_ahead_w8$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 ahead, echo=F}
vari <- HRS_ds_ahead_w8$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w8$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w8, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 ahead, echo=F}

```

 
 


### Wave 9

#### Study-specific variable description


  
| **Name** | `R9LIVSIB`|
|-|-|
| **Label** |`R9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVSIB`|
|-|-|
| **Label** |`S9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R9LIVPAR`|
|-|-|
| **Label** |`R9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-AHEAD-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVPAR`|
|-|-|
| **Label** |`S9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-AHEAD-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign9 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w9_oth_fam','HRS.HRS-AHEAD-w9', 
                         variables=list('R9LIVSIB','S9LIVSIB','R9LIVPAR','S9LIVPAR'), missings = TRUE)
```

```{r local9 ahead, echo=F}
HRS_ahead_w9_oth_fam <- opal.execute(o,'HRS_ahead_w9_oth_fam')

vari <- HRS_ahead_w9_oth_fam$R9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w9_oth_fam$R9LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w9_oth_fam, aes(x=factor(R9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w9_oth_fam$S9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w9_oth_fam$S9LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w9_oth_fam, aes(x=factor(S9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w9_oth_fam$R9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w9_oth_fam$R9LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w9_oth_fam, aes(x=factor(R9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w9_oth_fam$S9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w9_oth_fam$S9LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w9_oth_fam, aes(x=factor(S9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo9 ahead, echo=TRUE}
HRS_ds_ahead_w9 <- tibble(id=HRS_ahead_w9_oth_fam$id)

HRS_ahead_w9_oth_fam$R9LIVSIB <- car::recode(as.vector(HRS_ahead_w9_oth_fam$R9LIVSIB), "NA='-999'")
HRS_ahead_w9_oth_fam$S9LIVSIB <- car::recode(as.vector(HRS_ahead_w9_oth_fam$S9LIVSIB), "NA='-999'")
HRS_ahead_w9_oth_fam$R9LIVPAR <- car::recode(as.vector(HRS_ahead_w9_oth_fam$R9LIVPAR), "NA='-999'")
HRS_ahead_w9_oth_fam$S9LIVPAR <- car::recode(as.vector(HRS_ahead_w9_oth_fam$S9LIVPAR), "NA='-999'")

HRS_ds_ahead_w9$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w9_oth_fam)[1]){
  if( HRS_ahead_w9_oth_fam$R9LIVSIB[i] >0 | HRS_ahead_w9_oth_fam$S9LIVSIB[i] > 0 |
      HRS_ahead_w9_oth_fam$R9LIVPAR[i] >0 | HRS_ahead_w9_oth_fam$S9LIVPAR[i] > 0 ){
    HRS_ds_ahead_w9$oth_fam[i] = 1 }
  else if( HRS_ahead_w9_oth_fam$R9LIVSIB[i]== 0 & HRS_ahead_w9_oth_fam$S9LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w9_oth_fam$R9LIVPAR[i]== 0 & HRS_ahead_w9_oth_fam$S9LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w9$oth_fam[i] = 0 }
}

HRS_ds_ahead_w9$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w9$oth_fam), "NA='999'")
HRS_ds_ahead_w9$oth_fam <- labelled(HRS_ds_ahead_w9$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 ahead, echo=F}
vari <- HRS_ds_ahead_w9$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w9$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w9, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 ahead, echo=F}

```

 
 



### Wave 10

#### Study-specific variable description


  
| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-AHEAD-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-AHEAD-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w10_oth_fam','HRS.HRS-AHEAD-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 ahead, echo=F}
HRS_ahead_w10_oth_fam <- opal.execute(o,'HRS_ahead_w10_oth_fam')

vari <- HRS_ahead_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 ahead, echo=TRUE}
HRS_ds_ahead_w10 <- tibble(id=HRS_ahead_w10_oth_fam$id)

HRS_ahead_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_ahead_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_ahead_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_ahead_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_ahead_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_ahead_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_ahead_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_ahead_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_ahead_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w10_oth_fam)[1]){
  if( HRS_ahead_w10_oth_fam$R10LIVSIB[i] >0 | HRS_ahead_w10_oth_fam$S10LIVSIB[i] > 0 |
      HRS_ahead_w10_oth_fam$R10LIVPAR[i] >0 | HRS_ahead_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_ahead_w10$oth_fam[i] = 1 }
  else if( HRS_ahead_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_ahead_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_ahead_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w10$oth_fam[i] = 0 }
}

HRS_ds_ahead_w10$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w10$oth_fam), "NA='999'")
HRS_ds_ahead_w10$oth_fam <- labelled(HRS_ds_ahead_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 ahead, echo=F}
vari <- HRS_ds_ahead_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 ahead, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-AHEAD-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-AHEAD-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-AHEAD-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w11_oth_fam','HRS.HRS-AHEAD-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 ahead, echo=F}
HRS_ahead_w11_oth_fam <- opal.execute(o,'HRS_ahead_w11_oth_fam')

vari <- HRS_ahead_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_ahead_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_ahead_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_ahead_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_ahead_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 ahead, echo=TRUE}
HRS_ds_ahead_w11 <- tibble(id=HRS_ahead_w11_oth_fam$id)

HRS_ahead_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_ahead_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_ahead_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_ahead_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_ahead_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_ahead_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_ahead_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_ahead_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_ahead_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_ahead_w11_oth_fam)[1]){
  if( HRS_ahead_w11_oth_fam$R11LIVSIB[i] >0 | HRS_ahead_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_ahead_w11_oth_fam$R11LIVPAR[i] >0 | HRS_ahead_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_ahead_w11$oth_fam[i] = 1 }
  else if( HRS_ahead_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_ahead_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_ahead_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_ahead_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ahead_w11$oth_fam[i] = 0 }
}

HRS_ds_ahead_w11$oth_fam <- car::recode(as.vector(HRS_ds_ahead_w11$oth_fam), "NA='999'")
HRS_ds_ahead_w11$oth_fam <- labelled(HRS_ds_ahead_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 ahead, echo=F}
vari <- HRS_ds_ahead_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 ahead, echo=F}

```

 
 


## CODA
### Wave 4

#### Study-specific variable description


  
| **Name** | `R4LIVSIB`|
|-|-|
| **Label** |`R4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-CODA-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVSIB`|
|-|-|
| **Label** |`S4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-CODA-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R4LIVPAR`|
|-|-|
| **Label** |`R4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-CODA-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVPAR`|
|-|-|
| **Label** |`S4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-CODA-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign4 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w4_oth_fam','HRS.HRS-CODA-w4', 
                         variables=list('R4LIVSIB','S4LIVSIB','R4LIVPAR','S4LIVPAR'), missings = TRUE)
```

```{r local4 coda, echo=F}
HRS_coda_w4_oth_fam <- opal.execute(o,'HRS_coda_w4_oth_fam')

vari <- HRS_coda_w4_oth_fam$R4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w4_oth_fam$R4LIVSIB, missing_values = NA)
ggplot(HRS_coda_w4_oth_fam, aes(x=factor(R4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_coda_w4_oth_fam$S4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w4_oth_fam$S4LIVSIB, missing_values = NA)
ggplot(HRS_coda_w4_oth_fam, aes(x=factor(S4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_coda_w4_oth_fam$R4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w4_oth_fam$R4LIVPAR, missing_values = NA)
ggplot(HRS_coda_w4_oth_fam, aes(x=factor(R4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_coda_w4_oth_fam$S4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w4_oth_fam$S4LIVPAR, missing_values = NA)
ggplot(HRS_coda_w4_oth_fam, aes(x=factor(S4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo4 coda, echo=TRUE}
HRS_ds_coda_w4 <- tibble(id=HRS_coda_w4_oth_fam$id)

HRS_coda_w4_oth_fam$R4LIVSIB <- car::recode(as.vector(HRS_coda_w4_oth_fam$R4LIVSIB), "NA='-999'")
HRS_coda_w4_oth_fam$S4LIVSIB <- car::recode(as.vector(HRS_coda_w4_oth_fam$S4LIVSIB), "NA='-999'")
HRS_coda_w4_oth_fam$R4LIVPAR <- car::recode(as.vector(HRS_coda_w4_oth_fam$R4LIVPAR), "NA='-999'")
HRS_coda_w4_oth_fam$S4LIVPAR <- car::recode(as.vector(HRS_coda_w4_oth_fam$S4LIVPAR), "NA='-999'")

HRS_ds_coda_w4$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w4_oth_fam)[1]){
  if( HRS_coda_w4_oth_fam$R4LIVSIB[i] >0 | HRS_coda_w4_oth_fam$S4LIVSIB[i] > 0 |
      HRS_coda_w4_oth_fam$R4LIVPAR[i] >0 | HRS_coda_w4_oth_fam$S4LIVPAR[i] > 0 ){
    HRS_ds_coda_w4$oth_fam[i] = 1 }
  else if( HRS_coda_w4_oth_fam$R4LIVSIB[i]== 0 & HRS_coda_w4_oth_fam$S4LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w4_oth_fam$R4LIVPAR[i]== 0 & HRS_coda_w4_oth_fam$S4LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w4$oth_fam[i] = 0 }
}

HRS_ds_coda_w4$oth_fam <- car::recode(as.vector(HRS_ds_coda_w4$oth_fam), "NA='999'")
HRS_ds_coda_w4$oth_fam <- labelled(HRS_ds_coda_w4$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 coda, echo=F}
vari <- HRS_ds_coda_w4$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w4$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w4, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation4 coda, echo=F}

```

 
 



### Wave 5

#### Study-specific variable description


  
| **Name** | `R5LIVSIB`|
|-|-|
| **Label** |`R5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-CODA-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVSIB`|
|-|-|
| **Label** |`S5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-CODA-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R5LIVPAR`|
|-|-|
| **Label** |`R5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-CODA-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVPAR`|
|-|-|
| **Label** |`S5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-CODA-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign5 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w5_oth_fam','HRS.HRS-CODA-w5', 
                         variables=list('R5LIVSIB','S5LIVSIB','R5LIVPAR','S5LIVPAR'), missings = TRUE)
```

```{r local5 coda, echo=F}
HRS_coda_w5_oth_fam <- opal.execute(o,'HRS_coda_w5_oth_fam')

vari <- HRS_coda_w5_oth_fam$R5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w5_oth_fam$R5LIVSIB, missing_values = NA)
ggplot(HRS_coda_w5_oth_fam, aes(x=factor(R5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w5_oth_fam$S5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w5_oth_fam$S5LIVSIB, missing_values = NA)
ggplot(HRS_coda_w5_oth_fam, aes(x=factor(S5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w5_oth_fam$R5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w5_oth_fam$R5LIVPAR, missing_values = NA)
ggplot(HRS_coda_w5_oth_fam, aes(x=factor(R5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w5_oth_fam$S5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w5_oth_fam$S5LIVPAR, missing_values = NA)
ggplot(HRS_coda_w5_oth_fam, aes(x=factor(S5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo5 coda, echo=TRUE}
HRS_ds_coda_w5 <- tibble(id=HRS_coda_w5_oth_fam$id)

HRS_coda_w5_oth_fam$R5LIVSIB <- car::recode(as.vector(HRS_coda_w5_oth_fam$R5LIVSIB), "NA='-999'")
HRS_coda_w5_oth_fam$S5LIVSIB <- car::recode(as.vector(HRS_coda_w5_oth_fam$S5LIVSIB), "NA='-999'")
HRS_coda_w5_oth_fam$R5LIVPAR <- car::recode(as.vector(HRS_coda_w5_oth_fam$R5LIVPAR), "NA='-999'")
HRS_coda_w5_oth_fam$S5LIVPAR <- car::recode(as.vector(HRS_coda_w5_oth_fam$S5LIVPAR), "NA='-999'")

HRS_ds_coda_w5$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w5_oth_fam)[1]){
  if( HRS_coda_w5_oth_fam$R5LIVSIB[i] >0 | HRS_coda_w5_oth_fam$S5LIVSIB[i] > 0 |
      HRS_coda_w5_oth_fam$R5LIVPAR[i] >0 | HRS_coda_w5_oth_fam$S5LIVPAR[i] > 0 ){
    HRS_ds_coda_w5$oth_fam[i] = 1 }
  else if( HRS_coda_w5_oth_fam$R5LIVSIB[i]== 0 & HRS_coda_w5_oth_fam$S5LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w5_oth_fam$R5LIVPAR[i]== 0 & HRS_coda_w5_oth_fam$S5LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w5$oth_fam[i] = 0 }
}

HRS_ds_coda_w5$oth_fam <- car::recode(as.vector(HRS_ds_coda_w5$oth_fam), "NA='999'")
HRS_ds_coda_w5$oth_fam <- labelled(HRS_ds_coda_w5$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 coda, echo=F}
vari <- HRS_ds_coda_w5$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w5$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w5, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation5 coda, echo=F}

```

 
 



### Wave 6

#### Study-specific variable description


  
| **Name** | `R6LIVSIB`|
|-|-|
| **Label** |`R6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-CODA-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVSIB`|
|-|-|
| **Label** |`S6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-CODA-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R6LIVPAR`|
|-|-|
| **Label** |`R6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-CODA-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVPAR`|
|-|-|
| **Label** |`S6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-CODA-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign6 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w6_oth_fam','HRS.HRS-CODA-w6', 
                         variables=list('R6LIVSIB','S6LIVSIB','R6LIVPAR','S6LIVPAR'), missings = TRUE)
```

```{r local6 coda, echo=F}
HRS_coda_w6_oth_fam <- opal.execute(o,'HRS_coda_w6_oth_fam')

vari <- HRS_coda_w6_oth_fam$R6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w6_oth_fam$R6LIVSIB, missing_values = NA)
ggplot(HRS_coda_w6_oth_fam, aes(x=factor(R6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w6_oth_fam$S6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w6_oth_fam$S6LIVSIB, missing_values = NA)
ggplot(HRS_coda_w6_oth_fam, aes(x=factor(S6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w6_oth_fam$R6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w6_oth_fam$R6LIVPAR, missing_values = NA)
ggplot(HRS_coda_w6_oth_fam, aes(x=factor(R6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w6_oth_fam$S6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w6_oth_fam$S6LIVPAR, missing_values = NA)
ggplot(HRS_coda_w6_oth_fam, aes(x=factor(S6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo6 coda, echo=TRUE}
HRS_ds_coda_w6 <- tibble(id=HRS_coda_w6_oth_fam$id)

HRS_coda_w6_oth_fam$R6LIVSIB <- car::recode(as.vector(HRS_coda_w6_oth_fam$R6LIVSIB), "NA='-999'")
HRS_coda_w6_oth_fam$S6LIVSIB <- car::recode(as.vector(HRS_coda_w6_oth_fam$S6LIVSIB), "NA='-999'")
HRS_coda_w6_oth_fam$R6LIVPAR <- car::recode(as.vector(HRS_coda_w6_oth_fam$R6LIVPAR), "NA='-999'")
HRS_coda_w6_oth_fam$S6LIVPAR <- car::recode(as.vector(HRS_coda_w6_oth_fam$S6LIVPAR), "NA='-999'")

HRS_ds_coda_w6$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w6_oth_fam)[1]){
  if( HRS_coda_w6_oth_fam$R6LIVSIB[i] >0 | HRS_coda_w6_oth_fam$S6LIVSIB[i] > 0 |
      HRS_coda_w6_oth_fam$R6LIVPAR[i] >0 | HRS_coda_w6_oth_fam$S6LIVPAR[i] > 0 ){
    HRS_ds_coda_w6$oth_fam[i] = 1 }
  else if( HRS_coda_w6_oth_fam$R6LIVSIB[i]== 0 & HRS_coda_w6_oth_fam$S6LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w6_oth_fam$R6LIVPAR[i]== 0 & HRS_coda_w6_oth_fam$S6LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w6$oth_fam[i] = 0 }
}

HRS_ds_coda_w6$oth_fam <- car::recode(as.vector(HRS_ds_coda_w6$oth_fam), "NA='999'")
HRS_ds_coda_w6$oth_fam <- labelled(HRS_ds_coda_w6$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 coda, echo=F}
vari <- HRS_ds_coda_w6$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w6$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w6, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 coda, echo=F}

```

 
 



### Wave 7

#### Study-specific variable description


  
| **Name** | `R7LIVSIB`|
|-|-|
| **Label** |`R7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-CODA-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVSIB`|
|-|-|
| **Label** |`S7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-CODA-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R7LIVPAR`|
|-|-|
| **Label** |`R7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-CODA-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVPAR`|
|-|-|
| **Label** |`S7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-CODA-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign7 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w7_oth_fam','HRS.HRS-CODA-w7', 
                         variables=list('R7LIVSIB','S7LIVSIB','R7LIVPAR','S7LIVPAR'), missings = TRUE)
```

```{r local7 coda, echo=F}
HRS_coda_w7_oth_fam <- opal.execute(o,'HRS_coda_w7_oth_fam')

vari <- HRS_coda_w7_oth_fam$R7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w7_oth_fam$R7LIVSIB, missing_values = NA)
ggplot(HRS_coda_w7_oth_fam, aes(x=factor(R7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w7_oth_fam$S7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w7_oth_fam$S7LIVSIB, missing_values = NA)
ggplot(HRS_coda_w7_oth_fam, aes(x=factor(S7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w7_oth_fam$R7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w7_oth_fam$R7LIVPAR, missing_values = NA)
ggplot(HRS_coda_w7_oth_fam, aes(x=factor(R7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w7_oth_fam$S7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w7_oth_fam$S7LIVPAR, missing_values = NA)
ggplot(HRS_coda_w7_oth_fam, aes(x=factor(S7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo7 coda, echo=TRUE}
HRS_ds_coda_w7 <- tibble(id=HRS_coda_w7_oth_fam$id)

HRS_coda_w7_oth_fam$R7LIVSIB <- car::recode(as.vector(HRS_coda_w7_oth_fam$R7LIVSIB), "NA='-999'")
HRS_coda_w7_oth_fam$S7LIVSIB <- car::recode(as.vector(HRS_coda_w7_oth_fam$S7LIVSIB), "NA='-999'")
HRS_coda_w7_oth_fam$R7LIVPAR <- car::recode(as.vector(HRS_coda_w7_oth_fam$R7LIVPAR), "NA='-999'")
HRS_coda_w7_oth_fam$S7LIVPAR <- car::recode(as.vector(HRS_coda_w7_oth_fam$S7LIVPAR), "NA='-999'")

HRS_ds_coda_w7$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w7_oth_fam)[1]){
  if( HRS_coda_w7_oth_fam$R7LIVSIB[i] >0 | HRS_coda_w7_oth_fam$S7LIVSIB[i] > 0 |
      HRS_coda_w7_oth_fam$R7LIVPAR[i] >0 | HRS_coda_w7_oth_fam$S7LIVPAR[i] > 0 ){
    HRS_ds_coda_w7$oth_fam[i] = 1 }
  else if( HRS_coda_w7_oth_fam$R7LIVSIB[i]== 0 & HRS_coda_w7_oth_fam$S7LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w7_oth_fam$R7LIVPAR[i]== 0 & HRS_coda_w7_oth_fam$S7LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w7$oth_fam[i] = 0 }
}

HRS_ds_coda_w7$oth_fam <- car::recode(as.vector(HRS_ds_coda_w7$oth_fam), "NA='999'")
HRS_ds_coda_w7$oth_fam <- labelled(HRS_ds_coda_w7$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 coda, echo=F}
vari <- HRS_ds_coda_w7$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w7$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w7, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 coda, echo=F}

```

 
 



### Wave 8

#### Study-specific variable description


  
| **Name** | `R8LIVSIB`|
|-|-|
| **Label** |`R8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-CODA-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVSIB`|
|-|-|
| **Label** |`S8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-CODA-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R8LIVPAR`|
|-|-|
| **Label** |`R8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-CODA-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVPAR`|
|-|-|
| **Label** |`S8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-CODA-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign8 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w8_oth_fam','HRS.HRS-CODA-w8', 
                         variables=list('R8LIVSIB','S8LIVSIB','R8LIVPAR','S8LIVPAR'), missings = TRUE)
```

```{r local8 coda, echo=F}
HRS_coda_w8_oth_fam <- opal.execute(o,'HRS_coda_w8_oth_fam')

vari <- HRS_coda_w8_oth_fam$R8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w8_oth_fam$R8LIVSIB, missing_values = NA)
ggplot(HRS_coda_w8_oth_fam, aes(x=factor(R8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w8_oth_fam$S8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w8_oth_fam$S8LIVSIB, missing_values = NA)
ggplot(HRS_coda_w8_oth_fam, aes(x=factor(S8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w8_oth_fam$R8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w8_oth_fam$R8LIVPAR, missing_values = NA)
ggplot(HRS_coda_w8_oth_fam, aes(x=factor(R8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w8_oth_fam$S8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w8_oth_fam$S8LIVPAR, missing_values = NA)
ggplot(HRS_coda_w8_oth_fam, aes(x=factor(S8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo8 coda, echo=TRUE}
HRS_ds_coda_w8 <- tibble(id=HRS_coda_w8_oth_fam$id)

HRS_coda_w8_oth_fam$R8LIVSIB <- car::recode(as.vector(HRS_coda_w8_oth_fam$R8LIVSIB), "NA='-999'")
HRS_coda_w8_oth_fam$S8LIVSIB <- car::recode(as.vector(HRS_coda_w8_oth_fam$S8LIVSIB), "NA='-999'")
HRS_coda_w8_oth_fam$R8LIVPAR <- car::recode(as.vector(HRS_coda_w8_oth_fam$R8LIVPAR), "NA='-999'")
HRS_coda_w8_oth_fam$S8LIVPAR <- car::recode(as.vector(HRS_coda_w8_oth_fam$S8LIVPAR), "NA='-999'")

HRS_ds_coda_w8$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w8_oth_fam)[1]){
  if( HRS_coda_w8_oth_fam$R8LIVSIB[i] >0 | HRS_coda_w8_oth_fam$S8LIVSIB[i] > 0 |
      HRS_coda_w8_oth_fam$R8LIVPAR[i] >0 | HRS_coda_w8_oth_fam$S8LIVPAR[i] > 0 ){
    HRS_ds_coda_w8$oth_fam[i] = 1 }
  else if( HRS_coda_w8_oth_fam$R8LIVSIB[i]== 0 & HRS_coda_w8_oth_fam$S8LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w8_oth_fam$R8LIVPAR[i]== 0 & HRS_coda_w8_oth_fam$S8LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w8$oth_fam[i] = 0 }
}

HRS_ds_coda_w8$oth_fam <- car::recode(as.vector(HRS_ds_coda_w8$oth_fam), "NA='999'")
HRS_ds_coda_w8$oth_fam <- labelled(HRS_ds_coda_w8$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 coda, echo=F}
vari <- HRS_ds_coda_w8$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w8$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w8, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 coda, echo=F}

```

 
 


### Wave 9

#### Study-specific variable description


  
| **Name** | `R9LIVSIB`|
|-|-|
| **Label** |`R9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-CODA-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVSIB`|
|-|-|
| **Label** |`S9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-CODA-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R9LIVPAR`|
|-|-|
| **Label** |`R9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-CODA-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVPAR`|
|-|-|
| **Label** |`S9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-CODA-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign9 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w9_oth_fam','HRS.HRS-CODA-w9', 
                         variables=list('R9LIVSIB','S9LIVSIB','R9LIVPAR','S9LIVPAR'), missings = TRUE)
```

```{r local9 coda, echo=F}
HRS_coda_w9_oth_fam <- opal.execute(o,'HRS_coda_w9_oth_fam')

vari <- HRS_coda_w9_oth_fam$R9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w9_oth_fam$R9LIVSIB, missing_values = NA)
ggplot(HRS_coda_w9_oth_fam, aes(x=factor(R9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w9_oth_fam$S9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w9_oth_fam$S9LIVSIB, missing_values = NA)
ggplot(HRS_coda_w9_oth_fam, aes(x=factor(S9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w9_oth_fam$R9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w9_oth_fam$R9LIVPAR, missing_values = NA)
ggplot(HRS_coda_w9_oth_fam, aes(x=factor(R9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w9_oth_fam$S9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w9_oth_fam$S9LIVPAR, missing_values = NA)
ggplot(HRS_coda_w9_oth_fam, aes(x=factor(S9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo9 coda, echo=TRUE}
HRS_ds_coda_w9 <- tibble(id=HRS_coda_w9_oth_fam$id)

HRS_coda_w9_oth_fam$R9LIVSIB <- car::recode(as.vector(HRS_coda_w9_oth_fam$R9LIVSIB), "NA='-999'")
HRS_coda_w9_oth_fam$S9LIVSIB <- car::recode(as.vector(HRS_coda_w9_oth_fam$S9LIVSIB), "NA='-999'")
HRS_coda_w9_oth_fam$R9LIVPAR <- car::recode(as.vector(HRS_coda_w9_oth_fam$R9LIVPAR), "NA='-999'")
HRS_coda_w9_oth_fam$S9LIVPAR <- car::recode(as.vector(HRS_coda_w9_oth_fam$S9LIVPAR), "NA='-999'")

HRS_ds_coda_w9$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w9_oth_fam)[1]){
  if( HRS_coda_w9_oth_fam$R9LIVSIB[i] >0 | HRS_coda_w9_oth_fam$S9LIVSIB[i] > 0 |
      HRS_coda_w9_oth_fam$R9LIVPAR[i] >0 | HRS_coda_w9_oth_fam$S9LIVPAR[i] > 0 ){
    HRS_ds_coda_w9$oth_fam[i] = 1 }
  else if( HRS_coda_w9_oth_fam$R9LIVSIB[i]== 0 & HRS_coda_w9_oth_fam$S9LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w9_oth_fam$R9LIVPAR[i]== 0 & HRS_coda_w9_oth_fam$S9LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w9$oth_fam[i] = 0 }
}

HRS_ds_coda_w9$oth_fam <- car::recode(as.vector(HRS_ds_coda_w9$oth_fam), "NA='999'")
HRS_ds_coda_w9$oth_fam <- labelled(HRS_ds_coda_w9$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 coda, echo=F}
vari <- HRS_ds_coda_w9$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w9$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w9, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 coda, echo=F}

```

 
 



### Wave 10

#### Study-specific variable description


  
| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-CODA-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-CODA-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-CODA-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-CODA-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w10_oth_fam','HRS.HRS-CODA-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 coda, echo=F}
HRS_coda_w10_oth_fam <- opal.execute(o,'HRS_coda_w10_oth_fam')

vari <- HRS_coda_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_coda_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_coda_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_coda_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_coda_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 coda, echo=TRUE}
HRS_ds_coda_w10 <- tibble(id=HRS_coda_w10_oth_fam$id)

HRS_coda_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_coda_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_coda_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_coda_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_coda_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_coda_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_coda_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_coda_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_coda_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w10_oth_fam)[1]){
  if( HRS_coda_w10_oth_fam$R10LIVSIB[i] >0 | HRS_coda_w10_oth_fam$S10LIVSIB[i] > 0 |
      HRS_coda_w10_oth_fam$R10LIVPAR[i] >0 | HRS_coda_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_coda_w10$oth_fam[i] = 1 }
  else if( HRS_coda_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_coda_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_coda_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w10$oth_fam[i] = 0 }
}

HRS_ds_coda_w10$oth_fam <- car::recode(as.vector(HRS_ds_coda_w10$oth_fam), "NA='999'")
HRS_ds_coda_w10$oth_fam <- labelled(HRS_ds_coda_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 coda, echo=F}
vari <- HRS_ds_coda_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 coda, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-CODA-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-CODA-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-CODA-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-CODA-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w11_oth_fam','HRS.HRS-CODA-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 coda, echo=F}
HRS_coda_w11_oth_fam <- opal.execute(o,'HRS_coda_w11_oth_fam')

vari <- HRS_coda_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_coda_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_coda_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_coda_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_coda_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_coda_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_coda_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 coda, echo=TRUE}
HRS_ds_coda_w11 <- tibble(id=HRS_coda_w11_oth_fam$id)

HRS_coda_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_coda_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_coda_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_coda_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_coda_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_coda_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_coda_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_coda_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_coda_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_coda_w11_oth_fam)[1]){
  if( HRS_coda_w11_oth_fam$R11LIVSIB[i] >0 | HRS_coda_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_coda_w11_oth_fam$R11LIVPAR[i] >0 | HRS_coda_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_coda_w11$oth_fam[i] = 1 }
  else if( HRS_coda_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_coda_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_coda_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_coda_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_coda_w11$oth_fam[i] = 0 }
}

HRS_ds_coda_w11$oth_fam <- car::recode(as.vector(HRS_ds_coda_w11$oth_fam), "NA='999'")
HRS_ds_coda_w11$oth_fam <- labelled(HRS_ds_coda_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 coda, echo=F}
vari <- HRS_ds_coda_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 coda, echo=F}

```

 
 



## WB 

### Wave 4

#### Study-specific variable description


  
| **Name** | `R4LIVSIB`|
|-|-|
| **Label** |`R4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-WB-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVSIB`|
|-|-|
| **Label** |`S4LIVSIB:W4 Number of living siblings`|
| **Table name** |`HRS-WB-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R4LIVPAR`|
|-|-|
| **Label** |`R4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-WB-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S4LIVPAR`|
|-|-|
| **Label** |`S4LIVPAR:W4 Number of living parents`|
| **Table name** |`HRS-WB-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign4 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w4_oth_fam','HRS.HRS-WB-w4', 
                         variables=list('R4LIVSIB','S4LIVSIB','R4LIVPAR','S4LIVPAR'), missings = TRUE)
```

```{r local4 wb, echo=F}
HRS_wb_w4_oth_fam <- opal.execute(o,'HRS_wb_w4_oth_fam')

vari <- HRS_wb_w4_oth_fam$R4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w4_oth_fam$R4LIVSIB, missing_values = NA)
ggplot(HRS_wb_w4_oth_fam, aes(x=factor(R4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_wb_w4_oth_fam$S4LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w4_oth_fam$S4LIVSIB, missing_values = NA)
ggplot(HRS_wb_w4_oth_fam, aes(x=factor(S4LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living siblings") + ylab("Frequency")

vari <- HRS_wb_w4_oth_fam$R4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w4_oth_fam$R4LIVPAR, missing_values = NA)
ggplot(HRS_wb_w4_oth_fam, aes(x=factor(R4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

vari <- HRS_wb_w4_oth_fam$S4LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w4_oth_fam$S4LIVPAR, missing_values = NA)
ggplot(HRS_wb_w4_oth_fam, aes(x=factor(S4LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo4 wb, echo=TRUE}
HRS_ds_wb_w4 <- tibble(id=HRS_wb_w4_oth_fam$id)

HRS_wb_w4_oth_fam$R4LIVSIB <- car::recode(as.vector(HRS_wb_w4_oth_fam$R4LIVSIB), "NA='-999'")
HRS_wb_w4_oth_fam$S4LIVSIB <- car::recode(as.vector(HRS_wb_w4_oth_fam$S4LIVSIB), "NA='-999'")
HRS_wb_w4_oth_fam$R4LIVPAR <- car::recode(as.vector(HRS_wb_w4_oth_fam$R4LIVPAR), "NA='-999'")
HRS_wb_w4_oth_fam$S4LIVPAR <- car::recode(as.vector(HRS_wb_w4_oth_fam$S4LIVPAR), "NA='-999'")

HRS_ds_wb_w4$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w4_oth_fam)[1]){
  if( HRS_wb_w4_oth_fam$R4LIVSIB[i] >0 | HRS_wb_w4_oth_fam$S4LIVSIB[i] > 0 |
      HRS_wb_w4_oth_fam$R4LIVPAR[i] >0 | HRS_wb_w4_oth_fam$S4LIVPAR[i] > 0 ){
    HRS_ds_wb_w4$oth_fam[i] = 1 }
  else if( HRS_wb_w4_oth_fam$R4LIVSIB[i]== 0 & HRS_wb_w4_oth_fam$S4LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w4_oth_fam$R4LIVPAR[i]== 0 & HRS_wb_w4_oth_fam$S4LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w4$oth_fam[i] = 0 }
}

HRS_ds_wb_w4$oth_fam <- car::recode(as.vector(HRS_ds_wb_w4$oth_fam), "NA='999'")
HRS_ds_wb_w4$oth_fam <- labelled(HRS_ds_wb_w4$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 wb, echo=F}
vari <- HRS_ds_wb_w4$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w4$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w4, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation4 wb, echo=F}

```

 
 



### Wave 5

#### Study-specific variable description


  
| **Name** | `R5LIVSIB`|
|-|-|
| **Label** |`R5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-WB-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVSIB`|
|-|-|
| **Label** |`S5LIVSIB:W5 Number of living siblings`|
| **Table name** |`HRS-WB-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R5LIVPAR`|
|-|-|
| **Label** |`R5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-WB-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S5LIVPAR`|
|-|-|
| **Label** |`S5LIVPAR:W5 Number of living parents`|
| **Table name** |`HRS-WB-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign5 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w5_oth_fam','HRS.HRS-WB-w5', 
                         variables=list('R5LIVSIB','S5LIVSIB','R5LIVPAR','S5LIVPAR'), missings = TRUE)
```

```{r local5 wb, echo=F}
HRS_wb_w5_oth_fam <- opal.execute(o,'HRS_wb_w5_oth_fam')

vari <- HRS_wb_w5_oth_fam$R5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w5_oth_fam$R5LIVSIB, missing_values = NA)
ggplot(HRS_wb_w5_oth_fam, aes(x=factor(R5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w5_oth_fam$S5LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w5_oth_fam$S5LIVSIB, missing_values = NA)
ggplot(HRS_wb_w5_oth_fam, aes(x=factor(S5LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w5_oth_fam$R5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w5_oth_fam$R5LIVPAR, missing_values = NA)
ggplot(HRS_wb_w5_oth_fam, aes(x=factor(R5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w5_oth_fam$S5LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w5_oth_fam$S5LIVPAR, missing_values = NA)
ggplot(HRS_wb_w5_oth_fam, aes(x=factor(S5LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 5LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo5 wb, echo=TRUE}
HRS_ds_wb_w5 <- tibble(id=HRS_wb_w5_oth_fam$id)

HRS_wb_w5_oth_fam$R5LIVSIB <- car::recode(as.vector(HRS_wb_w5_oth_fam$R5LIVSIB), "NA='-999'")
HRS_wb_w5_oth_fam$S5LIVSIB <- car::recode(as.vector(HRS_wb_w5_oth_fam$S5LIVSIB), "NA='-999'")
HRS_wb_w5_oth_fam$R5LIVPAR <- car::recode(as.vector(HRS_wb_w5_oth_fam$R5LIVPAR), "NA='-999'")
HRS_wb_w5_oth_fam$S5LIVPAR <- car::recode(as.vector(HRS_wb_w5_oth_fam$S5LIVPAR), "NA='-999'")

HRS_ds_wb_w5$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w5_oth_fam)[1]){
  if( HRS_wb_w5_oth_fam$R5LIVSIB[i] >0 | HRS_wb_w5_oth_fam$S5LIVSIB[i] > 0 |
      HRS_wb_w5_oth_fam$R5LIVPAR[i] >0 | HRS_wb_w5_oth_fam$S5LIVPAR[i] > 0 ){
    HRS_ds_wb_w5$oth_fam[i] = 1 }
  else if( HRS_wb_w5_oth_fam$R5LIVSIB[i]== 0 & HRS_wb_w5_oth_fam$S5LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w5_oth_fam$R5LIVPAR[i]== 0 & HRS_wb_w5_oth_fam$S5LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w5$oth_fam[i] = 0 }
}

HRS_ds_wb_w5$oth_fam <- car::recode(as.vector(HRS_ds_wb_w5$oth_fam), "NA='999'")
HRS_ds_wb_w5$oth_fam <- labelled(HRS_ds_wb_w5$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 wb, echo=F}
vari <- HRS_ds_wb_w5$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w5$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w5, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation5 wb, echo=F}

```

 
 



### Wave 6

#### Study-specific variable description


  
| **Name** | `R6LIVSIB`|
|-|-|
| **Label** |`R6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-WB-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVSIB`|
|-|-|
| **Label** |`S6LIVSIB:W6 Number of living siblings`|
| **Table name** |`HRS-WB-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R6LIVPAR`|
|-|-|
| **Label** |`R6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-WB-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S6LIVPAR`|
|-|-|
| **Label** |`S6LIVPAR:W6 Number of living parents`|
| **Table name** |`HRS-WB-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign6 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w6_oth_fam','HRS.HRS-WB-w6', 
                         variables=list('R6LIVSIB','S6LIVSIB','R6LIVPAR','S6LIVPAR'), missings = TRUE)
```

```{r local6 wb, echo=F}
HRS_wb_w6_oth_fam <- opal.execute(o,'HRS_wb_w6_oth_fam')

vari <- HRS_wb_w6_oth_fam$R6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w6_oth_fam$R6LIVSIB, missing_values = NA)
ggplot(HRS_wb_w6_oth_fam, aes(x=factor(R6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w6_oth_fam$S6LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w6_oth_fam$S6LIVSIB, missing_values = NA)
ggplot(HRS_wb_w6_oth_fam, aes(x=factor(S6LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w6_oth_fam$R6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w6_oth_fam$R6LIVPAR, missing_values = NA)
ggplot(HRS_wb_w6_oth_fam, aes(x=factor(R6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w6_oth_fam$S6LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w6_oth_fam$S6LIVPAR, missing_values = NA)
ggplot(HRS_wb_w6_oth_fam, aes(x=factor(S6LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 6LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo6 wb, echo=TRUE}
HRS_ds_wb_w6 <- tibble(id=HRS_wb_w6_oth_fam$id)

HRS_wb_w6_oth_fam$R6LIVSIB <- car::recode(as.vector(HRS_wb_w6_oth_fam$R6LIVSIB), "NA='-999'")
HRS_wb_w6_oth_fam$S6LIVSIB <- car::recode(as.vector(HRS_wb_w6_oth_fam$S6LIVSIB), "NA='-999'")
HRS_wb_w6_oth_fam$R6LIVPAR <- car::recode(as.vector(HRS_wb_w6_oth_fam$R6LIVPAR), "NA='-999'")
HRS_wb_w6_oth_fam$S6LIVPAR <- car::recode(as.vector(HRS_wb_w6_oth_fam$S6LIVPAR), "NA='-999'")

HRS_ds_wb_w6$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w6_oth_fam)[1]){
  if( HRS_wb_w6_oth_fam$R6LIVSIB[i] >0 | HRS_wb_w6_oth_fam$S6LIVSIB[i] > 0 |
      HRS_wb_w6_oth_fam$R6LIVPAR[i] >0 | HRS_wb_w6_oth_fam$S6LIVPAR[i] > 0 ){
    HRS_ds_wb_w6$oth_fam[i] = 1 }
  else if( HRS_wb_w6_oth_fam$R6LIVSIB[i]== 0 & HRS_wb_w6_oth_fam$S6LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w6_oth_fam$R6LIVPAR[i]== 0 & HRS_wb_w6_oth_fam$S6LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w6$oth_fam[i] = 0 }
}

HRS_ds_wb_w6$oth_fam <- car::recode(as.vector(HRS_ds_wb_w6$oth_fam), "NA='999'")
HRS_ds_wb_w6$oth_fam <- labelled(HRS_ds_wb_w6$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 wb, echo=F}
vari <- HRS_ds_wb_w6$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w6$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w6, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 wb, echo=F}

```

 
 



### Wave 7

#### Study-specific variable description


  
| **Name** | `R7LIVSIB`|
|-|-|
| **Label** |`R7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-WB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVSIB`|
|-|-|
| **Label** |`S7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-WB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R7LIVPAR`|
|-|-|
| **Label** |`R7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-WB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVPAR`|
|-|-|
| **Label** |`S7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-WB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign7 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w7_oth_fam','HRS.HRS-WB-w7', 
                         variables=list('R7LIVSIB','S7LIVSIB','R7LIVPAR','S7LIVPAR'), missings = TRUE)
```

```{r local7 wb, echo=F}
HRS_wb_w7_oth_fam <- opal.execute(o,'HRS_wb_w7_oth_fam')

vari <- HRS_wb_w7_oth_fam$R7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w7_oth_fam$R7LIVSIB, missing_values = NA)
ggplot(HRS_wb_w7_oth_fam, aes(x=factor(R7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w7_oth_fam$S7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w7_oth_fam$S7LIVSIB, missing_values = NA)
ggplot(HRS_wb_w7_oth_fam, aes(x=factor(S7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w7_oth_fam$R7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w7_oth_fam$R7LIVPAR, missing_values = NA)
ggplot(HRS_wb_w7_oth_fam, aes(x=factor(R7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w7_oth_fam$S7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w7_oth_fam$S7LIVPAR, missing_values = NA)
ggplot(HRS_wb_w7_oth_fam, aes(x=factor(S7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo7 wb, echo=TRUE}
HRS_ds_wb_w7 <- tibble(id=HRS_wb_w7_oth_fam$id)

HRS_wb_w7_oth_fam$R7LIVSIB <- car::recode(as.vector(HRS_wb_w7_oth_fam$R7LIVSIB), "NA='-999'")
HRS_wb_w7_oth_fam$S7LIVSIB <- car::recode(as.vector(HRS_wb_w7_oth_fam$S7LIVSIB), "NA='-999'")
HRS_wb_w7_oth_fam$R7LIVPAR <- car::recode(as.vector(HRS_wb_w7_oth_fam$R7LIVPAR), "NA='-999'")
HRS_wb_w7_oth_fam$S7LIVPAR <- car::recode(as.vector(HRS_wb_w7_oth_fam$S7LIVPAR), "NA='-999'")

HRS_ds_wb_w7$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w7_oth_fam)[1]){
  if( HRS_wb_w7_oth_fam$R7LIVSIB[i] >0 | HRS_wb_w7_oth_fam$S7LIVSIB[i] > 0 |
      HRS_wb_w7_oth_fam$R7LIVPAR[i] >0 | HRS_wb_w7_oth_fam$S7LIVPAR[i] > 0 ){
    HRS_ds_wb_w7$oth_fam[i] = 1 }
  else if( HRS_wb_w7_oth_fam$R7LIVSIB[i]== 0 & HRS_wb_w7_oth_fam$S7LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w7_oth_fam$R7LIVPAR[i]== 0 & HRS_wb_w7_oth_fam$S7LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w7$oth_fam[i] = 0 }
}

HRS_ds_wb_w7$oth_fam <- car::recode(as.vector(HRS_ds_wb_w7$oth_fam), "NA='999'")
HRS_ds_wb_w7$oth_fam <- labelled(HRS_ds_wb_w7$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 wb, echo=F}
vari <- HRS_ds_wb_w7$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w7$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w7, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 wb, echo=F}

```

 
 



### Wave 8

#### Study-specific variable description


  
| **Name** | `R8LIVSIB`|
|-|-|
| **Label** |`R8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-WB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVSIB`|
|-|-|
| **Label** |`S8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-WB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R8LIVPAR`|
|-|-|
| **Label** |`R8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-WB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVPAR`|
|-|-|
| **Label** |`S8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-WB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign8 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w8_oth_fam','HRS.HRS-WB-w8', 
                         variables=list('R8LIVSIB','S8LIVSIB','R8LIVPAR','S8LIVPAR'), missings = TRUE)
```

```{r local8 wb, echo=F}
HRS_wb_w8_oth_fam <- opal.execute(o,'HRS_wb_w8_oth_fam')

vari <- HRS_wb_w8_oth_fam$R8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w8_oth_fam$R8LIVSIB, missing_values = NA)
ggplot(HRS_wb_w8_oth_fam, aes(x=factor(R8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w8_oth_fam$S8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w8_oth_fam$S8LIVSIB, missing_values = NA)
ggplot(HRS_wb_w8_oth_fam, aes(x=factor(S8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w8_oth_fam$R8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w8_oth_fam$R8LIVPAR, missing_values = NA)
ggplot(HRS_wb_w8_oth_fam, aes(x=factor(R8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w8_oth_fam$S8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w8_oth_fam$S8LIVPAR, missing_values = NA)
ggplot(HRS_wb_w8_oth_fam, aes(x=factor(S8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo8 wb, echo=TRUE}
HRS_ds_wb_w8 <- tibble(id=HRS_wb_w8_oth_fam$id)

HRS_wb_w8_oth_fam$R8LIVSIB <- car::recode(as.vector(HRS_wb_w8_oth_fam$R8LIVSIB), "NA='-999'")
HRS_wb_w8_oth_fam$S8LIVSIB <- car::recode(as.vector(HRS_wb_w8_oth_fam$S8LIVSIB), "NA='-999'")
HRS_wb_w8_oth_fam$R8LIVPAR <- car::recode(as.vector(HRS_wb_w8_oth_fam$R8LIVPAR), "NA='-999'")
HRS_wb_w8_oth_fam$S8LIVPAR <- car::recode(as.vector(HRS_wb_w8_oth_fam$S8LIVPAR), "NA='-999'")

HRS_ds_wb_w8$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w8_oth_fam)[1]){
  if( HRS_wb_w8_oth_fam$R8LIVSIB[i] >0 | HRS_wb_w8_oth_fam$S8LIVSIB[i] > 0 |
      HRS_wb_w8_oth_fam$R8LIVPAR[i] >0 | HRS_wb_w8_oth_fam$S8LIVPAR[i] > 0 ){
    HRS_ds_wb_w8$oth_fam[i] = 1 }
  else if( HRS_wb_w8_oth_fam$R8LIVSIB[i]== 0 & HRS_wb_w8_oth_fam$S8LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w8_oth_fam$R8LIVPAR[i]== 0 & HRS_wb_w8_oth_fam$S8LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w8$oth_fam[i] = 0 }
}

HRS_ds_wb_w8$oth_fam <- car::recode(as.vector(HRS_ds_wb_w8$oth_fam), "NA='999'")
HRS_ds_wb_w8$oth_fam <- labelled(HRS_ds_wb_w8$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 wb, echo=F}
vari <- HRS_ds_wb_w8$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w8$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w8, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 wb, echo=F}

```

 
 


### Wave 9

#### Study-specific variable description


  
| **Name** | `R9LIVSIB`|
|-|-|
| **Label** |`R9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-WB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVSIB`|
|-|-|
| **Label** |`S9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-WB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R9LIVPAR`|
|-|-|
| **Label** |`R9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-WB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVPAR`|
|-|-|
| **Label** |`S9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-WB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign9 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w9_oth_fam','HRS.HRS-WB-w9', 
                         variables=list('R9LIVSIB','S9LIVSIB','R9LIVPAR','S9LIVPAR'), missings = TRUE)
```

```{r local9 wb, echo=F}
HRS_wb_w9_oth_fam <- opal.execute(o,'HRS_wb_w9_oth_fam')

vari <- HRS_wb_w9_oth_fam$R9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w9_oth_fam$R9LIVSIB, missing_values = NA)
ggplot(HRS_wb_w9_oth_fam, aes(x=factor(R9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w9_oth_fam$S9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w9_oth_fam$S9LIVSIB, missing_values = NA)
ggplot(HRS_wb_w9_oth_fam, aes(x=factor(S9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w9_oth_fam$R9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w9_oth_fam$R9LIVPAR, missing_values = NA)
ggplot(HRS_wb_w9_oth_fam, aes(x=factor(R9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w9_oth_fam$S9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w9_oth_fam$S9LIVPAR, missing_values = NA)
ggplot(HRS_wb_w9_oth_fam, aes(x=factor(S9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo9 wb, echo=TRUE}
HRS_ds_wb_w9 <- tibble(id=HRS_wb_w9_oth_fam$id)

HRS_wb_w9_oth_fam$R9LIVSIB <- car::recode(as.vector(HRS_wb_w9_oth_fam$R9LIVSIB), "NA='-999'")
HRS_wb_w9_oth_fam$S9LIVSIB <- car::recode(as.vector(HRS_wb_w9_oth_fam$S9LIVSIB), "NA='-999'")
HRS_wb_w9_oth_fam$R9LIVPAR <- car::recode(as.vector(HRS_wb_w9_oth_fam$R9LIVPAR), "NA='-999'")
HRS_wb_w9_oth_fam$S9LIVPAR <- car::recode(as.vector(HRS_wb_w9_oth_fam$S9LIVPAR), "NA='-999'")

HRS_ds_wb_w9$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w9_oth_fam)[1]){
  if( HRS_wb_w9_oth_fam$R9LIVSIB[i] >0 | HRS_wb_w9_oth_fam$S9LIVSIB[i] > 0 |
      HRS_wb_w9_oth_fam$R9LIVPAR[i] >0 | HRS_wb_w9_oth_fam$S9LIVPAR[i] > 0 ){
    HRS_ds_wb_w9$oth_fam[i] = 1 }
  else if( HRS_wb_w9_oth_fam$R9LIVSIB[i]== 0 & HRS_wb_w9_oth_fam$S9LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w9_oth_fam$R9LIVPAR[i]== 0 & HRS_wb_w9_oth_fam$S9LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w9$oth_fam[i] = 0 }
}

HRS_ds_wb_w9$oth_fam <- car::recode(as.vector(HRS_ds_wb_w9$oth_fam), "NA='999'")
HRS_ds_wb_w9$oth_fam <- labelled(HRS_ds_wb_w9$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 wb, echo=F}
vari <- HRS_ds_wb_w9$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w9$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w9, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 wb, echo=F}

```

 
 



### Wave 10

#### Study-specific variable description



| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-WB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-WB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-WB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-WB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w10_oth_fam','HRS.HRS-WB-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 wb, echo=F}
HRS_wb_w10_oth_fam <- opal.execute(o,'HRS_wb_w10_oth_fam')

vari <- HRS_wb_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_wb_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_wb_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_wb_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_wb_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 wb, echo=TRUE}
HRS_ds_wb_w10 <- tibble(id=HRS_wb_w10_oth_fam$id)

HRS_wb_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_wb_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_wb_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_wb_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_wb_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_wb_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_wb_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_wb_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_wb_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w10_oth_fam)[1]){
  if( HRS_wb_w10_oth_fam$R10LIVSIB[i] >0 | HRS_wb_w10_oth_fam$S10LIVSIB[i] > 0 |
      HRS_wb_w10_oth_fam$R10LIVPAR[i] >0 | HRS_wb_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_wb_w10$oth_fam[i] = 1 }
  else if( HRS_wb_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_wb_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_wb_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w10$oth_fam[i] = 0 }
}

HRS_ds_wb_w10$oth_fam <- car::recode(as.vector(HRS_ds_wb_w10$oth_fam), "NA='999'")
HRS_ds_wb_w10$oth_fam <- labelled(HRS_ds_wb_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 wb, echo=F}
vari <- HRS_ds_wb_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 wb, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-WB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-WB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-WB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-WB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w11_oth_fam','HRS.HRS-WB-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 wb, echo=F}
HRS_wb_w11_oth_fam <- opal.execute(o,'HRS_wb_w11_oth_fam')

vari <- HRS_wb_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_wb_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_wb_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_wb_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_wb_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_wb_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_wb_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 wb, echo=TRUE}
HRS_ds_wb_w11 <- tibble(id=HRS_wb_w11_oth_fam$id)

HRS_wb_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_wb_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_wb_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_wb_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_wb_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_wb_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_wb_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_wb_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_wb_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_wb_w11_oth_fam)[1]){
  if( HRS_wb_w11_oth_fam$R11LIVSIB[i] >0 | HRS_wb_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_wb_w11_oth_fam$R11LIVPAR[i] >0 | HRS_wb_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_wb_w11$oth_fam[i] = 1 }
  else if( HRS_wb_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_wb_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_wb_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_wb_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_wb_w11$oth_fam[i] = 0 }
}

HRS_ds_wb_w11$oth_fam <- car::recode(as.vector(HRS_ds_wb_w11$oth_fam), "NA='999'")
HRS_ds_wb_w11$oth_fam <- labelled(HRS_ds_wb_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 wb, echo=F}
vari <- HRS_ds_wb_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 wb, echo=F}

```

 
 



## EBB

### Wave 7

#### Study-specific variable description


  
| **Name** | `R7LIVSIB`|
|-|-|
| **Label** |`R7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-EBB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVSIB`|
|-|-|
| **Label** |`S7LIVSIB:W7 Number of living siblings`|
| **Table name** |`HRS-EBB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R7LIVPAR`|
|-|-|
| **Label** |`R7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-EBB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S7LIVPAR`|
|-|-|
| **Label** |`S7LIVPAR:W7 Number of living parents`|
| **Table name** |`HRS-EBB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign7 ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w7_oth_fam','HRS.HRS-EBB-w7', 
                         variables=list('R7LIVSIB','S7LIVSIB','R7LIVPAR','S7LIVPAR'), missings = TRUE)
```

```{r local7 ebb, echo=F}
HRS_ebb_w7_oth_fam <- opal.execute(o,'HRS_ebb_w7_oth_fam')

vari <- HRS_ebb_w7_oth_fam$R7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w7_oth_fam$R7LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w7_oth_fam, aes(x=factor(R7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w7_oth_fam$S7LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w7_oth_fam$S7LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w7_oth_fam, aes(x=factor(S7LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w7_oth_fam$R7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w7_oth_fam$R7LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w7_oth_fam, aes(x=factor(R7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

vari <- HRS_ebb_w7_oth_fam$S7LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w7_oth_fam$S7LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w7_oth_fam, aes(x=factor(S7LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 7LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**

```{r harmo7 ebb, echo=TRUE}
HRS_ds_ebb_w7 <- tibble(id=HRS_ebb_w7_oth_fam$id)

HRS_ebb_w7_oth_fam$R7LIVSIB <- car::recode(as.vector(HRS_ebb_w7_oth_fam$R7LIVSIB), "NA='-999'")
HRS_ebb_w7_oth_fam$S7LIVSIB <- car::recode(as.vector(HRS_ebb_w7_oth_fam$S7LIVSIB), "NA='-999'")
HRS_ebb_w7_oth_fam$R7LIVPAR <- car::recode(as.vector(HRS_ebb_w7_oth_fam$R7LIVPAR), "NA='-999'")
HRS_ebb_w7_oth_fam$S7LIVPAR <- car::recode(as.vector(HRS_ebb_w7_oth_fam$S7LIVPAR), "NA='-999'")

HRS_ds_ebb_w7$oth_fam <- c(NA)
for(i in 1:dim(HRS_ebb_w7_oth_fam)[1]){
  if( HRS_ebb_w7_oth_fam$R7LIVSIB[i] >0 | HRS_ebb_w7_oth_fam$S7LIVSIB[i] > 0 |
      HRS_ebb_w7_oth_fam$R7LIVPAR[i] >0 | HRS_ebb_w7_oth_fam$S7LIVPAR[i] > 0 ){
    HRS_ds_ebb_w7$oth_fam[i] = 1 }
  else if( HRS_ebb_w7_oth_fam$R7LIVSIB[i]== 0 & HRS_ebb_w7_oth_fam$S7LIVSIB[i] %in% c(0,-999) &
           HRS_ebb_w7_oth_fam$R7LIVPAR[i]== 0 & HRS_ebb_w7_oth_fam$S7LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ebb_w7$oth_fam[i] = 0 }
}

HRS_ds_ebb_w7$oth_fam <- car::recode(as.vector(HRS_ds_ebb_w7$oth_fam), "NA='999'")
HRS_ds_ebb_w7$oth_fam <- labelled(HRS_ds_ebb_w7$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 ebb, echo=F}
vari <- HRS_ds_ebb_w7$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w7$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w7, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 ebb, echo=F}

```

 
 



### Wave 8

#### Study-specific variable description


  
| **Name** | `R8LIVSIB`|
|-|-|
| **Label** |`R8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-EBB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVSIB`|
|-|-|
| **Label** |`S8LIVSIB:W8 Number of living siblings`|
| **Table name** |`HRS-EBB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R8LIVPAR`|
|-|-|
| **Label** |`R8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-EBB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S8LIVPAR`|
|-|-|
| **Label** |`S8LIVPAR:W8 Number of living parents`|
| **Table name** |`HRS-EBB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign8 ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w8_oth_fam','HRS.HRS-EBB-w8', 
                         variables=list('R8LIVSIB','S8LIVSIB','R8LIVPAR','S8LIVPAR'), missings = TRUE)
```

```{r local8 ebb, echo=F}
HRS_ebb_w8_oth_fam <- opal.execute(o,'HRS_ebb_w8_oth_fam')

vari <- HRS_ebb_w8_oth_fam$R8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w8_oth_fam$R8LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w8_oth_fam, aes(x=factor(R8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w8_oth_fam$S8LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w8_oth_fam$S8LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w8_oth_fam, aes(x=factor(S8LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w8_oth_fam$R8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w8_oth_fam$R8LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w8_oth_fam, aes(x=factor(R8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

vari <- HRS_ebb_w8_oth_fam$S8LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w8_oth_fam$S8LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w8_oth_fam, aes(x=factor(S8LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 8LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo8 ebb, echo=TRUE}
HRS_ds_ebb_w8 <- tibble(id=HRS_ebb_w8_oth_fam$id)

HRS_ebb_w8_oth_fam$R8LIVSIB <- car::recode(as.vector(HRS_ebb_w8_oth_fam$R8LIVSIB), "NA='-999'")
HRS_ebb_w8_oth_fam$S8LIVSIB <- car::recode(as.vector(HRS_ebb_w8_oth_fam$S8LIVSIB), "NA='-999'")
HRS_ebb_w8_oth_fam$R8LIVPAR <- car::recode(as.vector(HRS_ebb_w8_oth_fam$R8LIVPAR), "NA='-999'")
HRS_ebb_w8_oth_fam$S8LIVPAR <- car::recode(as.vector(HRS_ebb_w8_oth_fam$S8LIVPAR), "NA='-999'")

HRS_ds_ebb_w8$oth_fam <- c(NA)
for(i in 1:dim(HRS_ebb_w8_oth_fam)[1]){
  if( HRS_ebb_w8_oth_fam$R8LIVSIB[i] >0 | HRS_ebb_w8_oth_fam$S8LIVSIB[i] > 0 |
      HRS_ebb_w8_oth_fam$R8LIVPAR[i] >0 | HRS_ebb_w8_oth_fam$S8LIVPAR[i] > 0 ){
    HRS_ds_ebb_w8$oth_fam[i] = 1 }
  else if( HRS_ebb_w8_oth_fam$R8LIVSIB[i]== 0 & HRS_ebb_w8_oth_fam$S8LIVSIB[i] %in% c(0,-999) &
           HRS_ebb_w8_oth_fam$R8LIVPAR[i]== 0 & HRS_ebb_w8_oth_fam$S8LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ebb_w8$oth_fam[i] = 0 }
}

HRS_ds_ebb_w8$oth_fam <- car::recode(as.vector(HRS_ds_ebb_w8$oth_fam), "NA='999'")
HRS_ds_ebb_w8$oth_fam <- labelled(HRS_ds_ebb_w8$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 ebb, echo=F}
vari <- HRS_ds_ebb_w8$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w8$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w8, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 ebb, echo=F}

```

 
 


### Wave 9

#### Study-specific variable description


  
| **Name** | `R9LIVSIB`|
|-|-|
| **Label** |`R9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-EBB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVSIB`|
|-|-|
| **Label** |`S9LIVSIB:W9 Number of living siblings`|
| **Table name** |`HRS-EBB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R9LIVPAR`|
|-|-|
| **Label** |`R9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-EBB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S9LIVPAR`|
|-|-|
| **Label** |`S9LIVPAR:W9 Number of living parents`|
| **Table name** |`HRS-EBB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign9 ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w9_oth_fam','HRS.HRS-EBB-w9', 
                         variables=list('R9LIVSIB','S9LIVSIB','R9LIVPAR','S9LIVPAR'), missings = TRUE)
```

```{r local9 ebb, echo=F}
HRS_ebb_w9_oth_fam <- opal.execute(o,'HRS_ebb_w9_oth_fam')

vari <- HRS_ebb_w9_oth_fam$R9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w9_oth_fam$R9LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w9_oth_fam, aes(x=factor(R9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w9_oth_fam$S9LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w9_oth_fam$S9LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w9_oth_fam, aes(x=factor(S9LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w9_oth_fam$R9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w9_oth_fam$R9LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w9_oth_fam, aes(x=factor(R9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

vari <- HRS_ebb_w9_oth_fam$S9LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w9_oth_fam$S9LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w9_oth_fam, aes(x=factor(S9LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 9LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo9 ebb, echo=TRUE}
HRS_ds_ebb_w9 <- tibble(id=HRS_ebb_w9_oth_fam$id)

HRS_ebb_w9_oth_fam$R9LIVSIB <- car::recode(as.vector(HRS_ebb_w9_oth_fam$R9LIVSIB), "NA='-999'")
HRS_ebb_w9_oth_fam$S9LIVSIB <- car::recode(as.vector(HRS_ebb_w9_oth_fam$S9LIVSIB), "NA='-999'")
HRS_ebb_w9_oth_fam$R9LIVPAR <- car::recode(as.vector(HRS_ebb_w9_oth_fam$R9LIVPAR), "NA='-999'")
HRS_ebb_w9_oth_fam$S9LIVPAR <- car::recode(as.vector(HRS_ebb_w9_oth_fam$S9LIVPAR), "NA='-999'")

HRS_ds_ebb_w9$oth_fam <- c(NA)
for(i in 1:dim(HRS_ebb_w9_oth_fam)[1]){
  if( HRS_ebb_w9_oth_fam$R9LIVSIB[i] >0 | HRS_ebb_w9_oth_fam$S9LIVSIB[i] > 0 |
      HRS_ebb_w9_oth_fam$R9LIVPAR[i] >0 | HRS_ebb_w9_oth_fam$S9LIVPAR[i] > 0 ){
    HRS_ds_ebb_w9$oth_fam[i] = 1 }
  else if( HRS_ebb_w9_oth_fam$R9LIVSIB[i]== 0 & HRS_ebb_w9_oth_fam$S9LIVSIB[i] %in% c(0,-999) &
           HRS_ebb_w9_oth_fam$R9LIVPAR[i]== 0 & HRS_ebb_w9_oth_fam$S9LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ebb_w9$oth_fam[i] = 0 }
}

HRS_ds_ebb_w9$oth_fam <- car::recode(as.vector(HRS_ds_ebb_w9$oth_fam), "NA='999'")
HRS_ds_ebb_w9$oth_fam <- labelled(HRS_ds_ebb_w9$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 ebb, echo=F}
vari <- HRS_ds_ebb_w9$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w9$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w9, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 ebb, echo=F}

```

 
 



### Wave 10

#### Study-specific variable description


  
| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-EBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-EBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-EBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-EBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w10_oth_fam','HRS.HRS-EBB-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 ebb, echo=F}
HRS_ebb_w10_oth_fam <- opal.execute(o,'HRS_ebb_w10_oth_fam')

vari <- HRS_ebb_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_ebb_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 ebb, echo=TRUE}
HRS_ds_ebb_w10 <- tibble(id=HRS_ebb_w10_oth_fam$id)

HRS_ebb_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_ebb_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_ebb_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_ebb_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_ebb_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_ebb_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_ebb_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_ebb_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_ebb_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_ebb_w10_oth_fam)[1]){
  if( HRS_ebb_w10_oth_fam$R10LIVSIB[i] >0 | HRS_ebb_w10_oth_fam$S10LIVSIB[i] >0 |
      HRS_ebb_w10_oth_fam$R10LIVPAR[i] >0 | HRS_ebb_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_ebb_w10$oth_fam[i] = 1 }
  else if( HRS_ebb_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_ebb_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_ebb_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_ebb_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ebb_w10$oth_fam[i] = 0 }
}

HRS_ds_ebb_w10$oth_fam <- car::recode(as.vector(HRS_ds_ebb_w10$oth_fam), "NA='999'")
HRS_ds_ebb_w10$oth_fam <- labelled(HRS_ds_ebb_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 ebb, echo=F}
vari <- HRS_ds_ebb_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 ebb, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-EBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-EBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-EBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-EBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w11_oth_fam','HRS.HRS-EBB-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 ebb, echo=F}
HRS_ebb_w11_oth_fam <- opal.execute(o,'HRS_ebb_w11_oth_fam')

vari <- HRS_ebb_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_ebb_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_ebb_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_ebb_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_ebb_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 ebb, echo=TRUE}
HRS_ds_ebb_w11 <- tibble(id=HRS_ebb_w11_oth_fam$id)

HRS_ebb_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_ebb_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_ebb_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_ebb_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_ebb_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_ebb_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_ebb_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_ebb_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_ebb_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_ebb_w11_oth_fam)[1]){
  if( HRS_ebb_w11_oth_fam$R11LIVSIB[i] >0 | HRS_ebb_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_ebb_w11_oth_fam$R11LIVPAR[i] >0 | HRS_ebb_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_ebb_w11$oth_fam[i] = 1 }
  else if( HRS_ebb_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_ebb_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_ebb_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_ebb_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_ebb_w11$oth_fam[i] = 0 }
}

HRS_ds_ebb_w11$oth_fam <- car::recode(as.vector(HRS_ds_ebb_w11$oth_fam), "NA='999'")
HRS_ds_ebb_w11$oth_fam <- labelled(HRS_ds_ebb_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 ebb, echo=F}
vari <- HRS_ds_ebb_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 ebb, echo=F}

```

 
 



## MBB

### Wave 10

#### Study-specific variable description


  
| **Name** | `R10LIVSIB`|
|-|-|
| **Label** |`R10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-MBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVSIB`|
|-|-|
| **Label** |`S10LIVSIB:W10 Number of living siblings`|
| **Table name** |`HRS-MBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R10LIVPAR`|
|-|-|
| **Label** |`R10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-MBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S10LIVPAR`|
|-|-|
| **Label** |`S10LIVPAR:W10 Number of living parents`|
| **Table name** |`HRS-MBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign10 mbb, echo=F}
opal.assign.table.tibble(o, 'HRS_mbb_w10_oth_fam','HRS.HRS-MBB-w10', 
                         variables=list('R10LIVSIB','S10LIVSIB','R10LIVPAR','S10LIVPAR'), missings = TRUE)
```

```{r local10 mbb, echo=F}
HRS_mbb_w10_oth_fam <- opal.execute(o,'HRS_mbb_w10_oth_fam')

vari <- HRS_mbb_w10_oth_fam$R10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w10_oth_fam$R10LIVSIB, missing_values = NA)
ggplot(HRS_mbb_w10_oth_fam, aes(x=factor(R10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_mbb_w10_oth_fam$S10LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w10_oth_fam$S10LIVSIB, missing_values = NA)
ggplot(HRS_mbb_w10_oth_fam, aes(x=factor(S10LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing siblings") + ylab("Frequency")

vari <- HRS_mbb_w10_oth_fam$R10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w10_oth_fam$R10LIVPAR, missing_values = NA)
ggplot(HRS_mbb_w10_oth_fam, aes(x=factor(R10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

vari <- HRS_mbb_w10_oth_fam$S10LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w10_oth_fam$S10LIVPAR, missing_values = NA)
ggplot(HRS_mbb_w10_oth_fam, aes(x=factor(S10LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 10LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo10 mbb, echo=TRUE}
HRS_ds_mbb_w10 <- tibble(id=HRS_mbb_w10_oth_fam$id)

HRS_mbb_w10_oth_fam$R10LIVSIB <- car::recode(as.vector(HRS_mbb_w10_oth_fam$R10LIVSIB), "NA='-999'")
HRS_mbb_w10_oth_fam$S10LIVSIB <- car::recode(as.vector(HRS_mbb_w10_oth_fam$S10LIVSIB), "NA='-999'")
HRS_mbb_w10_oth_fam$R10LIVPAR <- car::recode(as.vector(HRS_mbb_w10_oth_fam$R10LIVPAR), "NA='-999'")
HRS_mbb_w10_oth_fam$S10LIVPAR <- car::recode(as.vector(HRS_mbb_w10_oth_fam$S10LIVPAR), "NA='-999'")

HRS_ds_mbb_w10$oth_fam <- c(NA)
for(i in 1:dim(HRS_mbb_w10_oth_fam)[1]){
  if( HRS_mbb_w10_oth_fam$R10LIVSIB[i] >0 | HRS_mbb_w10_oth_fam$S10LIVSIB[i] > 0 |
      HRS_mbb_w10_oth_fam$R10LIVPAR[i] >0 | HRS_mbb_w10_oth_fam$S10LIVPAR[i] > 0 ){
    HRS_ds_mbb_w10$oth_fam[i] = 1 }
  else if( HRS_mbb_w10_oth_fam$R10LIVSIB[i]== 0 & HRS_mbb_w10_oth_fam$S10LIVSIB[i] %in% c(0,-999) &
           HRS_mbb_w10_oth_fam$R10LIVPAR[i]== 0 & HRS_mbb_w10_oth_fam$S10LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_mbb_w10$oth_fam[i] = 0 }
}

HRS_ds_mbb_w10$oth_fam <- car::recode(as.vector(HRS_ds_mbb_w10$oth_fam), "NA='999'")
HRS_ds_mbb_w10$oth_fam <- labelled(HRS_ds_mbb_w10$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 mbb, echo=F}
vari <- HRS_ds_mbb_w10$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w10$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w10, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 mbb, echo=F}

```

 
 


### Wave 11

#### Study-specific variable description


  
| **Name** | `R11LIVSIB`|
|-|-|
| **Label** |`R11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-MBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVSIB`|
|-|-|
| **Label** |`S11LIVSIB:W11 Number of living siblings`|
| **Table name** |`HRS-MBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `R11LIVPAR`|
|-|-|
| **Label** |`R11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-MBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


| **Name** | `S11LIVPAR`|
|-|-|
| **Label** |`S11LIVPAR:W11 Number of living parents`|
| **Table name** |`HRS-MBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |



 
```{r assign11 mbb, echo=F}
opal.assign.table.tibble(o, 'HRS_mbb_w11_oth_fam','HRS.HRS-MBB-w11', 
                         variables=list('R11LIVSIB','S11LIVSIB','R11LIVPAR','S11LIVPAR'), missings = TRUE)
```

```{r local11 mbb, echo=F}
HRS_mbb_w11_oth_fam <- opal.execute(o,'HRS_mbb_w11_oth_fam')

vari <- HRS_mbb_w11_oth_fam$R11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w11_oth_fam$R11LIVSIB, missing_values = NA)
ggplot(HRS_mbb_w11_oth_fam, aes(x=factor(R11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_mbb_w11_oth_fam$S11LIVSIB
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w11_oth_fam$S11LIVSIB, missing_values = NA)
ggplot(HRS_mbb_w11_oth_fam, aes(x=factor(S11LIVSIB))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing siblings") + ylab("Frequency")

vari <- HRS_mbb_w11_oth_fam$R11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w11_oth_fam$R11LIVPAR, missing_values = NA)
ggplot(HRS_mbb_w11_oth_fam, aes(x=factor(R11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

vari <- HRS_mbb_w11_oth_fam$S11LIVPAR
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w11_oth_fam$S11LIVPAR, missing_values = NA)
ggplot(HRS_mbb_w11_oth_fam, aes(x=factor(S11LIVPAR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of 11LIVing parents") + ylab("Frequency")

## There is a lot of NAs in variables called S1(..)
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `if any >0 then 1`
* `if all =0 then 0`
* `NA into 999`

**R script:**
  
```{r harmo11 mbb, echo=TRUE}
HRS_ds_mbb_w11 <- tibble(id=HRS_mbb_w11_oth_fam$id)

HRS_mbb_w11_oth_fam$R11LIVSIB <- car::recode(as.vector(HRS_mbb_w11_oth_fam$R11LIVSIB), "NA='-999'")
HRS_mbb_w11_oth_fam$S11LIVSIB <- car::recode(as.vector(HRS_mbb_w11_oth_fam$S11LIVSIB), "NA='-999'")
HRS_mbb_w11_oth_fam$R11LIVPAR <- car::recode(as.vector(HRS_mbb_w11_oth_fam$R11LIVPAR), "NA='-999'")
HRS_mbb_w11_oth_fam$S11LIVPAR <- car::recode(as.vector(HRS_mbb_w11_oth_fam$S11LIVPAR), "NA='-999'")

HRS_ds_mbb_w11$oth_fam <- c(NA)
for(i in 1:dim(HRS_mbb_w11_oth_fam)[1]){
  if( HRS_mbb_w11_oth_fam$R11LIVSIB[i] >0 | HRS_mbb_w11_oth_fam$S11LIVSIB[i] > 0 |
      HRS_mbb_w11_oth_fam$R11LIVPAR[i] >0 | HRS_mbb_w11_oth_fam$S11LIVPAR[i] > 0 ){
    HRS_ds_mbb_w11$oth_fam[i] = 1 }
  else if( HRS_mbb_w11_oth_fam$R11LIVSIB[i]== 0 & HRS_mbb_w11_oth_fam$S11LIVSIB[i] %in% c(0,-999) &
           HRS_mbb_w11_oth_fam$R11LIVPAR[i]== 0 & HRS_mbb_w11_oth_fam$S11LIVPAR[i] %in% c(0,-999) ){
    HRS_ds_mbb_w11$oth_fam[i] = 0 }
}

HRS_ds_mbb_w11$oth_fam <- car::recode(as.vector(HRS_ds_mbb_w11$oth_fam), "NA='999'")
HRS_ds_mbb_w11$oth_fam <- labelled(HRS_ds_mbb_w11$oth_fam, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 mbb, echo=F}
vari <- HRS_ds_mbb_w11$oth_fam
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w11$oth_fam, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w11, aes(x=factor(oth_fam))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has other family members?") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 mbb, echo=F}

```

 
 





```{r final, echo=F}

l.hrs <- list(hrs_w1 = HRS_ds_hrs_w1, hrs_w2 = HRS_ds_hrs_w2, hrs_w3 = HRS_ds_hrs_w3, hrs_w4 = HRS_ds_hrs_w4, hrs_w5 = HRS_ds_hrs_w5, hrs_w6 = HRS_ds_hrs_w6, hrs_w7 = HRS_ds_hrs_w7, hrs_w8 = HRS_ds_hrs_w8, hrs_w9 = HRS_ds_hrs_w9, hrs_w10 = HRS_ds_hrs_w10, hrs_w11 = HRS_ds_hrs_w11, ahead_w2 = HRS_ds_ahead_w2, ahead_w3 = HRS_ds_ahead_w3, ahead_w4 = HRS_ds_ahead_w4, ahead_w5 = HRS_ds_ahead_w5, ahead_w6 = HRS_ds_ahead_w6, ahead_w7 = HRS_ds_ahead_w7, ahead_w8 = HRS_ds_ahead_w8, ahead_w9 = HRS_ds_ahead_w9, ahead_w10 = HRS_ds_ahead_w10, ahead_w11 = HRS_ds_ahead_w11, coda_w4 = HRS_ds_coda_w4, coda_w5 = HRS_ds_coda_w5, coda_w6 = HRS_ds_coda_w6, coda_w7 = HRS_ds_coda_w7, coda_w8 = HRS_ds_coda_w8, coda_w9 = HRS_ds_coda_w9, coda_w10 = HRS_ds_coda_w10, coda_w11 = HRS_ds_coda_w11, wb_w4 = HRS_ds_wb_w4, wb_w5 = HRS_ds_wb_w5, wb_w6 = HRS_ds_wb_w6, wb_w7 = HRS_ds_wb_w7, wb_w8 = HRS_ds_wb_w8, wb_w9 = HRS_ds_wb_w9, wb_w10 = HRS_ds_wb_w10, wb_w11 = HRS_ds_wb_w11, ebb_w7 = HRS_ds_ebb_w7, ebb_w8 = HRS_ds_ebb_w8, ebb_w9 = HRS_ds_ebb_w9, ebb_w10 = HRS_ds_ebb_w10, ebb_w11 = HRS_ds_ebb_w11, mbb_w10 = HRS_ds_mbb_w10, mbb_w11 = HRS_ds_mbb_w11)

for(name in names(l.hrs)) {
  m_name <- paste0("HRS_m_ds_",name)
  aux_object <- l.hrs[[name]]
  label(l.hrs[[name]][[2]]) <- label(aux_object[[2]]) <- ds_label # Text value assigned at the DS description, at the top
  l.hrs[[name]][[2]] <- labelled(l.hrs[[name]][[2]], labels = cat_label)
  aux_object[[2]] <- car::recode(aux_object[[2]], "miss_values_vector=NA")
  aux_object[[2]] <- labelled(aux_object[[2]], labels = cat_label[1:2])
  assign(m_name, aux_object)
  rm(aux_object)
}

```




## Summary of descriptive statistics of the harmonised variable `oth_fam` accross populations and waves

Two tables are generated: 

1. Percentages of categories in each harmonised variable.

2. Frequencies and percentages of individuals with different trajectories. To avoid too large table, Only trajectories with percentages larger than 0.3 are shown.


**R script:**

```{r summ}

# Table HRS
l.hds <- l.hrs[grep("hrs_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])



# Table AHEAD
l.hds <- l.hrs[grep("ahead_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])



# Table CODA
l.hds <- l.hrs[grep("coda_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table WB
l.hds <- l.hrs[grep("wb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table EBB
l.hds <- l.hrs[grep("ebb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table MBB
l.hds <- l.hrs[grep("mbb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","oth_fam")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","oth_fam")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])

```







 
```{r save, echo=FALSE}
oth_fam <- HRS_ds_ahead_w2
save(oth_fam, file = "../RData/ahead_w2/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w3
save(oth_fam, file = "../RData/ahead_w3/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w4
save(oth_fam, file = "../RData/ahead_w4/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w5
save(oth_fam, file = "../RData/ahead_w5/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w6
save(oth_fam, file = "../RData/ahead_w6/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w7
save(oth_fam, file = "../RData/ahead_w7/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w8
save(oth_fam, file = "../RData/ahead_w8/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w9
save(oth_fam, file = "../RData/ahead_w9/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w10
save(oth_fam, file = "../RData/ahead_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ahead_w11
save(oth_fam, file = "../RData/ahead_w11/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w4
save(oth_fam, file = "../RData/coda_w4/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w5
save(oth_fam, file = "../RData/coda_w5/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w6
save(oth_fam, file = "../RData/coda_w6/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w7
save(oth_fam, file = "../RData/coda_w7/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w8
save(oth_fam, file = "../RData/coda_w8/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w9
save(oth_fam, file = "../RData/coda_w9/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w10
save(oth_fam, file = "../RData/coda_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_coda_w11
save(oth_fam, file = "../RData/coda_w11/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ebb_w7
save(oth_fam, file = "../RData/ebb_w7/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ebb_w8
save(oth_fam, file = "../RData/ebb_w8/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ebb_w9
save(oth_fam, file = "../RData/ebb_w9/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ebb_w10
save(oth_fam, file = "../RData/ebb_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_ebb_w11
save(oth_fam, file = "../RData/ebb_w11/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w1
save(oth_fam, file = "../RData/hrs_w1/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w2
save(oth_fam, file = "../RData/hrs_w2/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w3
save(oth_fam, file = "../RData/hrs_w3/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w4
save(oth_fam, file = "../RData/hrs_w4/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w5
save(oth_fam, file = "../RData/hrs_w5/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w6
save(oth_fam, file = "../RData/hrs_w6/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w7
save(oth_fam, file = "../RData/hrs_w7/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w8
save(oth_fam, file = "../RData/hrs_w8/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w9
save(oth_fam, file = "../RData/hrs_w9/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w10
save(oth_fam, file = "../RData/hrs_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_hrs_w11
save(oth_fam, file = "../RData/hrs_w11/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_mbb_w10
save(oth_fam, file = "../RData/mbb_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_mbb_w11
save(oth_fam, file = "../RData/mbb_w11/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w4
save(oth_fam, file = "../RData/wb_w4/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w5
save(oth_fam, file = "../RData/wb_w5/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w6
save(oth_fam, file = "../RData/wb_w6/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w7
save(oth_fam, file = "../RData/wb_w7/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w8
save(oth_fam, file = "../RData/wb_w8/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w9
save(oth_fam, file = "../RData/wb_w9/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w10
save(oth_fam, file = "../RData/wb_w10/oth_fam.RData")
rm(oth_fam)

oth_fam <- HRS_ds_wb_w11
save(oth_fam, file = "../RData/wb_w11/oth_fam.RData")
rm(oth_fam)


```

# Quality estimation
```{r closeRsession, echo=FALSE} 
opal.logout(o)
```

