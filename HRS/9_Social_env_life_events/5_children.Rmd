---
title: "Has children and/or grandchildren"
output:
  html_document:
    highlight: tango
    number_sections: yes
    theme: united
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
      smooth_scroll: yes
---

<!-- ########################################################## --> 
<!-- # Installation, loading packages -->
```{r setup, include=FALSE}
source("../../setup_iago.r")
```
<!-- ########################################################## --> 
<!-- # Loading DS description -->
```{r main, child='../../_DS_Rmd/childrenDS.Rmd'}
```


```{r global, echo=F}
source('../../_DS_Rmd/childrenDS.R')
```




# Data process

## HRS

### Wave 1 

#### Study-specific variable description



| **Name** | `H1CHILD`|
|-|-|
| **Label** |`H1CHILD:W1 Number of living children R/P`|
| **Table name** |`HRS-HRS-w1`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign1 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w1_child','HRS.HRS-HRS-w1',variables=list('H1CHILD'), missings = TRUE)
```

```{r local1 hrs, echo=F}
HRS_hrs_w1_child <- opal.execute(o,'HRS_hrs_w1_child')
vari <- HRS_hrs_w1_child$H1CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w1_child$H1CHILD, missing_values = NA)
ggplot(HRS_hrs_w1_child, aes(H1CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo1 hrs, echo=TRUE}
HRS_ds_hrs_w1 <- tibble(id=HRS_hrs_w1_child$id)
HRS_ds_hrs_w1$child <- car::recode(as.vector(HRS_hrs_w1_child$H1CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w1$child <- labelled(HRS_ds_hrs_w1$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript1 hrs, echo=F}
vari <-  HRS_ds_hrs_w1$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w1$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w1, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation1 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w1$child)
BeforeH <- table(HRS_hrs_w1_child$H1CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:20)])
BeforeH <- BeforeH[c(1,2,21)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 2

#### Study-specific variable description



| **Name** | `H2CHILD`|
|-|-|
| **Label** |`H2CHILD:W2 Number of living children R/P`|
| **Table name** |`HRS-HRS-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign2 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w2_child','HRS.HRS-HRS-w2',variables=list('H2CHILD'), missings = TRUE)
```

```{r local2 hrs, echo=F}
HRS_hrs_w2_child <- opal.execute(o,'HRS_hrs_w2_child')
vari <- HRS_hrs_w2_child$H2CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w2_child$H2CHILD, missing_values = NA)
ggplot(HRS_hrs_w2_child, aes(H2CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo2 hrs, echo=TRUE}
HRS_ds_hrs_w2 <- tibble(id=HRS_hrs_w2_child$id)
HRS_ds_hrs_w2$child <- car::recode(as.vector(HRS_hrs_w2_child$H2CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w2$child <- labelled(HRS_ds_hrs_w2$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript2 hrs, echo=F}
vari <-  HRS_ds_hrs_w2$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w2$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w2, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation2 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w2$child)
BeforeH <- table(HRS_hrs_w2_child$H2CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:19)])
BeforeH <- BeforeH[c(1,2,20)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 3

#### Study-specific variable description



| **Name** | `H3CHILD`|
|-|-|
| **Label** |`H3CHILD:W3 Number of living children R/P`|
| **Table name** |`HRS-HRS-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign3 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w3_child','HRS.HRS-HRS-w3', variables=list('H3CHILD'), missings = TRUE)
```

```{r local3 hrs, echo=F}
HRS_hrs_w3_child <- opal.execute(o,'HRS_hrs_w3_child')
vari <- HRS_hrs_w3_child$H3CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w3_child$H3CHILD, missing_values = NA)
ggplot(HRS_hrs_w3_child, aes(H3CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo3 hrs, echo=TRUE}
HRS_ds_hrs_w3 <- tibble(id=HRS_hrs_w3_child$id)
HRS_ds_hrs_w3$child <- car::recode(as.vector(HRS_hrs_w3_child$H3CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w3$child <- labelled(HRS_ds_hrs_w3$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript3 hrs, echo=F}
vari <-  HRS_ds_hrs_w3$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w3$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w3, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation3 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w3$child)
BeforeH <- table(HRS_hrs_w3_child$H3CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:19)])
BeforeH <- BeforeH[c(1,2,20)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 4

#### Study-specific variable description



| **Name** | `H4CHILD`|
|-|-|
| **Label** |`H4CHILD:W4 Number of living children R/P`|
| **Table name** |`HRS-HRS-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign4 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w4_child','HRS.HRS-HRS-w4',variables=list('H4CHILD'), missings = TRUE)
```

```{r local4 hrs, echo=F}
HRS_hrs_w4_child <- opal.execute(o,'HRS_hrs_w4_child')
vari <- HRS_hrs_w4_child$H4CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w4_child$H4CHILD, missing_values = NA)
ggplot(HRS_hrs_w4_child, aes(H4CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo4 hrs, echo=TRUE}
HRS_ds_hrs_w4 <- tibble(id=HRS_hrs_w4_child$id)
HRS_ds_hrs_w4$child <- car::recode(as.vector(HRS_hrs_w4_child$H4CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w4$child <- labelled(HRS_ds_hrs_w4$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 hrs, echo=F}
vari <-  HRS_ds_hrs_w4$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w4$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w4, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation4 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w4$child)
BeforeH <- table(HRS_hrs_w4_child$H4CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:19)])
BeforeH <- BeforeH[c(1,2,20)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 5

#### Study-specific variable description



| **Name** | `H5CHILD`|
|-|-|
| **Label** |`H5CHILD:W5 Number of living children R/P`|
| **Table name** |`HRS-HRS-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign5 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w5_child','HRS.HRS-HRS-w5',variables=list('H5CHILD'), missings = TRUE)
```

```{r local5 hrs, echo=F}
HRS_hrs_w5_child <- opal.execute(o,'HRS_hrs_w5_child')
vari <- HRS_hrs_w5_child$H5CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w5_child$H5CHILD, missing_values = NA)
ggplot(HRS_hrs_w5_child, aes(H5CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo5 hrs, echo=TRUE}
HRS_ds_hrs_w5 <- tibble(id=HRS_hrs_w5_child$id)
HRS_ds_hrs_w5$child <- car::recode(as.vector(HRS_hrs_w5_child$H5CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w5$child <- labelled(HRS_ds_hrs_w5$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 hrs, echo=F}
vari <-  HRS_ds_hrs_w5$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w5$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w5, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation5 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w5$child)
BeforeH <- table(HRS_hrs_w5_child$H5CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:19)])
BeforeH <- BeforeH[c(1,2,20)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 6

#### Study-specific variable description



| **Name** | `H6CHILD`|
|-|-|
| **Label** |`H6CHILD:W6 Number of living children R/P`|
| **Table name** |`HRS-HRS-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign6 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w6_child','HRS.HRS-HRS-w6',variables=list('H6CHILD'), missings = TRUE)
```

```{r local6 hrs, echo=F}
HRS_hrs_w6_child <- opal.execute(o,'HRS_hrs_w6_child')
vari <- HRS_hrs_w6_child$H6CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w6_child$H6CHILD, missing_values = NA)
ggplot(HRS_hrs_w6_child, aes(H6CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo6 hrs, echo=TRUE}
HRS_ds_hrs_w6 <- tibble(id=HRS_hrs_w6_child$id)
HRS_ds_hrs_w6$child <- car::recode(as.vector(HRS_hrs_w6_child$H6CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w6$child <- labelled(HRS_ds_hrs_w6$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 hrs, echo=F}
vari <-  HRS_ds_hrs_w6$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w6$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w6, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w6$child)
BeforeH <- table(HRS_hrs_w6_child$H6CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:18)])
BeforeH <- BeforeH[c(1,2,19)]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 7

#### Study-specific variable description



| **Name** | `H7CHILD`|
|-|-|
| **Label** |`H7CHILD:W7 Number of living children R/P`|
| **Table name** |`HRS-HRS-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign7 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w7_child','HRS.HRS-HRS-w7',variables=list('H7CHILD'), missings = TRUE)
```

```{r local7 hrs, echo=F}
HRS_hrs_w7_child <- opal.execute(o,'HRS_hrs_w7_child')
vari <- HRS_hrs_w7_child$H7CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w7_child$H7CHILD, missing_values = NA)
ggplot(HRS_hrs_w7_child, aes(H7CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo7 hrs, echo=TRUE}
HRS_ds_hrs_w7 <- tibble(id=HRS_hrs_w7_child$id)
HRS_ds_hrs_w7$child <- car::recode(as.vector(HRS_hrs_w7_child$H7CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w7$child <- labelled(HRS_ds_hrs_w7$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 hrs, echo=F}
vari <-  HRS_ds_hrs_w7$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w7$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w7, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w7$child)
BeforeH <- table(HRS_hrs_w7_child$H7CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 8

#### Study-specific variable description



| **Name** | `H8CHILD`|
|-|-|
| **Label** |`H8CHILD:W8 Number of living children R/P`|
| **Table name** |`HRS-HRS-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign8 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w8_child','HRS.HRS-HRS-w8',variables=list('H8CHILD'), missings = TRUE)
```

```{r local8 hrs, echo=F}
HRS_hrs_w8_child <- opal.execute(o,'HRS_hrs_w8_child')
vari <- HRS_hrs_w8_child$H8CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w8_child$H8CHILD, missing_values = NA)
ggplot(HRS_hrs_w8_child, aes(H8CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo8 hrs, echo=TRUE}
HRS_ds_hrs_w8 <- tibble(id=HRS_hrs_w8_child$id)
HRS_ds_hrs_w8$child <- car::recode(as.vector(HRS_hrs_w8_child$H8CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w8$child <- labelled(HRS_ds_hrs_w8$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 hrs, echo=F}
vari <-  HRS_ds_hrs_w8$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w8$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w8, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w8$child)
BeforeH <- table(HRS_hrs_w8_child$H8CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 9

#### Study-specific variable description



| **Name** | `H9CHILD`|
|-|-|
| **Label** |`H9CHILD:W9 Number of living children R/P`|
| **Table name** |`HRS-HRS-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign9 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w9_child','HRS.HRS-HRS-w9',variables=list('H9CHILD'), missings = TRUE)
```

```{r local9 hrs, echo=F}
HRS_hrs_w9_child <- opal.execute(o,'HRS_hrs_w9_child')
vari <- HRS_hrs_w9_child$H9CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w9_child$H9CHILD, missing_values = NA)
ggplot(HRS_hrs_w9_child, aes(H9CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo9 hrs, echo=TRUE}
HRS_ds_hrs_w9 <- tibble(id=HRS_hrs_w9_child$id)
HRS_ds_hrs_w9$child <- car::recode(as.vector(HRS_hrs_w9_child$H9CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w9$child <- labelled(HRS_ds_hrs_w9$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 hrs, echo=F}
vari <-  HRS_ds_hrs_w9$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w9$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w9, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w9$child)
BeforeH <- table(HRS_hrs_w9_child$H9CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-HRS-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w10_child','HRS.HRS-HRS-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 hrs, echo=F}
HRS_hrs_w10_child <- opal.execute(o,'HRS_hrs_w10_child')
vari <- HRS_hrs_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_hrs_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo10 hrs, echo=TRUE}
HRS_ds_hrs_w10 <- tibble(id=HRS_hrs_w10_child$id)
HRS_ds_hrs_w10$child <- car::recode(as.vector(HRS_hrs_w10_child$H10CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w10$child <- labelled(HRS_ds_hrs_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 hrs, echo=F}
vari <-  HRS_ds_hrs_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w10$child)
BeforeH <- table(HRS_hrs_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-HRS-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 hrs, echo=F}
opal.assign.table.tibble(o, 'HRS_hrs_w11_child','HRS.HRS-HRS-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 hrs, echo=F}
HRS_hrs_w11_child <- opal.execute(o,'HRS_hrs_w11_child')
vari <- HRS_hrs_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_hrs_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_hrs_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo11 hrs, echo=TRUE}
HRS_ds_hrs_w11 <- tibble(id=HRS_hrs_w11_child$id)
HRS_ds_hrs_w11$child <- car::recode(as.vector(HRS_hrs_w11_child$H11CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_hrs_w11$child <- labelled(HRS_ds_hrs_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 hrs, echo=F}
vari <-  HRS_ds_hrs_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 hrs, echo=F}
AfterH <- table(HRS_ds_hrs_w11$child)
BeforeH <- table(HRS_hrs_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



## AHEAD

### Wave 2

#### Study-specific variable description



| **Name** | `H2CHILD`|
|-|-|
| **Label** |`H2CHILD:W2 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w2`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign2 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w2_child','HRS.HRS-AHEAD-w2',variables=list('H2CHILD'), missings = TRUE)
```

```{r local2 ahead, echo=F}
HRS_ahead_w2_child <- opal.execute(o,'HRS_ahead_w2_child')
vari <- HRS_ahead_w2_child$H2CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w2_child$H2CHILD, missing_values = NA)
ggplot(HRS_ahead_w2_child, aes(H2CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo2 ahead, echo=TRUE}
HRS_ds_ahead_w2 <- tibble(id=HRS_ahead_w2_child$id)
HRS_ds_ahead_w2$child <- car::recode(as.vector(HRS_ahead_w2_child$H2CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w2$child <- labelled(HRS_ds_ahead_w2$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript2 ahead, echo=F}
vari <-  HRS_ds_ahead_w2$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w2$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w2, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation2 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w2$child)
BeforeH <- table(HRS_ahead_w2_child$H2CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 3

#### Study-specific variable description



| **Name** | `H3CHILD`|
|-|-|
| **Label** |`H3CHILD:W3 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w3`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign3 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w3_child','HRS.HRS-AHEAD-w3',variables=list('H3CHILD'), missings = TRUE)
```

```{r local3 ahead, echo=F}
HRS_ahead_w3_child <- opal.execute(o,'HRS_ahead_w3_child')
vari <- HRS_ahead_w3_child$H3CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w3_child$H3CHILD, missing_values = NA)
ggplot(HRS_ahead_w3_child, aes(H3CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo3 ahead, echo=TRUE}
HRS_ds_ahead_w3 <- tibble(id=HRS_ahead_w3_child$id)
HRS_ds_ahead_w3$child <- car::recode(as.vector(HRS_ahead_w3_child$H3CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w3$child <- labelled(HRS_ds_ahead_w3$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript3 ahead, echo=F}
vari <-  HRS_ds_ahead_w3$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w3$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w3, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation3 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w3$child)
BeforeH <- table(HRS_ahead_w3_child$H3CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 4

#### Study-specific variable description



| **Name** | `H4CHILD`|
|-|-|
| **Label** |`H4CHILD:W4 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign4 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w4_child','HRS.HRS-AHEAD-w4',variables=list('H4CHILD'), missings = TRUE)
```

```{r local4 ahead, echo=F}
HRS_ahead_w4_child <- opal.execute(o,'HRS_ahead_w4_child')
vari <- HRS_ahead_w4_child$H4CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w4_child$H4CHILD, missing_values = NA)
ggplot(HRS_ahead_w4_child, aes(H4CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo4 ahead, echo=TRUE}
HRS_ds_ahead_w4 <- tibble(id=HRS_ahead_w4_child$id)
HRS_ds_ahead_w4$child <- car::recode(as.vector(HRS_ahead_w4_child$H4CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w4$child <- labelled(HRS_ds_ahead_w4$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 ahead, echo=F}
vari <-  HRS_ds_ahead_w4$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w4$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w4, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation4 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w4$child)
BeforeH <- table(HRS_ahead_w4_child$H4CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 5

#### Study-specific variable description



| **Name** | `H5CHILD`|
|-|-|
| **Label** |`H5CHILD:W5 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign5 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w5_child','HRS.HRS-AHEAD-w5',variables=list('H5CHILD'), missings = TRUE)
```

```{r local5 ahead, echo=F}
HRS_ahead_w5_child <- opal.execute(o,'HRS_ahead_w5_child')
vari <- HRS_ahead_w5_child$H5CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w5_child$H5CHILD, missing_values = NA)
ggplot(HRS_ahead_w5_child, aes(H5CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo5 ahead, echo=TRUE}
HRS_ds_ahead_w5 <- tibble(id=HRS_ahead_w5_child$id)
HRS_ds_ahead_w5$child <- car::recode(as.vector(HRS_ahead_w5_child$H5CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w5$child <- labelled(HRS_ds_ahead_w5$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 ahead, echo=F}
vari <-  HRS_ds_ahead_w5$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w5$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w5, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation5 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w5$child)
BeforeH <- table(HRS_ahead_w5_child$H5CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 6

#### Study-specific variable description



| **Name** | `H6CHILD`|
|-|-|
| **Label** |`H6CHILD:W6 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign6 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w6_child','HRS.HRS-AHEAD-w6',variables=list('H6CHILD'), missings = TRUE)
```

```{r local6 ahead, echo=F}
HRS_ahead_w6_child <- opal.execute(o,'HRS_ahead_w6_child')
vari <- HRS_ahead_w6_child$H6CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w6_child$H6CHILD, missing_values = NA)
ggplot(HRS_ahead_w6_child, aes(H6CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo6 ahead, echo=TRUE}
HRS_ds_ahead_w6 <- tibble(id=HRS_ahead_w6_child$id)
HRS_ds_ahead_w6$child <- car::recode(as.vector(HRS_ahead_w6_child$H6CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w6$child <- labelled(HRS_ds_ahead_w6$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 ahead, echo=F}
vari <-  HRS_ds_ahead_w6$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w6$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w6, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w6$child)
BeforeH <- table(HRS_ahead_w6_child$H6CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 7

#### Study-specific variable description



| **Name** | `H7CHILD`|
|-|-|
| **Label** |`H7CHILD:W7 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign7 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w7_child','HRS.HRS-AHEAD-w7',variables=list('H7CHILD'), missings = TRUE)
```

```{r local7 ahead, echo=F}
HRS_ahead_w7_child <- opal.execute(o,'HRS_ahead_w7_child')
vari <- HRS_ahead_w7_child$H7CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w7_child$H7CHILD, missing_values = NA)
ggplot(HRS_ahead_w7_child, aes(H7CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo7 ahead, echo=TRUE}
HRS_ds_ahead_w7 <- tibble(id=HRS_ahead_w7_child$id)
HRS_ds_ahead_w7$child <- car::recode(as.vector(HRS_ahead_w7_child$H7CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w7$child <- labelled(HRS_ds_ahead_w7$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 ahead, echo=F}
vari <-  HRS_ds_ahead_w7$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w7$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w7, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w7$child)
BeforeH <- table(HRS_ahead_w7_child$H7CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 8

#### Study-specific variable description



| **Name** | `H8CHILD`|
|-|-|
| **Label** |`H8CHILD:W8 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign8 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w8_child','HRS.HRS-AHEAD-w8', variables=list('H8CHILD'), missings = TRUE)
```

```{r local8 ahead, echo=F}
HRS_ahead_w8_child <- opal.execute(o,'HRS_ahead_w8_child')
vari <- HRS_ahead_w8_child$H8CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w8_child$H8CHILD, missing_values = NA)
ggplot(HRS_ahead_w8_child, aes(H8CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo8 ahead, echo=TRUE}
HRS_ds_ahead_w8 <- tibble(id=HRS_ahead_w8_child$id)
HRS_ds_ahead_w8$child <- car::recode(as.vector(HRS_ahead_w8_child$H8CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w8$child <- labelled(HRS_ds_ahead_w8$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 ahead, echo=F}
vari <-  HRS_ds_ahead_w8$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w8$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w8, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w8$child)
BeforeH <- table(HRS_ahead_w8_child$H8CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 9

#### Study-specific variable description



| **Name** | `H9CHILD`|
|-|-|
| **Label** |`H9CHILD:W9 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign9 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w9_child','HRS.HRS-AHEAD-w9',variables=list('H9CHILD'), missings = TRUE)
```

```{r local9 ahead, echo=F}
HRS_ahead_w9_child <- opal.execute(o,'HRS_ahead_w9_child')
vari <- HRS_ahead_w9_child$H9CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w9_child$H9CHILD, missing_values = NA)
ggplot(HRS_ahead_w9_child, aes(H9CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo9 ahead, echo=TRUE}
HRS_ds_ahead_w9 <- tibble(id=HRS_ahead_w9_child$id)
HRS_ds_ahead_w9$child <- car::recode(as.vector(HRS_ahead_w9_child$H9CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w9$child <- labelled(HRS_ds_ahead_w9$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 ahead, echo=F}
vari <-  HRS_ds_ahead_w9$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w9$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w9, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w9$child)
BeforeH <- table(HRS_ahead_w9_child$H9CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")

```

 
 




### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w10_child','HRS.HRS-AHEAD-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 ahead, echo=F}
HRS_ahead_w10_child <- opal.execute(o,'HRS_ahead_w10_child')
vari <- HRS_ahead_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_ahead_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo10 ahead, echo=TRUE}
HRS_ds_ahead_w10 <- tibble(id=HRS_ahead_w10_child$id)
HRS_ds_ahead_w10$child <- car::recode(as.vector(HRS_ahead_w10_child$H10CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w10$child <- labelled(HRS_ds_ahead_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 ahead, echo=F}
vari <-  HRS_ds_ahead_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w10$child)
BeforeH <- table(HRS_ahead_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-AHEAD-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 ahead, echo=F}
opal.assign.table.tibble(o, 'HRS_ahead_w11_child','HRS.HRS-AHEAD-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 ahead, echo=F}
HRS_ahead_w11_child <- opal.execute(o,'HRS_ahead_w11_child')
vari <- HRS_ahead_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ahead_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_ahead_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`

**R script:**

```{r harmo11 ahead, echo=TRUE}
HRS_ds_ahead_w11 <- tibble(id=HRS_ahead_w11_child$id)
HRS_ds_ahead_w11$child <- car::recode(as.vector(HRS_ahead_w11_child$H11CHILD), "0='0'; NA='999'; 1:hi='1'")
HRS_ds_ahead_w11$child <- labelled(HRS_ds_ahead_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 ahead, echo=F}
vari <-  HRS_ds_ahead_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 ahead, echo=F}
AfterH <- table(HRS_ds_ahead_w11$child)
BeforeH <- table(HRS_ahead_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 


## CODA
### Wave 4

#### Study-specific variable description



| **Name** | `H4CHILD`|
|-|-|
| **Label** |`H4CHILD:W4 Number of living children R/P`|
| **Table name** |`HRS-CODA-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign4 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w4_child','HRS.HRS-CODA-w4',variables=list('H4CHILD'), missings = TRUE)
```

```{r local4 coda, echo=F}
HRS_coda_w4_child <- opal.execute(o,'HRS_coda_w4_child')
vari <- HRS_coda_w4_child$H4CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w4_child$H4CHILD, missing_values = NA)
ggplot(HRS_coda_w4_child, aes(H4CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo4 coda, echo=TRUE}
HRS_ds_coda_w4 <- tibble(id=HRS_coda_w4_child$id)
HRS_ds_coda_w4$child <- car::recode(as.vector(HRS_coda_w4_child$H4CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w4$child <- labelled(HRS_ds_coda_w4$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 coda, echo=F}
vari <-  HRS_ds_coda_w4$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w4$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w4, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation4 coda, echo=F}
AfterH <- table(HRS_ds_coda_w4$child)
BeforeH <- table(HRS_coda_w4_child$H4CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 5

#### Study-specific variable description



| **Name** | `H5CHILD`|
|-|-|
| **Label** |`H5CHILD:W5 Number of living children R/P`|
| **Table name** |`HRS-CODA-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign5 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w5_child','HRS.HRS-CODA-w5',variables=list('H5CHILD'), missings = TRUE)
```

```{r local5 coda, echo=F}
HRS_coda_w5_child <- opal.execute(o,'HRS_coda_w5_child')
vari <- HRS_coda_w5_child$H5CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w5_child$H5CHILD, missing_values = NA)
ggplot(HRS_coda_w5_child, aes(H5CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo5 coda, echo=TRUE}
HRS_ds_coda_w5 <- tibble(id=HRS_coda_w5_child$id)
HRS_ds_coda_w5$child <- car::recode(as.vector(HRS_coda_w5_child$H5CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w5$child <- labelled(HRS_ds_coda_w5$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 coda, echo=F}
vari <-  HRS_ds_coda_w5$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w5$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w5, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation5 coda, echo=F}
AfterH <- table(HRS_ds_coda_w5$child)
BeforeH <- table(HRS_coda_w5_child$H5CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 6

#### Study-specific variable description



| **Name** | `H6CHILD`|
|-|-|
| **Label** |`H6CHILD:W6 Number of living children R/P`|
| **Table name** |`HRS-CODA-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign6 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w6_child','HRS.HRS-CODA-w6',variables=list('H6CHILD'), missings = TRUE)
```

```{r local6 coda, echo=F}
HRS_coda_w6_child <- opal.execute(o,'HRS_coda_w6_child')
vari <- HRS_coda_w6_child$H6CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w6_child$H6CHILD, missing_values = NA)
ggplot(HRS_coda_w6_child, aes(H6CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo6 coda, echo=TRUE}
HRS_ds_coda_w6 <- tibble(id=HRS_coda_w6_child$id)
HRS_ds_coda_w6$child <- car::recode(as.vector(HRS_coda_w6_child$H6CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w6$child <- labelled(HRS_ds_coda_w6$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 coda, echo=F}
vari <-  HRS_ds_coda_w6$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w6$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w6, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 coda, echo=F}
AfterH <- table(HRS_ds_coda_w6$child)
BeforeH <- table(HRS_coda_w6_child$H6CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 7

#### Study-specific variable description



| **Name** | `H7CHILD`|
|-|-|
| **Label** |`H7CHILD:W7 Number of living children R/P`|
| **Table name** |`HRS-CODA-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign7 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w7_child','HRS.HRS-CODA-w7',variables=list('H7CHILD'), missings = TRUE)
```

```{r local7 coda, echo=F}
HRS_coda_w7_child <- opal.execute(o,'HRS_coda_w7_child')
vari <- HRS_coda_w7_child$H7CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w7_child$H7CHILD, missing_values = NA)
ggplot(HRS_coda_w7_child, aes(H7CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo7 coda, echo=TRUE}
HRS_ds_coda_w7 <- tibble(id=HRS_coda_w7_child$id)
HRS_ds_coda_w7$child <- car::recode(as.vector(HRS_coda_w7_child$H7CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w7$child <- labelled(HRS_ds_coda_w7$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 coda, echo=F}
vari <-  HRS_ds_coda_w7$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w7$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w7, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 coda, echo=F}
AfterH <- table(HRS_ds_coda_w7$child)
BeforeH <- table(HRS_coda_w7_child$H7CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 8

#### Study-specific variable description



| **Name** | `H8CHILD`|
|-|-|
| **Label** |`H8CHILD:W8 Number of living children R/P`|
| **Table name** |`HRS-CODA-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign8 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w8_child','HRS.HRS-CODA-w8',variables=list('H8CHILD'), missings = TRUE)
```

```{r local8 coda, echo=F}
HRS_coda_w8_child <- opal.execute(o,'HRS_coda_w8_child')
vari <- HRS_coda_w8_child$H8CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w8_child$H8CHILD, missing_values = NA)
ggplot(HRS_coda_w8_child, aes(H8CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo8 coda, echo=TRUE}
HRS_ds_coda_w8 <- tibble(id=HRS_coda_w8_child$id)
HRS_ds_coda_w8$child <- car::recode(as.vector(HRS_coda_w8_child$H8CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w8$child <- labelled(HRS_ds_coda_w8$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 coda, echo=F}
vari <-  HRS_ds_coda_w8$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w8$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w8, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 coda, echo=F}
AfterH <- table(HRS_ds_coda_w8$child)
BeforeH <- table(HRS_coda_w8_child$H8CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 9

#### Study-specific variable description



| **Name** | `H9CHILD`|
|-|-|
| **Label** |`H9CHILD:W9 Number of living children R/P`|
| **Table name** |`HRS-CODA-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign9 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w9_child','HRS.HRS-CODA-w9',variables=list('H9CHILD'), missings = TRUE)
```

```{r local9 coda, echo=F}
HRS_coda_w9_child <- opal.execute(o,'HRS_coda_w9_child')
vari <- HRS_coda_w9_child$H9CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w9_child$H9CHILD, missing_values = NA)
ggplot(HRS_coda_w9_child, aes(H9CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo9 coda, echo=TRUE}
HRS_ds_coda_w9 <- tibble(id=HRS_coda_w9_child$id)
HRS_ds_coda_w9$child <- car::recode(as.vector(HRS_coda_w9_child$H9CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w9$child <- labelled(HRS_ds_coda_w9$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 coda, echo=F}
vari <-  HRS_ds_coda_w9$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w9$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w9, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 coda, echo=F}
AfterH <- table(HRS_ds_coda_w9$child)
BeforeH <- table(HRS_coda_w9_child$H9CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-CODA-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w10_child','HRS.HRS-CODA-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 coda, echo=F}
HRS_coda_w10_child <- opal.execute(o,'HRS_coda_w10_child')
vari <- HRS_coda_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_coda_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo10 coda, echo=TRUE}
HRS_ds_coda_w10 <- tibble(id=HRS_coda_w10_child$id)
HRS_ds_coda_w10$child <- car::recode(as.vector(HRS_coda_w10_child$H10CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w10$child <- labelled(HRS_ds_coda_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 coda, echo=F}
vari <-  HRS_ds_coda_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 coda, echo=F}
AfterH <- table(HRS_ds_coda_w10$child)
BeforeH <- table(HRS_coda_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-CODA-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 coda, echo=F}
opal.assign.table.tibble(o, 'HRS_coda_w11_child','HRS.HRS-CODA-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 coda, echo=F}
HRS_coda_w11_child <- opal.execute(o,'HRS_coda_w11_child')
vari <- HRS_coda_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_coda_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_coda_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo11 coda, echo=TRUE}
HRS_ds_coda_w11 <- tibble(id=HRS_coda_w11_child$id)
HRS_ds_coda_w11$child <- car::recode(as.vector(HRS_coda_w11_child$H11CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_coda_w11$child <- labelled(HRS_ds_coda_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 coda, echo=F}
vari <-  HRS_ds_coda_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 coda, echo=F}
AfterH <- table(HRS_ds_coda_w11$child)
BeforeH <- table(HRS_coda_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 


## WB

### Wave 4

#### Study-specific variable description



| **Name** | `H4CHILD`|
|-|-|
| **Label** |`H4CHILD:W4 Number of living children R/P`|
| **Table name** |`HRS-WB-w4`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign4 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w4_child','HRS.HRS-WB-w4',variables=list('H4CHILD'), missings = TRUE)
```

```{r local4 wb, echo=F}
HRS_wb_w4_child <- opal.execute(o,'HRS_wb_w4_child')
vari <- HRS_wb_w4_child$H4CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w4_child$H4CHILD, missing_values = NA)
ggplot(HRS_wb_w4_child, aes(H4CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo4 wb, echo=TRUE}
HRS_ds_wb_w4 <- tibble(id=HRS_wb_w4_child$id)
HRS_ds_wb_w4$child <- car::recode(as.vector(HRS_wb_w4_child$H4CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w4$child <- labelled(HRS_ds_wb_w4$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript4 wb, echo=F}
vari <-  HRS_ds_wb_w4$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w4$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w4, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation4 wb, echo=F}
AfterH <- table(HRS_ds_wb_w4$child)
BeforeH <- table(HRS_wb_w4_child$H4CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 5

#### Study-specific variable description



| **Name** | `H5CHILD`|
|-|-|
| **Label** |`H5CHILD:W5 Number of living children R/P`|
| **Table name** |`HRS-WB-w5`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign5 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w5_child','HRS.HRS-WB-w5',variables=list('H5CHILD'), missings = TRUE)
```

```{r local5 wb, echo=F}
HRS_wb_w5_child <- opal.execute(o,'HRS_wb_w5_child')
vari <- HRS_wb_w5_child$H5CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w5_child$H5CHILD, missing_values = NA)
ggplot(HRS_wb_w5_child, aes(H5CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo5 wb, echo=TRUE}
HRS_ds_wb_w5 <- tibble(id=HRS_wb_w5_child$id)
HRS_ds_wb_w5$child <- car::recode(as.vector(HRS_wb_w5_child$H5CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w5$child <- labelled(HRS_ds_wb_w5$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript5 wb, echo=F}
vari <-  HRS_ds_wb_w5$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w5$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w5, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue")+ xlab("Has children") + ylab("Frequency")
```

##### Validation
```{r crosstabulation5 wb, echo=F}
AfterH <- table(HRS_ds_wb_w5$child)
BeforeH <- table(HRS_wb_w5_child$H5CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 6

#### Study-specific variable description



| **Name** | `H6CHILD`|
|-|-|
| **Label** |`H6CHILD:W6 Number of living children R/P`|
| **Table name** |`HRS-WB-w6`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign6 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w6_child','HRS.HRS-WB-w6',variables=list('H6CHILD'), missings = TRUE)
```

```{r local6 wb, echo=F}
HRS_wb_w6_child <- opal.execute(o,'HRS_wb_w6_child')
vari <- HRS_wb_w6_child$H6CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w6_child$H6CHILD, missing_values = NA)
ggplot(HRS_wb_w6_child, aes(H6CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo6 wb, echo=TRUE}
HRS_ds_wb_w6 <- tibble(id=HRS_wb_w6_child$id)
HRS_ds_wb_w6$child <- car::recode(as.vector(HRS_wb_w6_child$H6CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w6$child <- labelled(HRS_ds_wb_w6$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript6 wb, echo=F}
vari <-  HRS_ds_wb_w6$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w6$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w6, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation6 wb, echo=F}
AfterH <- table(HRS_ds_wb_w6$child)
BeforeH <- table(HRS_wb_w6_child$H6CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 7

#### Study-specific variable description



| **Name** | `H7CHILD`|
|-|-|
| **Label** |`H7CHILD:W7 Number of living children R/P`|
| **Table name** |`HRS-WB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign7 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w7_child','HRS.HRS-WB-w7',variables=list('H7CHILD'), missings = TRUE)
```

```{r local7 wb, echo=F}
HRS_wb_w7_child <- opal.execute(o,'HRS_wb_w7_child')
vari <- HRS_wb_w7_child$H7CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w7_child$H7CHILD, missing_values = NA)
ggplot(HRS_wb_w7_child, aes(H7CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo7 wb, echo=TRUE}
HRS_ds_wb_w7 <- tibble(id=HRS_wb_w7_child$id)
HRS_ds_wb_w7$child <- car::recode(as.vector(HRS_wb_w7_child$H7CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w7$child <- labelled(HRS_ds_wb_w7$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 wb, echo=F}
vari <-  HRS_ds_wb_w7$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w7$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w7, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 wb, echo=F}
AfterH <- table(HRS_ds_wb_w7$child)
BeforeH <- table(HRS_wb_w7_child$H7CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 8

#### Study-specific variable description



| **Name** | `H8CHILD`|
|-|-|
| **Label** |`H8CHILD:W8 Number of living children R/P`|
| **Table name** |`HRS-WB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign8 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w8_child','HRS.HRS-WB-w8',variables=list('H8CHILD'), missings = TRUE)
```

```{r local8 wb, echo=F}
HRS_wb_w8_child <- opal.execute(o,'HRS_wb_w8_child')
vari <- HRS_wb_w8_child$H8CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w8_child$H8CHILD, missing_values = NA)
ggplot(HRS_wb_w8_child, aes(H8CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo8 wb, echo=TRUE}
HRS_ds_wb_w8 <- tibble(id=HRS_wb_w8_child$id)
HRS_ds_wb_w8$child <- car::recode(as.vector(HRS_wb_w8_child$H8CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w8$child <- labelled(HRS_ds_wb_w8$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 wb, echo=F}
vari <-  HRS_ds_wb_w8$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w8$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w8, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 wb, echo=F}
AfterH <- table(HRS_ds_wb_w8$child)
BeforeH <- table(HRS_wb_w8_child$H8CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 9

#### Study-specific variable description



| **Name** | `H9CHILD`|
|-|-|
| **Label** |`H9CHILD:W9 Number of living children R/P`|
| **Table name** |`HRS-WB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign9 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w9_child','HRS.HRS-WB-w9', variables=list('H9CHILD'), missings = TRUE)
```

```{r local9 wb, echo=F}
HRS_wb_w9_child <- opal.execute(o,'HRS_wb_w9_child')
vari <- HRS_wb_w9_child$H9CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w9_child$H9CHILD, missing_values = NA)
ggplot(HRS_wb_w9_child, aes(H9CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo9 wb, echo=TRUE}
HRS_ds_wb_w9 <- tibble(id=HRS_wb_w9_child$id)
HRS_ds_wb_w9$child <- car::recode(as.vector(HRS_wb_w9_child$H9CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w9$child <- labelled(HRS_ds_wb_w9$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 wb, echo=F}
vari <-  HRS_ds_wb_w9$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w9$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w9, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 wb, echo=F}
AfterH <- table(HRS_ds_wb_w9$child)
BeforeH <- table(HRS_wb_w9_child$H9CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-WB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w10_child','HRS.HRS-WB-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 wb, echo=F}
HRS_wb_w10_child <- opal.execute(o,'HRS_wb_w10_child')
vari <- HRS_wb_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_wb_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo10 wb, echo=TRUE}
HRS_ds_wb_w10 <- tibble(id=HRS_wb_w10_child$id)
HRS_ds_wb_w10$child <- car::recode(as.vector(HRS_wb_w10_child$H10CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w10$child <- labelled(HRS_ds_wb_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 wb, echo=F}
vari <-  HRS_ds_wb_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 wb, echo=F}
AfterH <- table(HRS_ds_wb_w10$child)
BeforeH <- table(HRS_wb_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-WB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 wb, echo=F}
opal.assign.table.tibble(o, 'HRS_wb_w11_child','HRS.HRS-WB-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 wb, echo=F}
HRS_wb_w11_child <- opal.execute(o,'HRS_wb_w11_child')
vari <- HRS_wb_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_wb_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_wb_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo11 wb, echo=TRUE}
HRS_ds_wb_w11 <- tibble(id=HRS_wb_w11_child$id)
HRS_ds_wb_w11$child <- car::recode(as.vector(HRS_wb_w11_child$H11CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_wb_w11$child <- labelled(HRS_ds_wb_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 wb, echo=F}
vari <-  HRS_ds_wb_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 wb, echo=F}
AfterH <- table(HRS_ds_wb_w11$child)
BeforeH <- table(HRS_wb_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



## EBB
### Wave 7

#### Study-specific variable description



| **Name** | `H7CHILD`|
|-|-|
| **Label** |`H7CHILD:W7 Number of living children R/P`|
| **Table name** |`HRS-EBB-w7`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign7 wb ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w7_child','HRS.HRS-EBB-w7',variables=list('H7CHILD'), missings = TRUE)
```

```{r local7 wb ebb, echo=F}
HRS_ebb_w7_child <- opal.execute(o,'HRS_ebb_w7_child')
vari <- HRS_ebb_w7_child$H7CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w7_child$H7CHILD, missing_values = NA)
ggplot(HRS_ebb_w7_child, aes(H7CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo7 wb ebb, echo=TRUE}
HRS_ds_ebb_w7 <- tibble(id=HRS_ebb_w7_child$id)
HRS_ds_ebb_w7$child <- car::recode(as.vector(HRS_ebb_w7_child$H7CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_ebb_w7$child <- labelled(HRS_ds_ebb_w7$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript7 wb ebb, echo=F}
vari <-  HRS_ds_ebb_w7$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w7$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w7, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation7 wb ebb, echo=F}
AfterH <- table(HRS_ds_ebb_w7$child)
BeforeH <- table(HRS_ebb_w7_child$H7CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 8

#### Study-specific variable description



| **Name** | `H8CHILD`|
|-|-|
| **Label** |`H8CHILD:W8 Number of living children R/P`|
| **Table name** |`HRS-EBB-w8`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign8 wb ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w8_child','HRS.HRS-EBB-w8',variables=list('H8CHILD'), missings = TRUE)
```

```{r local8 wb ebb, echo=F}
HRS_ebb_w8_child <- opal.execute(o,'HRS_ebb_w8_child')
vari <- HRS_ebb_w8_child$H8CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w8_child$H8CHILD, missing_values = NA)
ggplot(HRS_ebb_w8_child, aes(H8CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo8 wb ebb, echo=TRUE}
HRS_ds_ebb_w8 <- tibble(id=HRS_ebb_w8_child$id)
HRS_ds_ebb_w8$child <- car::recode(as.vector(HRS_ebb_w8_child$H8CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_ebb_w8$child <- labelled(HRS_ds_ebb_w8$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript8 wb ebb, echo=F}
vari <-  HRS_ds_ebb_w8$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w8$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w8, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation8 wb ebb, echo=F}
AfterH <- table(HRS_ds_ebb_w8$child)
BeforeH <- table(HRS_ebb_w8_child$H8CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 



### Wave 9

#### Study-specific variable description



| **Name** | `H9CHILD`|
|-|-|
| **Label** |`H9CHILD:W9 Number of living children R/P`|
| **Table name** |`HRS-EBB-w9`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign9 wb ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w9_child','HRS.HRS-EBB-w9',variables=list('H9CHILD'), missings = TRUE)
```

```{r local9 wb ebb, echo=F}
HRS_ebb_w9_child <- opal.execute(o,'HRS_ebb_w9_child')
vari <- HRS_ebb_w9_child$H9CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w9_child$H9CHILD, missing_values = NA)
ggplot(HRS_ebb_w9_child, aes(H9CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo9 wb ebb, echo=TRUE}
HRS_ds_ebb_w9 <- tibble(id=HRS_ebb_w9_child$id)
HRS_ds_ebb_w9$child <- car::recode(as.vector(HRS_ebb_w9_child$H9CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_ebb_w9$child <- labelled(HRS_ds_ebb_w9$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript9 wb ebb, echo=F}
vari <-  HRS_ds_ebb_w9$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w9$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w9, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation9 wb ebb, echo=F}
AfterH <- table(HRS_ds_ebb_w9$child)
BeforeH <- table(HRS_ebb_w9_child$H9CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-EBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 wb ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w10_child','HRS.HRS-EBB-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 wb ebb, echo=F}
HRS_ebb_w10_child <- opal.execute(o,'HRS_ebb_w10_child')
vari <- HRS_ebb_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_ebb_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo10 wb ebb, echo=TRUE}
HRS_ds_ebb_w10 <- tibble(id=HRS_ebb_w10_child$id)
HRS_ds_ebb_w10$child <- car::recode(as.vector(HRS_ebb_w10_child$H10CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_ebb_w10$child <- labelled(HRS_ds_ebb_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 wb ebb, echo=F}
vari <-  HRS_ds_ebb_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 wb ebb, echo=F}
AfterH <- table(HRS_ds_ebb_w10$child)
BeforeH <- table(HRS_ebb_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-EBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 wb ebb, echo=F}
opal.assign.table.tibble(o, 'HRS_ebb_w11_child','HRS.HRS-EBB-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 wb ebb, echo=F}
HRS_ebb_w11_child <- opal.execute(o,'HRS_ebb_w11_child')
vari <- HRS_ebb_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_ebb_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_ebb_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo11 wb ebb, echo=TRUE}
HRS_ds_ebb_w11 <- tibble(id=HRS_ebb_w11_child$id)
HRS_ds_ebb_w11$child <- car::recode(as.vector(HRS_ebb_w11_child$H11CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_ebb_w11$child <- labelled(HRS_ds_ebb_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 wb ebb, echo=F}
vari <-  HRS_ds_ebb_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 wb ebb, echo=F}
AfterH <- table(HRS_ds_ebb_w11$child)
BeforeH <- table(HRS_ebb_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




## MBB

### Wave 10

#### Study-specific variable description



| **Name** | `H10CHILD`|
|-|-|
| **Label** |`H10CHILD:W10 Number of living children R/P`|
| **Table name** |`HRS-MBB-w10`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |




```{r assign10 mbb, echo=F}
opal.assign.table.tibble(o, 'HRS_mbb_w10_child','HRS.HRS-MBB-w10',variables=list('H10CHILD'), missings = TRUE)
```

```{r local10 mbb, echo=F}
HRS_mbb_w10_child <- opal.execute(o,'HRS_mbb_w10_child')
vari <- HRS_mbb_w10_child$H10CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w10_child$H10CHILD, missing_values = NA)
ggplot(HRS_mbb_w10_child, aes(H10CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo10 mbb, echo=TRUE}
HRS_ds_mbb_w10 <- tibble(id=HRS_mbb_w10_child$id)
HRS_ds_mbb_w10$child <- car::recode(as.vector(HRS_mbb_w10_child$H10CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_mbb_w10$child <- labelled(HRS_ds_mbb_w10$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript10 mbb, echo=F}
vari <-  HRS_ds_mbb_w10$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w10$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w10, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation10 mbb, echo=F}
AfterH <- table(HRS_ds_ebb_w10$child)
BeforeH <- table(HRS_ebb_w10_child$H10CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```

 
 




### Wave 11

#### Study-specific variable description



| **Name** | `H11CHILD`|
|-|-|
| **Label** |`H11CHILD:W11 Number of living children R/P`|
| **Table name** |`HRS-MBB-w11`|
| **Categories** |`continuous`|
| **Missings** |`NA`|
| **Description** |  |


    

```{r assign11 mbb, echo=F}
opal.assign.table.tibble(o, 'HRS_mbb_w11_child','HRS.HRS-MBB-w11',variables=list('H11CHILD'), missings = TRUE)
```

```{r local11 mbb, echo=F}
HRS_mbb_w11_child <- opal.execute(o,'HRS_mbb_w11_child')
vari <- HRS_mbb_w11_child$H11CHILD
kable(Continuous_summary(vari, missing_values = NA)[3], caption = attributes(vari)$`spss::shortName`) 
pander(Continuous_summary(vari, missing_values = NA)$summary, caption = "Summary")
#Continuous_summary(var = HRS_mbb_w11_child$H11CHILD, missing_values = NA)
ggplot(HRS_mbb_w11_child, aes(H11CHILD)) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Number of living children") + ylab("Frequency")
```

#### Harmonisation algorithm
To recode the harmonize variable from the study-specific variable it has to be recoded as follows:  

* `0 into 0`
* `>0 into 1`
* `NA into 999`

**R script:**

```{r harmo11 mbb, echo=TRUE}
HRS_ds_mbb_w11 <- tibble(id=HRS_mbb_w11_child$id)
HRS_ds_mbb_w11$child <- car::recode(as.vector(HRS_mbb_w11_child$H11CHILD), "0='0'; 1:hi='1'; NA='999'")
HRS_ds_mbb_w11$child <- labelled(HRS_ds_mbb_w11$child, labels = c("No"=0, "Yes"=1, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Don't answer"=995,  "Not attempt/not done/not yet recorded"=994, "Disable to measure"=993, "Impute"=992, "CAPI/interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript11 mbb, echo=F}
vari <-  HRS_ds_mbb_w11$child
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w11$child, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w11, aes(x=factor(child))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Has children") + ylab("Frequency")
```

#### Validation
```{r crosstabulation11 mbb, echo=F}
AfterH <- table(HRS_ds_mbb_w11$child)
BeforeH <- table(HRS_mbb_w11_child$H11CHILD, useNA='ifany')
BeforeH[[2]] <- sum(BeforeH[c(2:(length(BeforeH)-1))])
BeforeH <- BeforeH[c(1,2,length(BeforeH))]
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("0","1","NA->999")
kable(C)
```






```{r final, echo=F}

l.hrs <- list(hrs_w1 = HRS_ds_hrs_w1, hrs_w2 = HRS_ds_hrs_w2, hrs_w3 = HRS_ds_hrs_w3, hrs_w4 = HRS_ds_hrs_w4, hrs_w5 = HRS_ds_hrs_w5, hrs_w6 = HRS_ds_hrs_w6, hrs_w7 = HRS_ds_hrs_w7, hrs_w8 = HRS_ds_hrs_w8, hrs_w9 = HRS_ds_hrs_w9, hrs_w10 = HRS_ds_hrs_w10, hrs_w11 = HRS_ds_hrs_w11, ahead_w2 = HRS_ds_ahead_w2, ahead_w3 = HRS_ds_ahead_w3, ahead_w4 = HRS_ds_ahead_w4, ahead_w5 = HRS_ds_ahead_w5, ahead_w6 = HRS_ds_ahead_w6, ahead_w7 = HRS_ds_ahead_w7, ahead_w8 = HRS_ds_ahead_w8, ahead_w9 = HRS_ds_ahead_w9, ahead_w10 = HRS_ds_ahead_w10, ahead_w11 = HRS_ds_ahead_w11, coda_w4 = HRS_ds_coda_w4, coda_w5 = HRS_ds_coda_w5, coda_w6 = HRS_ds_coda_w6, coda_w7 = HRS_ds_coda_w7, coda_w8 = HRS_ds_coda_w8, coda_w9 = HRS_ds_coda_w9, coda_w10 = HRS_ds_coda_w10, coda_w11 = HRS_ds_coda_w11, wb_w4 = HRS_ds_wb_w4, wb_w5 = HRS_ds_wb_w5, wb_w6 = HRS_ds_wb_w6, wb_w7 = HRS_ds_wb_w7, wb_w8 = HRS_ds_wb_w8, wb_w9 = HRS_ds_wb_w9, wb_w10 = HRS_ds_wb_w10, wb_w11 = HRS_ds_wb_w11, ebb_w7 = HRS_ds_ebb_w7, ebb_w8 = HRS_ds_ebb_w8, ebb_w9 = HRS_ds_ebb_w9, ebb_w10 = HRS_ds_ebb_w10, ebb_w11 = HRS_ds_ebb_w11, mbb_w10 = HRS_ds_mbb_w10, mbb_w11 = HRS_ds_mbb_w11)

for(name in names(l.hrs)) {
  m_name <- paste0("HRS_m_ds_",name)
  aux_object <- l.hrs[[name]]
  label(l.hrs[[name]][[2]]) <- label(aux_object[[2]]) <- ds_label # Text value assigned at the DS description, at the top
  l.hrs[[name]][[2]] <- labelled(l.hrs[[name]][[2]], labels = cat_label)
  aux_object[[2]] <- car::recode(aux_object[[2]], "miss_values_vector=NA")
  aux_object[[2]] <- labelled(aux_object[[2]], labels = cat_label[1:2])
  assign(m_name, aux_object)
  rm(aux_object)
}

```


## Summary of descriptive statistics of the harmonised variable `child` accross populations and waves

Two tables are generated: 

1. Percentages of categories in each harmonised variable.

2. Frequencies and percentages of individuals with different trajectories. To avoid too large table, Only trajectories with percentages larger than 0.3 are shown.


**R script:**

```{r summ}

# Table HRS
l.hds <- l.hrs[grep("hrs_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])



# Table AHEAD
l.hds <- l.hrs[grep("ahead_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])



# Table CODA
l.hds <- l.hrs[grep("coda_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table WB
l.hds <- l.hrs[grep("wb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table EBB
l.hds <- l.hrs[grep("ebb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])


# Table MBB
l.hds <- l.hrs[grep("mbb_w",names(l.hrs))]
t.hds <- frq(l.hds[[1]][2])[[1]][,c(1,2)] 
for (i in seq_along(l.hds)){
  t.hds[2+i] <- frq(l.hds[[i]][2])[[1]][,4] 
}
t.hds[13,] <- c("n", "sample size", sapply(l.hds,function(wave) length(wave[[1]]))
             )
names(t.hds)<-c("val", "label",substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))
kable(t.hds)

dbb <- get(paste0("HRS_m_ds_",names(l.hds)[1]))[,c("id","child")]
for(ind in 2:length(l.hds)){
  dbb <- merge(dbb, get(paste0("HRS_m_ds_",names(l.hds)[ind]))[,c("id","child")], by = "id", suffixes = c("", paste0(".",names(l.hds)[ind])), all = T)
}
names(dbb) <- c("id", substr(names(l.hds),regexpr("_w[0-9]",names(l.hds))+1,nchar(names(l.hds))))

v.dbb <- dbb[,2]
for(ind in 2:length(l.hds)){
  v.dbb <- paste(v.dbb,dbb[,ind+1],sep="")
}
f.dbb <- frq(v.dbb)[[1]][,c(1,2,4)]
kable(f.dbb[f.dbb[,3]>=0.3,])

```





 
```{r save, echo=FALSE}
child <- HRS_ds_ahead_w2
save(child, file = "../RData/ahead_w2/child.RData")
rm(child)

child <- HRS_ds_ahead_w3
save(child, file = "../RData/ahead_w3/child.RData")
rm(child)

child <- HRS_ds_ahead_w4
save(child, file = "../RData/ahead_w4/child.RData")
rm(child)

child <- HRS_ds_ahead_w5
save(child, file = "../RData/ahead_w5/child.RData")
rm(child)

child <- HRS_ds_ahead_w6
save(child, file = "../RData/ahead_w6/child.RData")
rm(child)

child <- HRS_ds_ahead_w7
save(child, file = "../RData/ahead_w7/child.RData")
rm(child)

child <- HRS_ds_ahead_w8
save(child, file = "../RData/ahead_w8/child.RData")
rm(child)

child <- HRS_ds_ahead_w9
save(child, file = "../RData/ahead_w9/child.RData")
rm(child)

child <- HRS_ds_ahead_w10
save(child, file = "../RData/ahead_w10/child.RData")
rm(child)

child <- HRS_ds_ahead_w11
save(child, file = "../RData/ahead_w11/child.RData")
rm(child)

child <- HRS_ds_coda_w4
save(child, file = "../RData/coda_w4/child.RData")
rm(child)

child <- HRS_ds_coda_w5
save(child, file = "../RData/coda_w5/child.RData")
rm(child)

child <- HRS_ds_coda_w6
save(child, file = "../RData/coda_w6/child.RData")
rm(child)

child <- HRS_ds_coda_w7
save(child, file = "../RData/coda_w7/child.RData")
rm(child)

child <- HRS_ds_coda_w8
save(child, file = "../RData/coda_w8/child.RData")
rm(child)

child <- HRS_ds_coda_w9
save(child, file = "../RData/coda_w9/child.RData")
rm(child)

child <- HRS_ds_coda_w10
save(child, file = "../RData/coda_w10/child.RData")
rm(child)

child <- HRS_ds_coda_w11
save(child, file = "../RData/coda_w11/child.RData")
rm(child)

child <- HRS_ds_ebb_w7
save(child, file = "../RData/ebb_w7/child.RData")
rm(child)

child <- HRS_ds_ebb_w8
save(child, file = "../RData/ebb_w8/child.RData")
rm(child)

child <- HRS_ds_ebb_w9
save(child, file = "../RData/ebb_w9/child.RData")
rm(child)

child <- HRS_ds_ebb_w10
save(child, file = "../RData/ebb_w10/child.RData")
rm(child)

child <- HRS_ds_ebb_w11
save(child, file = "../RData/ebb_w11/child.RData")
rm(child)

child <- HRS_ds_hrs_w1
save(child, file = "../RData/hrs_w1/child.RData")
rm(child)

child <- HRS_ds_hrs_w2
save(child, file = "../RData/hrs_w2/child.RData")
rm(child)

child <- HRS_ds_hrs_w3
save(child, file = "../RData/hrs_w3/child.RData")
rm(child)

child <- HRS_ds_hrs_w4
save(child, file = "../RData/hrs_w4/child.RData")
rm(child)

child <- HRS_ds_hrs_w5
save(child, file = "../RData/hrs_w5/child.RData")
rm(child)

child <- HRS_ds_hrs_w6
save(child, file = "../RData/hrs_w6/child.RData")
rm(child)

child <- HRS_ds_hrs_w7
save(child, file = "../RData/hrs_w7/child.RData")
rm(child)

child <- HRS_ds_hrs_w8
save(child, file = "../RData/hrs_w8/child.RData")
rm(child)

child <- HRS_ds_hrs_w9
save(child, file = "../RData/hrs_w9/child.RData")
rm(child)

child <- HRS_ds_hrs_w10
save(child, file = "../RData/hrs_w10/child.RData")
rm(child)

child <- HRS_ds_hrs_w11
save(child, file = "../RData/hrs_w11/child.RData")
rm(child)

child <- HRS_ds_mbb_w10
save(child, file = "../RData/mbb_w10/child.RData")
rm(child)

child <- HRS_ds_mbb_w11
save(child, file = "../RData/mbb_w11/child.RData")
rm(child)

child <- HRS_ds_wb_w4
save(child, file = "../RData/wb_w4/child.RData")
rm(child)

child <- HRS_ds_wb_w5
save(child, file = "../RData/wb_w5/child.RData")
rm(child)

child <- HRS_ds_wb_w6
save(child, file = "../RData/wb_w6/child.RData")
rm(child)

child <- HRS_ds_wb_w7
save(child, file = "../RData/wb_w7/child.RData")
rm(child)

child <- HRS_ds_wb_w8
save(child, file = "../RData/wb_w8/child.RData")
rm(child)

child <- HRS_ds_wb_w9
save(child, file = "../RData/wb_w9/child.RData")
rm(child)

child <- HRS_ds_wb_w10
save(child, file = "../RData/wb_w10/child.RData")
rm(child)

child <- HRS_ds_wb_w11
save(child, file = "../RData/wb_w11/child.RData")
rm(child)


```

# Quality estimation

`grchild` cannot be harmonized

```{r closeRsession, echo=FALSE} 
opal.logout(o)
```


