---
title: "Orientation in time"
output:
  html_document:
    highlight: tango
    number_sections: yes
    theme: united
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
      smooth_scroll: yes
---

<!-- ######################################################## --> 

<!-- # Installation, loading packages -->
<!-- **R script:** -->

```{r setup, include=FALSE}
source("M:/WPs/WP1/Maelstrom/data_process/athlos-project.github.io/setup_iago.r")
```
<!-- ######################################################## --> 



# Description of DataSchema variable

The description of harmonised variable is the following:


* Short name: `orientation`
* Variable label: `Orientation in time`
* Variable description: `Difficulties for orientation in time, evaluated by a set of questions about the date and day of the week.`
* Domain: `Health status and functional limitations`
* Value type: `categorical`
* Category coding:

**Code** | **Category Label**
-------- | ------------------
0        | Yes
1        | No

* Category missings: 

**Code** | **Category Label**
----| ------------------
991 | CAPI/interviewer error
992 | Impute
993 | Disable to measure
994 | Not attempt/not done
995 | Does not answer
996 | Not applicable
997 | Refuse
998 | Do not know
999 | Missing

```{r lab, echo=FALSE}
ds_label <- "Difficulties for orientation in time, evaluated by a set of questions about the date and day of the week"
```


# Data process



## HRS

### Wave 1

Not found.

### Wave 2 

#### Study-specific variable description


| **Name** |`R2DY`|`R2MO`|`R2YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w2`|`HRS-HRS-w2`|`HRS-HRS-w2`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign w2, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w2_orientation','HRS.HRS-HRS-w2', variables=list('R2DY','R2MO','R2YR'), missings = TRUE)
```

```{r local w2, echo=F}
HRS_HRS_w2_orientation <- opal.execute(o,'HRS_HRS_w2_orientation')
vari <- HRS_HRS_w2_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w2_orientation)[2])
#ggplot(HRS_HRS_w2_orientation, aes(x=factor(R2DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w2_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w2_orientation)[3])
#ggplot(HRS_HRS_w2_orientation, aes(x=factor(R2MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w2_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w2_orientation)[4])
#ggplot(HRS_HRS_w2_orientation, aes(x=factor(R2YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:


* `NA into 999`

**R script:**
```{r harmo w2}
HRS_HRS_ds_w2 <- tibble(id=HRS_HRS_w2_orientation$id)
HRS_HRS_ds_w2$orientation <- rep( 999,length(HRS_HRS_ds_w2$id))

HRS_HRS_ds_w2$orientation <- labelled(HRS_HRS_ds_w2$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w2, echo=F}
vari <- HRS_HRS_ds_w2$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w2$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w2, echo=F}
AfterH <- table(HRS_HRS_ds_w2$orientation)
#combi<-sum(na.omit((HRS_HRS_w2_orientation$R2DY==1)&(HRS_HRS_w2_orientation$R2MO==1)&(HRS_HRS_w2_orientation$R2YR==1)))
#nota<-length(HRS_HRS_w2_orientation$R2DY)-length(na.omit(HRS_HRS_w2_orientation$R2DY))
BeforeH <- c(sum(is.na(HRS_HRS_w2_orientation$R2DY)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("NA->999") 
kable(C)
```






### Wave 3 

#### Study-specific variable description


  
| **Name** |`R3DY`|`R3MO`|`R3YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w3`|`HRS-HRS-w3`|`HRS-HRS-w3`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign w3, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w3_orientation','HRS.HRS-HRS-w3', variables=list('R3DY','R3MO','R3YR'), missings = TRUE)
```

```{r local w3, echo=F}
HRS_HRS_w3_orientation <- opal.execute(o,'HRS_HRS_w3_orientation')
vari <- HRS_HRS_w3_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w3_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w3_orientation, aes(x=factor(R3DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w3_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w3_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w3_orientation, aes(x=factor(R3MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w3_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w3_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w3_orientation, aes(x=factor(R3YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w3}
HRS_HRS_ds_w3 <- tibble(id=HRS_HRS_w3_orientation$id)
HRS_HRS_ds_w3$orientation <- rep( 999,length(HRS_HRS_ds_w3$id))
HRS_HRS_ds_w3$orientation[((HRS_HRS_w3_orientation$R3DY==1)&(HRS_HRS_w3_orientation$R3MO==1)&(HRS_HRS_w3_orientation$R3YR==1))]<-1
HRS_HRS_ds_w3$orientation[((HRS_HRS_w3_orientation$R3DY==0)|(HRS_HRS_w3_orientation$R3MO==0)|(HRS_HRS_w3_orientation$R3YR==0))]<- 0
HRS_HRS_ds_w3$orientation <- labelled(HRS_HRS_ds_w3$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w3, echo=F}
vari <- HRS_HRS_ds_w3$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w3$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w3, echo=F}
AfterH <- table(HRS_HRS_ds_w3$orientation)
combi<-sum(na.omit((HRS_HRS_w3_orientation$R3DY==1)&(HRS_HRS_w3_orientation$R3MO==1)&(HRS_HRS_w3_orientation$R3YR==1)))
nota<-length(HRS_HRS_w3_orientation$R3DY)-length(na.omit(HRS_HRS_w3_orientation$R3DY))
BeforeH <- c(length(HRS_HRS_w3_orientation$R3DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 4 

#### Study-specific variable description


| **Name** |`R4DY`|`R4MO`|`R4YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w4`|`HRS-HRS-w4`|`HRS-HRS-w4`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


  
```{r assign w4, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w4_orientation','HRS.HRS-HRS-w4', variables=list('R4DY','R4MO','R4YR'), missings = TRUE)
```

```{r local w4, echo=F}
HRS_HRS_w4_orientation <- opal.execute(o,'HRS_HRS_w4_orientation')
vari <- HRS_HRS_w4_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w4_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w4_orientation, aes(x=factor(R4DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w4_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w4_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w4_orientation, aes(x=factor(R4MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w4_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w4_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w4_orientation, aes(x=factor(R4YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w4}
HRS_HRS_ds_w4 <- tibble(id=HRS_HRS_w4_orientation$id)
HRS_HRS_ds_w4$orientation <- rep( 999,length(HRS_HRS_ds_w4$id))
HRS_HRS_ds_w4$orientation[((HRS_HRS_w4_orientation$R4DY==1)&(HRS_HRS_w4_orientation$R4MO==1)&(HRS_HRS_w4_orientation$R4YR==1))]<-1
HRS_HRS_ds_w4$orientation[((HRS_HRS_w4_orientation$R4DY==0)|(HRS_HRS_w4_orientation$R4MO==0)|(HRS_HRS_w4_orientation$R4YR==0))]<- 0
HRS_HRS_ds_w4$orientation <- labelled(HRS_HRS_ds_w4$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w4, echo=F}
vari <- HRS_HRS_ds_w4$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w4, echo=F}
AfterH <- table(HRS_HRS_ds_w4$orientation)
combi<-sum(na.omit((HRS_HRS_w4_orientation$R4DY==1)&(HRS_HRS_w4_orientation$R4MO==1)&(HRS_HRS_w4_orientation$R4YR==1)))
nota<-length(HRS_HRS_w4_orientation$R4DY)-length(na.omit(HRS_HRS_w4_orientation$R4DY))
BeforeH <- c(length(HRS_HRS_w4_orientation$R4DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 5 


#### Study-specific variable description


  
| **Name** |`R5DY`|`R5MO`|`R5YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w5`|`HRS-HRS-w5`|`HRS-HRS-w5`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign w5, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w5_orientation','HRS.HRS-HRS-w5', variables=list('R5DY','R5MO','R5YR'), missings = TRUE)
```

```{r local w5, echo=F}
HRS_HRS_w5_orientation <- opal.execute(o,'HRS_HRS_w5_orientation')
vari <- HRS_HRS_w5_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w5_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w5_orientation, aes(x=factor(R5DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w5_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w5_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w5_orientation, aes(x=factor(R5MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w5_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w5_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w5_orientation, aes(x=factor(R5YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w5}
HRS_HRS_ds_w5 <- tibble(id=HRS_HRS_w5_orientation$id)
HRS_HRS_ds_w5$orientation <- rep( 999,length(HRS_HRS_ds_w5$id))
HRS_HRS_ds_w5$orientation[((HRS_HRS_w5_orientation$R5DY==1)&(HRS_HRS_w5_orientation$R5MO==1)&(HRS_HRS_w5_orientation$R5YR==1))]<-1
HRS_HRS_ds_w5$orientation[((HRS_HRS_w5_orientation$R5DY==0)|(HRS_HRS_w5_orientation$R5MO==0)|(HRS_HRS_w5_orientation$R5YR==0))]<- 0
HRS_HRS_ds_w5$orientation <- labelled(HRS_HRS_ds_w5$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w5, echo=F}
vari <- HRS_HRS_ds_w5$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w5, echo=F}
AfterH <- table(HRS_HRS_ds_w5$orientation)
combi<-sum(na.omit((HRS_HRS_w5_orientation$R5DY==1)&(HRS_HRS_w5_orientation$R5MO==1)&(HRS_HRS_w5_orientation$R5YR==1)))
nota<-length(HRS_HRS_w5_orientation$R5DY)-length(na.omit(HRS_HRS_w5_orientation$R5DY))
BeforeH <- c(length(HRS_HRS_w5_orientation$R5DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 6 



#### Study-specific variable description


  
| **Name** |`R6DY`|`R6MO`|`R6YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w6`|`HRS-HRS-w6`|`HRS-HRS-w6`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign w6, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w6_orientation','HRS.HRS-HRS-w6', variables=list('R6DY','R6MO','R6YR'), missings = TRUE)
```

```{r local w6, echo=F}
HRS_HRS_w6_orientation <- opal.execute(o,'HRS_HRS_w6_orientation')
vari <- HRS_HRS_w6_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w6_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w6_orientation, aes(x=factor(R6DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w6_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w6_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w6_orientation, aes(x=factor(R6MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w6_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w6_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w6_orientation, aes(x=factor(R6YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w6}
HRS_HRS_ds_w6 <- tibble(id=HRS_HRS_w6_orientation$id)
HRS_HRS_ds_w6$orientation <- rep( 999,length(HRS_HRS_ds_w6$id))
HRS_HRS_ds_w6$orientation[((HRS_HRS_w6_orientation$R6DY==1)&(HRS_HRS_w6_orientation$R6MO==1)&(HRS_HRS_w6_orientation$R6YR==1))]<-1
HRS_HRS_ds_w6$orientation[((HRS_HRS_w6_orientation$R6DY==0)|(HRS_HRS_w6_orientation$R6MO==0)|(HRS_HRS_w6_orientation$R6YR==0))]<- 0
HRS_HRS_ds_w6$orientation <- labelled(HRS_HRS_ds_w6$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w6, echo=F}
vari <- HRS_HRS_ds_w6$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w6, echo=F}
AfterH <- table(HRS_HRS_ds_w6$orientation)
combi<-sum(na.omit((HRS_HRS_w6_orientation$R6DY==1)&(HRS_HRS_w6_orientation$R6MO==1)&(HRS_HRS_w6_orientation$R6YR==1)))
nota<-length(HRS_HRS_w6_orientation$R6DY)-length(na.omit(HRS_HRS_w6_orientation$R6DY))
BeforeH <- c(length(HRS_HRS_w6_orientation$R6DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 7 

#### Study-specific variable description


  
| **Name** |`R7DY`|`R7MO`|`R7YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w7`|`HRS-HRS-w7`|`HRS-HRS-w7`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign w7, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w7_orientation','HRS.HRS-HRS-w7', variables=list('R7DY','R7MO','R7YR'), missings = TRUE)
```

```{r local w7, echo=F}
HRS_HRS_w7_orientation <- opal.execute(o,'HRS_HRS_w7_orientation')
vari <- HRS_HRS_w7_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w7_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w7_orientation, aes(x=factor(R7DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w7_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w7_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w7_orientation, aes(x=factor(R7MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w7_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w7_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w7_orientation, aes(x=factor(R7YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w7}
HRS_HRS_ds_w7 <- tibble(id=HRS_HRS_w7_orientation$id)
HRS_HRS_ds_w7$orientation <- rep( 999,length(HRS_HRS_ds_w7$id))
HRS_HRS_ds_w7$orientation[((HRS_HRS_w7_orientation$R7DY==1)&(HRS_HRS_w7_orientation$R7MO==1)&(HRS_HRS_w7_orientation$R7YR==1))]<-1
HRS_HRS_ds_w7$orientation[((HRS_HRS_w7_orientation$R7DY==0)|(HRS_HRS_w7_orientation$R7MO==0)|(HRS_HRS_w7_orientation$R7YR==0))]<- 0
HRS_HRS_ds_w7$orientation <- labelled(HRS_HRS_ds_w7$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w7, echo=F}
vari <- HRS_HRS_ds_w7$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w7$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w7, echo=F}
AfterH <- table(HRS_HRS_ds_w7$orientation)
combi<-sum(na.omit((HRS_HRS_w7_orientation$R7DY==1)&(HRS_HRS_w7_orientation$R7MO==1)&(HRS_HRS_w7_orientation$R7YR==1)))
nota<-length(HRS_HRS_w7_orientation$R7DY)-length(na.omit(HRS_HRS_w7_orientation$R7DY))
BeforeH <- c(length(HRS_HRS_w7_orientation$R7DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 8 

#### Study-specific variable description


  
  
| **Name** |`R8DY`|`R8MO`|`R8YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w8`|`HRS-HRS-w8`|`HRS-HRS-w8`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign w8, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w8_orientation','HRS.HRS-HRS-w8', variables=list('R8DY','R8MO','R8YR'), missings = TRUE)
```

```{r local w8, echo=F}
HRS_HRS_w8_orientation <- opal.execute(o,'HRS_HRS_w8_orientation')
vari <- HRS_HRS_w8_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w8_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w8_orientation, aes(x=factor(R8DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w8_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w8_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w8_orientation, aes(x=factor(R8MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w8_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w8_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w8_orientation, aes(x=factor(R8YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w8}
HRS_HRS_ds_w8 <- tibble(id=HRS_HRS_w8_orientation$id)
HRS_HRS_ds_w8$orientation <- rep( 999,length(HRS_HRS_ds_w8$id))
HRS_HRS_ds_w8$orientation[((HRS_HRS_w8_orientation$R8DY==1)&(HRS_HRS_w8_orientation$R8MO==1)&(HRS_HRS_w8_orientation$R8YR==1))]<-1
HRS_HRS_ds_w8$orientation[((HRS_HRS_w8_orientation$R8DY==0)|(HRS_HRS_w8_orientation$R8MO==0)|(HRS_HRS_w8_orientation$R8YR==0))]<- 0
HRS_HRS_ds_w8$orientation <- labelled(HRS_HRS_ds_w8$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w8, echo=F}
vari <- HRS_HRS_ds_w8$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w8$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w8, echo=F}
AfterH <- table(HRS_HRS_ds_w8$orientation)
combi<-sum(na.omit((HRS_HRS_w8_orientation$R8DY==1)&(HRS_HRS_w8_orientation$R8MO==1)&(HRS_HRS_w8_orientation$R8YR==1)))
nota<-length(HRS_HRS_w8_orientation$R8DY)-length(na.omit(HRS_HRS_w8_orientation$R8DY))
BeforeH <- c(length(HRS_HRS_w8_orientation$R8DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 9 

#### Study-specific variable description


  
  
| **Name** |`R9DY`|`R9MO`|`R9YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w9`|`HRS-HRS-w9`|`HRS-HRS-w9`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign w9, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w9_orientation','HRS.HRS-HRS-w9', variables=list('R9DY','R9MO','R9YR'), missings = TRUE)
```

```{r local w9, echo=F}
HRS_HRS_w9_orientation <- opal.execute(o,'HRS_HRS_w9_orientation')
vari <- HRS_HRS_w9_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w9_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w9_orientation, aes(x=factor(R9DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w9_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w9_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w9_orientation, aes(x=factor(R9MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w9_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w9_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w9_orientation, aes(x=factor(R9YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w9}
HRS_HRS_ds_w9 <- tibble(id=HRS_HRS_w9_orientation$id)
HRS_HRS_ds_w9$orientation <- rep( 999,length(HRS_HRS_ds_w9$id))
HRS_HRS_ds_w9$orientation[((HRS_HRS_w9_orientation$R9DY==1)&(HRS_HRS_w9_orientation$R9MO==1)&(HRS_HRS_w9_orientation$R9YR==1))]<-1
HRS_HRS_ds_w9$orientation[((HRS_HRS_w9_orientation$R9DY==0)|(HRS_HRS_w9_orientation$R9MO==0)|(HRS_HRS_w9_orientation$R9YR==0))]<- 0
HRS_HRS_ds_w9$orientation <- labelled(HRS_HRS_ds_w9$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w9, echo=F}
vari <- HRS_HRS_ds_w9$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w9$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w9, echo=F}
AfterH <- table(HRS_HRS_ds_w9$orientation)
combi<-sum(na.omit((HRS_HRS_w9_orientation$R9DY==1)&(HRS_HRS_w9_orientation$R9MO==1)&(HRS_HRS_w9_orientation$R9YR==1)))
nota<-length(HRS_HRS_w9_orientation$R9DY)-length(na.omit(HRS_HRS_w9_orientation$R9DY))
BeforeH <- c(length(HRS_HRS_w9_orientation$R9DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 10 

#### Study-specific variable description


  
  
| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w10`|`HRS-HRS-w10`|`HRS-HRS-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign w10, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w10_orientation','HRS.HRS-HRS-w10', variables=list('R10DY','R10MO','R10YR'), missings = TRUE)
```

```{r local w10, echo=F}
HRS_HRS_w10_orientation <- opal.execute(o,'HRS_HRS_w10_orientation')
vari <- HRS_HRS_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w10}
HRS_HRS_ds_w10 <- tibble(id=HRS_HRS_w10_orientation$id)
HRS_HRS_ds_w10$orientation <- rep( 999,length(HRS_HRS_ds_w10$id))
HRS_HRS_ds_w10$orientation[((HRS_HRS_w10_orientation$R10DY==1)&(HRS_HRS_w10_orientation$R10MO==1)&(HRS_HRS_w10_orientation$R10YR==1))]<-1
HRS_HRS_ds_w10$orientation[((HRS_HRS_w10_orientation$R10DY==0)|(HRS_HRS_w10_orientation$R10MO==0)|(HRS_HRS_w10_orientation$R10YR==0))]<- 0
HRS_HRS_ds_w10$orientation <- labelled(HRS_HRS_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w10, echo=F}
vari <- HRS_HRS_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w10, echo=F}
AfterH <- table(HRS_HRS_ds_w10$orientation)
combi<-sum(na.omit((HRS_HRS_w10_orientation$R10DY==1)&(HRS_HRS_w10_orientation$R10MO==1)&(HRS_HRS_w10_orientation$R10YR==1)))
nota<-length(HRS_HRS_w10_orientation$R10DY)-length(na.omit(HRS_HRS_w10_orientation$R10DY))
BeforeH <- c(length(HRS_HRS_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 11 

#### Study-specific variable description


  
| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-HRS-w11`|`HRS-HRS-w11`|`HRS-HRS-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign w11, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w11_orientation','HRS.HRS-HRS-w11', variables=list('R11DY','R11MO','R11YR'), missings = TRUE)
```

```{r local w11, echo=F}
HRS_HRS_w11_orientation <- opal.execute(o,'HRS_HRS_w11_orientation')
vari <- HRS_HRS_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Day") + ylab("Frequency")
vari <- HRS_HRS_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Month") + ylab("Frequency")
vari <- HRS_HRS_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_HRS_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time-Year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo w11}
HRS_HRS_ds_w11 <- tibble(id=HRS_HRS_w11_orientation$id)
HRS_HRS_ds_w11$orientation <- rep( 999,length(HRS_HRS_ds_w11$id))
HRS_HRS_ds_w11$orientation[((HRS_HRS_w11_orientation$R11DY==1)&(HRS_HRS_w11_orientation$R11MO==1)&(HRS_HRS_w11_orientation$R11YR==1))]<-1
HRS_HRS_ds_w11$orientation[((HRS_HRS_w11_orientation$R11DY==0)|(HRS_HRS_w11_orientation$R11MO==0)|(HRS_HRS_w11_orientation$R11YR==0))]<- 0
HRS_HRS_ds_w11$orientation <- labelled(HRS_HRS_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript w11, echo=F}
vari <- HRS_HRS_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_HRS_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation w11, echo=F}
AfterH <- table(HRS_HRS_ds_w11$orientation)
combi<-sum(na.omit((HRS_HRS_w11_orientation$R11DY==1)&(HRS_HRS_w11_orientation$R11MO==1)&(HRS_HRS_w11_orientation$R11YR==1)))
nota<-length(HRS_HRS_w11_orientation$R11DY)-length(na.omit(HRS_HRS_w11_orientation$R11DY))
BeforeH <- c(length(HRS_HRS_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






## AHEAD

### Wave 2

#### Study-specific variable description


  
  
| **Name** |`R2DY`|`R2MO`|`R2YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w2`|`HRS-AHEAD-w2`|`HRS-AHEAD-w2`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |




```{r assign ahead w2, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w2_orientation','HRS.HRS-AHEAD-w2', variables=list('R2DY','R2MO','R2YR'), missings = TRUE)
```

```{r local ahead w2, echo=F}
HRS_AHEAD_w2_orientation <- opal.execute(o,'HRS_AHEAD_w2_orientation')
vari <- HRS_AHEAD_w2_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w2_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w2_orientation, aes(x=factor(R2DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w2_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w2_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w2_orientation, aes(x=factor(R2MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w2_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w2_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w2_orientation, aes(x=factor(R2YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w2}
HRS_AHEAD_ds_w2 <- tibble(id=HRS_AHEAD_w2_orientation$id)
HRS_AHEAD_ds_w2$orientation <- rep( 999,length(HRS_AHEAD_ds_w2$id))
HRS_AHEAD_ds_w2$orientation[((HRS_AHEAD_w2_orientation$R2DY==1)&(HRS_AHEAD_w2_orientation$R2MO==1)&(HRS_AHEAD_w2_orientation$R2YR==1))]<-1
HRS_AHEAD_ds_w2$orientation[((HRS_AHEAD_w2_orientation$R2DY==0)|(HRS_AHEAD_w2_orientation$R2MO==0)|(HRS_AHEAD_w2_orientation$R2YR==0))]<- 0
HRS_AHEAD_ds_w2$orientation <- labelled(HRS_AHEAD_ds_w2$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w2, echo=F}
vari <- HRS_AHEAD_ds_w2$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w2$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w2, echo=F}
AfterH <- table(HRS_AHEAD_ds_w2$orientation)
combi<-sum(na.omit((HRS_AHEAD_w2_orientation$R2DY==1)&(HRS_AHEAD_w2_orientation$R2MO==1)&(HRS_AHEAD_w2_orientation$R2YR==1)))
nota<-length(HRS_AHEAD_w2_orientation$R2DY)-length(na.omit(HRS_AHEAD_w2_orientation$R2DY))
BeforeH <- c(length(HRS_AHEAD_w2_orientation$R2DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 3

#### Study-specific variable description


  
  
| **Name** |`R3DY`|`R3MO`|`R3YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w3`|`HRS-AHEAD-w3`|`HRS-AHEAD-w3`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign ahead w3, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w3_orientation','HRS.HRS-AHEAD-w3', variables=list('R3DY','R3MO','R3YR'), missings = TRUE)
```

```{r local ahead w3, echo=F}
HRS_AHEAD_w3_orientation <- opal.execute(o,'HRS_AHEAD_w3_orientation')
vari <- HRS_AHEAD_w3_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w3_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w3_orientation, aes(x=factor(R3DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w3_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w3_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w3_orientation, aes(x=factor(R3MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w3_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w3_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w3_orientation, aes(x=factor(R3YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w3}
HRS_AHEAD_ds_w3 <- tibble(id=HRS_AHEAD_w3_orientation$id)
HRS_AHEAD_ds_w3$orientation <- rep( 999,length(HRS_AHEAD_ds_w3$id))
HRS_AHEAD_ds_w3$orientation[((HRS_AHEAD_w3_orientation$R3DY==1)&(HRS_AHEAD_w3_orientation$R3MO==1)&(HRS_AHEAD_w3_orientation$R3YR==1))]<-1
HRS_AHEAD_ds_w3$orientation[((HRS_AHEAD_w3_orientation$R3DY==0)|(HRS_AHEAD_w3_orientation$R3MO==0)|(HRS_AHEAD_w3_orientation$R3YR==0))]<- 0
HRS_AHEAD_ds_w3$orientation <- labelled(HRS_AHEAD_ds_w3$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w3, echo=F}
vari <- HRS_AHEAD_ds_w3$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w3$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w3, echo=F}
AfterH <- table(HRS_AHEAD_ds_w3$orientation)
combi<-sum(na.omit((HRS_AHEAD_w3_orientation$R3DY==1)&(HRS_AHEAD_w3_orientation$R3MO==1)&(HRS_AHEAD_w3_orientation$R3YR==1)))
nota<-length(HRS_AHEAD_w3_orientation$R3DY)-length(na.omit(HRS_AHEAD_w3_orientation$R3DY))
BeforeH <- c(length(HRS_AHEAD_w3_orientation$R3DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 4

#### Study-specific variable description


  
  
| **Name** |`R4DY`|`R4MO`|`R4YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w4`|`HRS-AHEAD-w4`|`HRS-AHEAD-w4`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign ahead w4, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w4_orientation','HRS.HRS-AHEAD-w4', variables=list('R4DY','R4MO','R4YR'), missings = TRUE)
```

```{r local ahead w4, echo=F}
HRS_AHEAD_w4_orientation <- opal.execute(o,'HRS_AHEAD_w4_orientation')
vari <- HRS_AHEAD_w4_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w4_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w4_orientation, aes(x=factor(R4DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w4_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w4_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w4_orientation, aes(x=factor(R4MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w4_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w4_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w4_orientation, aes(x=factor(R4YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w4}
HRS_AHEAD_ds_w4 <- tibble(id=HRS_AHEAD_w4_orientation$id)
HRS_AHEAD_ds_w4$orientation <- rep( 999,length(HRS_AHEAD_ds_w4$id))
HRS_AHEAD_ds_w4$orientation[((HRS_AHEAD_w4_orientation$R4DY==1)&(HRS_AHEAD_w4_orientation$R4MO==1)&(HRS_AHEAD_w4_orientation$R4YR==1))]<-1
HRS_AHEAD_ds_w4$orientation[((HRS_AHEAD_w4_orientation$R4DY==0)|(HRS_AHEAD_w4_orientation$R4MO==0)|(HRS_AHEAD_w4_orientation$R4YR==0))]<- 0
HRS_AHEAD_ds_w4$orientation <- labelled(HRS_AHEAD_ds_w4$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w4, echo=F}
vari <- HRS_AHEAD_ds_w4$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w4, echo=F}
AfterH <- table(HRS_AHEAD_ds_w4$orientation)
combi<-sum(na.omit((HRS_AHEAD_w4_orientation$R4DY==1)&(HRS_AHEAD_w4_orientation$R4MO==1)&(HRS_AHEAD_w4_orientation$R4YR==1)))
nota<-length(HRS_AHEAD_w4_orientation$R4DY)-length(na.omit(HRS_AHEAD_w4_orientation$R4DY))
BeforeH <- c(length(HRS_AHEAD_w4_orientation$R4DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 5

#### Study-specific variable description


  
  
| **Name** |`R5DY`|`R5MO`|`R5YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w5`|`HRS-AHEAD-w5`|`HRS-AHEAD-w5`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |

```{r assign ahead w5, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w5_orientation','HRS.HRS-AHEAD-w5', variables=list('R5DY','R5MO','R5YR'), missings = TRUE)
```

```{r local ahead w5, echo=F}
HRS_AHEAD_w5_orientation <- opal.execute(o,'HRS_AHEAD_w5_orientation')
vari <- HRS_AHEAD_w5_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w5_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w5_orientation, aes(x=factor(R5DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w5_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w5_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w5_orientation, aes(x=factor(R5MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w5_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w5_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w5_orientation, aes(x=factor(R5YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w5}
HRS_AHEAD_ds_w5 <- tibble(id=HRS_AHEAD_w5_orientation$id)
HRS_AHEAD_ds_w5$orientation <- rep( 999,length(HRS_AHEAD_ds_w5$id))
HRS_AHEAD_ds_w5$orientation[((HRS_AHEAD_w5_orientation$R5DY==1)&(HRS_AHEAD_w5_orientation$R5MO==1)&(HRS_AHEAD_w5_orientation$R5YR==1))]<-1
HRS_AHEAD_ds_w5$orientation[((HRS_AHEAD_w5_orientation$R5DY==0)|(HRS_AHEAD_w5_orientation$R5MO==0)|(HRS_AHEAD_w5_orientation$R5YR==0))]<- 0
HRS_AHEAD_ds_w5$orientation <- labelled(HRS_AHEAD_ds_w5$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w5, echo=F}
vari <- HRS_AHEAD_ds_w5$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w5$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w5, echo=F}
AfterH <- table(HRS_AHEAD_ds_w5$orientation)
combi<-sum(na.omit((HRS_AHEAD_w5_orientation$R5DY==1)&(HRS_AHEAD_w5_orientation$R5MO==1)&(HRS_AHEAD_w5_orientation$R5YR==1)))
nota<-length(HRS_AHEAD_w5_orientation$R5DY)-length(na.omit(HRS_AHEAD_w5_orientation$R5DY))
BeforeH <- c(length(HRS_AHEAD_w5_orientation$R5DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 6

#### Study-specific variable description


  
  
| **Name** |`R6DY`|`R6MO`|`R6YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w6`|`HRS-AHEAD-w6`|`HRS-AHEAD-w6`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign ahead w6, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w6_orientation','HRS.HRS-AHEAD-w6', variables=list('R6DY','R6MO','R6YR'), missings = TRUE)
```

```{r local ahead w6, echo=F}
HRS_AHEAD_w6_orientation <- opal.execute(o,'HRS_AHEAD_w6_orientation')
vari <- HRS_AHEAD_w6_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w6_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w6_orientation, aes(x=factor(R6DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w6_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w6_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w6_orientation, aes(x=factor(R6MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w6_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w6_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w6_orientation, aes(x=factor(R6YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w6}
HRS_AHEAD_ds_w6 <- tibble(id=HRS_AHEAD_w6_orientation$id)
HRS_AHEAD_ds_w6$orientation <- rep( 999,length(HRS_AHEAD_ds_w6$id))
HRS_AHEAD_ds_w6$orientation[((HRS_AHEAD_w6_orientation$R6DY==1)&(HRS_AHEAD_w6_orientation$R6MO==1)&(HRS_AHEAD_w6_orientation$R6YR==1))]<-1
HRS_AHEAD_ds_w6$orientation[((HRS_AHEAD_w6_orientation$R6DY==0)|(HRS_AHEAD_w6_orientation$R6MO==0)|(HRS_AHEAD_w6_orientation$R6YR==0))]<- 0
HRS_AHEAD_ds_w6$orientation <- labelled(HRS_AHEAD_ds_w6$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w6, echo=F}
vari <- HRS_AHEAD_ds_w6$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w6$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w6, echo=F}
AfterH <- table(HRS_AHEAD_ds_w6$orientation)
combi<-sum(na.omit((HRS_AHEAD_w6_orientation$R6DY==1)&(HRS_AHEAD_w6_orientation$R6MO==1)&(HRS_AHEAD_w6_orientation$R6YR==1)))
nota<-length(HRS_AHEAD_w6_orientation$R6DY)-length(na.omit(HRS_AHEAD_w6_orientation$R6DY))
BeforeH <- c(length(HRS_AHEAD_w6_orientation$R6DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 7

#### Study-specific variable description


  
  
| **Name** |`R7DY`|`R7MO`|`R7YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w7`|`HRS-AHEAD-w7`|`HRS-AHEAD-w7`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |

```{r assign ahead w7, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w7_orientation','HRS.HRS-AHEAD-w7', variables=list('R7DY','R7MO','R7YR'), missings = TRUE)
```

```{r local ahead w7, echo=F}
HRS_AHEAD_w7_orientation <- opal.execute(o,'HRS_AHEAD_w7_orientation')
vari <- HRS_AHEAD_w7_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w7_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w7_orientation, aes(x=factor(R7DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w7_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w7_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w7_orientation, aes(x=factor(R7MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w7_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w7_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w7_orientation, aes(x=factor(R7YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w7}
HRS_AHEAD_ds_w7 <- tibble(id=HRS_AHEAD_w7_orientation$id)
HRS_AHEAD_ds_w7$orientation <- rep( 999,length(HRS_AHEAD_ds_w7$id))
HRS_AHEAD_ds_w7$orientation[((HRS_AHEAD_w7_orientation$R7DY==1)&(HRS_AHEAD_w7_orientation$R7MO==1)&(HRS_AHEAD_w7_orientation$R7YR==1))]<-1
HRS_AHEAD_ds_w7$orientation[((HRS_AHEAD_w7_orientation$R7DY==0)|(HRS_AHEAD_w7_orientation$R7MO==0)|(HRS_AHEAD_w7_orientation$R7YR==0))]<- 0
HRS_AHEAD_ds_w7$orientation <- labelled(HRS_AHEAD_ds_w7$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w7, echo=F}
vari <- HRS_AHEAD_ds_w7$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w7$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w7, echo=F}
AfterH <- table(HRS_AHEAD_ds_w7$orientation)
combi<-sum(na.omit((HRS_AHEAD_w7_orientation$R7DY==1)&(HRS_AHEAD_w7_orientation$R7MO==1)&(HRS_AHEAD_w7_orientation$R7YR==1)))
nota<-length(HRS_AHEAD_w7_orientation$R7DY)-length(na.omit(HRS_AHEAD_w7_orientation$R7DY))
BeforeH <- c(length(HRS_AHEAD_w7_orientation$R7DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 8

#### Study-specific variable description


  
  
| **Name** |`R8DY`|`R8MO`|`R8YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w8`|`HRS-AHEAD-w8`|`HRS-AHEAD-w8`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign ahead w8, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w8_orientation','HRS.HRS-AHEAD-w8', variables=list('R8DY','R8MO','R8YR'), missings = TRUE)
```

```{r local ahead w8, echo=F}
HRS_AHEAD_w8_orientation <- opal.execute(o,'HRS_AHEAD_w8_orientation')
vari <- HRS_AHEAD_w8_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w8_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w8_orientation, aes(x=factor(R8DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w8_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w8_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w8_orientation, aes(x=factor(R8MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w8_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w8_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w8_orientation, aes(x=factor(R8YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w8}
HRS_AHEAD_ds_w8 <- tibble(id=HRS_AHEAD_w8_orientation$id)
HRS_AHEAD_ds_w8$orientation <- rep( 999,length(HRS_AHEAD_ds_w8$id))
HRS_AHEAD_ds_w8$orientation[((HRS_AHEAD_w8_orientation$R8DY==1)&(HRS_AHEAD_w8_orientation$R8MO==1)&(HRS_AHEAD_w8_orientation$R8YR==1))]<-1
HRS_AHEAD_ds_w8$orientation[((HRS_AHEAD_w8_orientation$R8DY==0)|(HRS_AHEAD_w8_orientation$R8MO==0)|(HRS_AHEAD_w8_orientation$R8YR==0))]<- 0
HRS_AHEAD_ds_w8$orientation <- labelled(HRS_AHEAD_ds_w8$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w8, echo=F}
vari <- HRS_AHEAD_ds_w8$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w8$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w8, echo=F}
AfterH <- table(HRS_AHEAD_ds_w8$orientation)
combi<-sum(na.omit((HRS_AHEAD_w8_orientation$R8DY==1)&(HRS_AHEAD_w8_orientation$R8MO==1)&(HRS_AHEAD_w8_orientation$R8YR==1)))
nota<-length(HRS_AHEAD_w8_orientation$R8DY)-length(na.omit(HRS_AHEAD_w8_orientation$R8DY))
BeforeH <- c(length(HRS_AHEAD_w8_orientation$R8DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 9

#### Study-specific variable description


  
  
| **Name** |`R9DY`|`R9MO`|`R9YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w9`|`HRS-AHEAD-w9`|`HRS-AHEAD-w9`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign ahead w9, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w9_orientation','HRS.HRS-AHEAD-w9', variables=list('R9DY','R9MO','R9YR'), missings = TRUE)
```

```{r local ahead w9, echo=F}
HRS_AHEAD_w9_orientation <- opal.execute(o,'HRS_AHEAD_w9_orientation')
vari <- HRS_AHEAD_w9_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w9_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w9_orientation, aes(x=factor(R9DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w9_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w9_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w9_orientation, aes(x=factor(R9MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w9_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w9_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w9_orientation, aes(x=factor(R9YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w9}
HRS_AHEAD_ds_w9 <- tibble(id=HRS_AHEAD_w9_orientation$id)
HRS_AHEAD_ds_w9$orientation <- rep( 999,length(HRS_AHEAD_ds_w9$id))
HRS_AHEAD_ds_w9$orientation[((HRS_AHEAD_w9_orientation$R9DY==1)&(HRS_AHEAD_w9_orientation$R9MO==1)&(HRS_AHEAD_w9_orientation$R9YR==1))]<-1
HRS_AHEAD_ds_w9$orientation[((HRS_AHEAD_w9_orientation$R9DY==0)|(HRS_AHEAD_w9_orientation$R9MO==0)|(HRS_AHEAD_w9_orientation$R9YR==0))]<- 0
HRS_AHEAD_ds_w9$orientation <- labelled(HRS_AHEAD_ds_w9$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w9, echo=F}
vari <- HRS_AHEAD_ds_w9$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w9$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w9, echo=F}
AfterH <- table(HRS_AHEAD_ds_w9$orientation)
combi<-sum(na.omit((HRS_AHEAD_w9_orientation$R9DY==1)&(HRS_AHEAD_w9_orientation$R9MO==1)&(HRS_AHEAD_w9_orientation$R9YR==1)))
nota<-length(HRS_AHEAD_w9_orientation$R9DY)-length(na.omit(HRS_AHEAD_w9_orientation$R9DY))
BeforeH <- c(length(HRS_AHEAD_w9_orientation$R9DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 10

#### Study-specific variable description


  
  
| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w10`|`HRS-AHEAD-w10`|`HRS-AHEAD-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign ahead w10, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w10_orientation','HRS.HRS-AHEAD-w10', variables=list('R10DY','R10MO','R10YR'), missings = TRUE)
```

```{r local ahead w10, echo=F}
HRS_AHEAD_w10_orientation <- opal.execute(o,'HRS_AHEAD_w10_orientation')
vari <- HRS_AHEAD_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w10}
HRS_AHEAD_ds_w10 <- tibble(id=HRS_AHEAD_w10_orientation$id)
HRS_AHEAD_ds_w10$orientation <- rep( 999,length(HRS_AHEAD_ds_w10$id))
HRS_AHEAD_ds_w10$orientation[((HRS_AHEAD_w10_orientation$R10DY==1)&(HRS_AHEAD_w10_orientation$R10MO==1)&(HRS_AHEAD_w10_orientation$R10YR==1))]<-1
HRS_AHEAD_ds_w10$orientation[((HRS_AHEAD_w10_orientation$R10DY==0)|(HRS_AHEAD_w10_orientation$R10MO==0)|(HRS_AHEAD_w10_orientation$R10YR==0))]<- 0
HRS_AHEAD_ds_w10$orientation <- labelled(HRS_AHEAD_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w10, echo=F}
vari <- HRS_AHEAD_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w10, echo=F}
AfterH <- table(HRS_AHEAD_ds_w10$orientation)
combi<-sum(na.omit((HRS_AHEAD_w10_orientation$R10DY==1)&(HRS_AHEAD_w10_orientation$R10MO==1)&(HRS_AHEAD_w10_orientation$R10YR==1)))
nota<-length(HRS_AHEAD_w10_orientation$R10DY)-length(na.omit(HRS_AHEAD_w10_orientation$R10DY))
BeforeH <- c(length(HRS_AHEAD_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 11

#### Study-specific variable description



  
| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-AHEAD-w11`|`HRS-AHEAD-w11`|`HRS-AHEAD-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign ahead w11, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w11_orientation','HRS.HRS-AHEAD-w11', variables=list('R11DY','R11MO','R11YR'), missings = TRUE)
```

```{r local ahead w11, echo=F}
HRS_AHEAD_w11_orientation <- opal.execute(o,'HRS_AHEAD_w11_orientation')
vari <- HRS_AHEAD_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_AHEAD_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_AHEAD_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_AHEAD_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo ahead w11}
HRS_AHEAD_ds_w11 <- tibble(id=HRS_AHEAD_w11_orientation$id)
HRS_AHEAD_ds_w11$orientation <- rep( 999,length(HRS_AHEAD_ds_w11$id))
HRS_AHEAD_ds_w11$orientation[((HRS_AHEAD_w11_orientation$R11DY==1)&(HRS_AHEAD_w11_orientation$R11MO==1)&(HRS_AHEAD_w11_orientation$R11YR==1))]<-1
HRS_AHEAD_ds_w11$orientation[((HRS_AHEAD_w11_orientation$R11DY==0)|(HRS_AHEAD_w11_orientation$R11MO==0)|(HRS_AHEAD_w11_orientation$R11YR==0))]<- 0
HRS_AHEAD_ds_w11$orientation <- labelled(HRS_AHEAD_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w11, echo=F}
vari <- HRS_AHEAD_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_AHEAD_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w11, echo=F}
AfterH <- table(HRS_AHEAD_ds_w11$orientation)
combi<-sum(na.omit((HRS_AHEAD_w11_orientation$R11DY==1)&(HRS_AHEAD_w11_orientation$R11MO==1)&(HRS_AHEAD_w11_orientation$R11YR==1)))
nota<-length(HRS_AHEAD_w11_orientation$R11DY)-length(na.omit(HRS_AHEAD_w11_orientation$R11DY))
BeforeH <- c(length(HRS_AHEAD_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






## CODA

### Wave 4

#### Study-specific variable description


  
  
| **Name** |`R4DY`|`R4MO`|`R4YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w4`|`HRS-CODA-w4`|`HRS-CODA-w4`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign CODA w4, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w4_orientation','HRS.HRS-CODA-w4', variables=list('R4DY','R4MO','R4YR'), missings = TRUE)
```

```{r local CODA w4, echo=F}
HRS_CODA_w4_orientation <- opal.execute(o,'HRS_CODA_w4_orientation')
vari <- HRS_CODA_w4_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w4_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w4_orientation, aes(x=factor(R4DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w4_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w4_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w4_orientation, aes(x=factor(R4MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w4_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w4_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w4_orientation, aes(x=factor(R4YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w4}
HRS_CODA_ds_w4 <- tibble(id=HRS_CODA_w4_orientation$id)
HRS_CODA_ds_w4$orientation <- rep( 999,length(HRS_CODA_ds_w4$id))
HRS_CODA_ds_w4$orientation[((HRS_CODA_w4_orientation$R4DY==1)&(HRS_CODA_w4_orientation$R4MO==1)&(HRS_CODA_w4_orientation$R4YR==1))]<-1
HRS_CODA_ds_w4$orientation[((HRS_CODA_w4_orientation$R4DY==0)|(HRS_CODA_w4_orientation$R4MO==0)|(HRS_CODA_w4_orientation$R4YR==0))]<- 0
HRS_CODA_ds_w4$orientation <- labelled(HRS_CODA_ds_w4$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w4, echo=F}
vari <- HRS_CODA_ds_w4$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w4, echo=F}
AfterH <- table(HRS_CODA_ds_w4$orientation)
combi<-sum(na.omit((HRS_CODA_w4_orientation$R4DY==1)&(HRS_CODA_w4_orientation$R4MO==1)&(HRS_CODA_w4_orientation$R4YR==1)))
nota<-length(HRS_CODA_w4_orientation$R4DY)-length(na.omit(HRS_CODA_w4_orientation$R4DY))
BeforeH <- c(length(HRS_CODA_w4_orientation$R4DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 5

#### Study-specific variable description


  
  
| **Name** |`R5DY`|`R5MO`|`R5YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w5`|`HRS-CODA-w5`|`HRS-CODA-w5`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |

```{r assign CODA w5, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w5_orientation','HRS.HRS-CODA-w5', variables=list('R5DY','R5MO','R5YR'), missings = TRUE)
```

```{r local CODA w5, echo=F}
HRS_CODA_w5_orientation <- opal.execute(o,'HRS_CODA_w5_orientation')
vari <- HRS_CODA_w5_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w5_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w5_orientation, aes(x=factor(R5DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w5_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w5_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w5_orientation, aes(x=factor(R5MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w5_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w5_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w5_orientation, aes(x=factor(R5YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w5}
HRS_CODA_ds_w5 <- tibble(id=HRS_CODA_w5_orientation$id)
HRS_CODA_ds_w5$orientation <- rep( 999,length(HRS_CODA_ds_w5$id))
HRS_CODA_ds_w5$orientation[((HRS_CODA_w5_orientation$R5DY==1)&(HRS_CODA_w5_orientation$R5MO==1)&(HRS_CODA_w5_orientation$R5YR==1))]<-1
HRS_CODA_ds_w5$orientation[((HRS_CODA_w5_orientation$R5DY==0)|(HRS_CODA_w5_orientation$R5MO==0)|(HRS_CODA_w5_orientation$R5YR==0))]<- 0
HRS_CODA_ds_w5$orientation <- labelled(HRS_CODA_ds_w5$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w5, echo=F}
vari <- HRS_CODA_ds_w5$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w5$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w5, echo=F}
AfterH <- table(HRS_CODA_ds_w5$orientation)
combi<-sum(na.omit((HRS_CODA_w5_orientation$R5DY==1)&(HRS_CODA_w5_orientation$R5MO==1)&(HRS_CODA_w5_orientation$R5YR==1)))
nota<-length(HRS_CODA_w5_orientation$R5DY)-length(na.omit(HRS_CODA_w5_orientation$R5DY))
BeforeH <- c(length(HRS_CODA_w5_orientation$R5DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 6

#### Study-specific variable description


  
  
| **Name** |`R6DY`|`R6MO`|`R6YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w6`|`HRS-CODA-w6`|`HRS-CODA-w6`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign CODA w6, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w6_orientation','HRS.HRS-CODA-w6', variables=list('R6DY','R6MO','R6YR'), missings = TRUE)
```

```{r local CODA w6, echo=F}
HRS_CODA_w6_orientation <- opal.execute(o,'HRS_CODA_w6_orientation')
vari <- HRS_CODA_w6_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w6_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w6_orientation, aes(x=factor(R6DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w6_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w6_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w6_orientation, aes(x=factor(R6MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w6_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w6_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w6_orientation, aes(x=factor(R6YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w6}
HRS_CODA_ds_w6 <- tibble(id=HRS_CODA_w6_orientation$id)
HRS_CODA_ds_w6$orientation <- rep( 999,length(HRS_CODA_ds_w6$id))
HRS_CODA_ds_w6$orientation[((HRS_CODA_w6_orientation$R6DY==1)&(HRS_CODA_w6_orientation$R6MO==1)&(HRS_CODA_w6_orientation$R6YR==1))]<-1
HRS_CODA_ds_w6$orientation[((HRS_CODA_w6_orientation$R6DY==0)|(HRS_CODA_w6_orientation$R6MO==0)|(HRS_CODA_w6_orientation$R6YR==0))]<- 0
HRS_CODA_ds_w6$orientation <- labelled(HRS_CODA_ds_w6$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w6, echo=F}
vari <- HRS_CODA_ds_w6$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w6$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w6, echo=F}
AfterH <- table(HRS_CODA_ds_w6$orientation)
combi<-sum(na.omit((HRS_CODA_w6_orientation$R6DY==1)&(HRS_CODA_w6_orientation$R6MO==1)&(HRS_CODA_w6_orientation$R6YR==1)))
nota<-length(HRS_CODA_w6_orientation$R6DY)-length(na.omit(HRS_CODA_w6_orientation$R6DY))
BeforeH <- c(length(HRS_CODA_w6_orientation$R6DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 7

#### Study-specific variable description


  
  
| **Name** |`R7DY`|`R7MO`|`R7YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w7`|`HRS-CODA-w7`|`HRS-CODA-w7`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign CODA w7, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w7_orientation','HRS.HRS-CODA-w7', variables=list('R7DY','R7MO','R7YR'), missings = NA)
```

```{r local CODA w7, echo=F}
HRS_CODA_w7_orientation <- opal.execute(o,'HRS_CODA_w7_orientation')
vari <- HRS_CODA_w7_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w7_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w7_orientation, aes(x=factor(R7DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w7_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w7_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w7_orientation, aes(x=factor(R7MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w7_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w7_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w7_orientation, aes(x=factor(R7YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w7}
HRS_CODA_ds_w7 <- tibble(id=HRS_CODA_w7_orientation$id)
HRS_CODA_ds_w7$orientation <- rep( 999,length(HRS_CODA_ds_w7$id))
HRS_CODA_ds_w7$orientation[((HRS_CODA_w7_orientation$R7DY==1)&(HRS_CODA_w7_orientation$R7MO==1)&(HRS_CODA_w7_orientation$R7YR==1))]<-1
HRS_CODA_ds_w7$orientation[((HRS_CODA_w7_orientation$R7DY==0)|(HRS_CODA_w7_orientation$R7MO==0)|(HRS_CODA_w7_orientation$R7YR==0))]<- 0
HRS_CODA_ds_w7$orientation <- labelled(HRS_CODA_ds_w7$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w7, echo=F}
vari <- HRS_CODA_ds_w7$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w7$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w7, echo=F}
AfterH <- table(HRS_CODA_ds_w7$orientation)
combi<-sum(na.omit((HRS_CODA_w7_orientation$R7DY==1)&(HRS_CODA_w7_orientation$R7MO==1)&(HRS_CODA_w7_orientation$R7YR==1)))
nota<-length(HRS_CODA_w7_orientation$R7DY)-length(na.omit(HRS_CODA_w7_orientation$R7DY))
BeforeH <- c(length(HRS_CODA_w7_orientation$R7DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 8

#### Study-specific variable description


  
  
| **Name** |`R8DY`|`R8MO`|`R8YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w8`|`HRS-CODA-w8`|`HRS-CODA-w8`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign CODA w8, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w8_orientation','HRS.HRS-CODA-w8', variables=list('R8DY','R8MO','R8YR'), missings = NA)
```

```{r local CODA w8, echo=F}
HRS_CODA_w8_orientation <- opal.execute(o,'HRS_CODA_w8_orientation')
vari <- HRS_CODA_w8_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w8_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w8_orientation, aes(x=factor(R8DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w8_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w8_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w8_orientation, aes(x=factor(R8MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w8_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w8_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w8_orientation, aes(x=factor(R8YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w8}
HRS_CODA_ds_w8 <- tibble(id=HRS_CODA_w8_orientation$id)
HRS_CODA_ds_w8$orientation <- rep( 999,length(HRS_CODA_ds_w8$id))
HRS_CODA_ds_w8$orientation[((HRS_CODA_w8_orientation$R8DY==1)&(HRS_CODA_w8_orientation$R8MO==1)&(HRS_CODA_w8_orientation$R8YR==1))]<-1
HRS_CODA_ds_w8$orientation[((HRS_CODA_w8_orientation$R8DY==0)|(HRS_CODA_w8_orientation$R8MO==0)|(HRS_CODA_w8_orientation$R8YR==0))]<- 0
HRS_CODA_ds_w8$orientation <- labelled(HRS_CODA_ds_w8$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w8, echo=F}
vari <- HRS_CODA_ds_w8$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w8$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w8, echo=F}
AfterH <- table(HRS_CODA_ds_w8$orientation)
combi<-sum(na.omit((HRS_CODA_w8_orientation$R8DY==1)&(HRS_CODA_w8_orientation$R8MO==1)&(HRS_CODA_w8_orientation$R8YR==1)))
nota<-length(HRS_CODA_w8_orientation$R8DY)-length(na.omit(HRS_CODA_w8_orientation$R8DY))
BeforeH <- c(length(HRS_CODA_w8_orientation$R8DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 9

#### Study-specific variable description


  
  
| **Name** |`R9DY`|`R9MO`|`R9YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w9`|`HRS-CODA-w9`|`HRS-CODA-w9`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign CODA w9, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w9_orientation','HRS.HRS-CODA-w9', variables=list('R9DY','R9MO','R9YR'), missings = NA)
```

```{r local CODA w9, echo=F}
HRS_CODA_w9_orientation <- opal.execute(o,'HRS_CODA_w9_orientation')
vari <- HRS_CODA_w9_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w9_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w9_orientation, aes(x=factor(R9DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w9_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w9_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w9_orientation, aes(x=factor(R9MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w9_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w9_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w9_orientation, aes(x=factor(R9YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w9}
HRS_CODA_ds_w9 <- tibble(id=HRS_CODA_w9_orientation$id)
HRS_CODA_ds_w9$orientation <- rep( 999,length(HRS_CODA_ds_w9$id))
HRS_CODA_ds_w9$orientation[((HRS_CODA_w9_orientation$R9DY==1)&(HRS_CODA_w9_orientation$R9MO==1)&(HRS_CODA_w9_orientation$R9YR==1))]<-1
HRS_CODA_ds_w9$orientation[((HRS_CODA_w9_orientation$R9DY==0)|(HRS_CODA_w9_orientation$R9MO==0)|(HRS_CODA_w9_orientation$R9YR==0))]<- 0
HRS_CODA_ds_w9$orientation <- labelled(HRS_CODA_ds_w9$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w9, echo=F}
vari <- HRS_CODA_ds_w9$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w9$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w9, echo=F}
AfterH <- table(HRS_CODA_ds_w9$orientation)
combi<-sum(na.omit((HRS_CODA_w9_orientation$R9DY==1)&(HRS_CODA_w9_orientation$R9MO==1)&(HRS_CODA_w9_orientation$R9YR==1)))
nota<-length(HRS_CODA_w9_orientation$R9DY)-length(na.omit(HRS_CODA_w9_orientation$R9DY))
BeforeH <- c(length(HRS_CODA_w9_orientation$R9DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 10

#### Study-specific variable description


  
  
| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w10`|`HRS-CODA-w10`|`HRS-CODA-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign CODA w10, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w10_orientation','HRS.HRS-CODA-w10', variables=list('R10DY','R10MO','R10YR'), missings = NA)
```

```{r local CODA w10, echo=F}
HRS_CODA_w10_orientation <- opal.execute(o,'HRS_CODA_w10_orientation')
vari <- HRS_CODA_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w10}
HRS_CODA_ds_w10 <- tibble(id=HRS_CODA_w10_orientation$id)
HRS_CODA_ds_w10$orientation <- rep( 999,length(HRS_CODA_ds_w10$id))
HRS_CODA_ds_w10$orientation[((HRS_CODA_w10_orientation$R10DY==1)&(HRS_CODA_w10_orientation$R10MO==1)&(HRS_CODA_w10_orientation$R10YR==1))]<-1
HRS_CODA_ds_w10$orientation[((HRS_CODA_w10_orientation$R10DY==0)|(HRS_CODA_w10_orientation$R10MO==0)|(HRS_CODA_w10_orientation$R10YR==0))]<- 0
HRS_CODA_ds_w10$orientation <- labelled(HRS_CODA_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w10, echo=F}
vari <- HRS_CODA_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w10, echo=F}
AfterH <- table(HRS_CODA_ds_w10$orientation)
combi<-sum(na.omit((HRS_CODA_w10_orientation$R10DY==1)&(HRS_CODA_w10_orientation$R10MO==1)&(HRS_CODA_w10_orientation$R10YR==1)))
nota<-length(HRS_CODA_w10_orientation$R10DY)-length(na.omit(HRS_CODA_w10_orientation$R10DY))
BeforeH <- c(length(HRS_CODA_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 11

#### Study-specific variable description


  
| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w11`|`HRS-CODA-w11`|`HRS-CODA-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  


```{r assign CODA w11, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w11_orientation','HRS.HRS-CODA-w11', variables=list('R11DY','R11MO','R11YR'), missings = NA)
```

```{r local CODA w11, echo=F}
HRS_CODA_w11_orientation <- opal.execute(o,'HRS_CODA_w11_orientation')
vari <- HRS_CODA_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_CODA_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_CODA_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_CODA_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo CODA w11}
HRS_CODA_ds_w11 <- tibble(id=HRS_CODA_w11_orientation$id)
HRS_CODA_ds_w11$orientation <- rep( 999,length(HRS_CODA_ds_w11$id))
HRS_CODA_ds_w11$orientation[((HRS_CODA_w11_orientation$R11DY==1)&(HRS_CODA_w11_orientation$R11MO==1)&(HRS_CODA_w11_orientation$R11YR==1))]<-1
HRS_CODA_ds_w11$orientation[((HRS_CODA_w11_orientation$R11DY==0)|(HRS_CODA_w11_orientation$R11MO==0)|(HRS_CODA_w11_orientation$R11YR==0))]<- 0
HRS_CODA_ds_w11$orientation <- labelled(HRS_CODA_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript CODA w11, echo=F}
vari <- HRS_CODA_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_CODA_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation CODA w11, echo=F}
AfterH <- table(HRS_CODA_ds_w11$orientation)
combi<-sum(na.omit((HRS_CODA_w11_orientation$R11DY==1)&(HRS_CODA_w11_orientation$R11MO==1)&(HRS_CODA_w11_orientation$R11YR==1)))
nota<-length(HRS_CODA_w11_orientation$R11DY)-length(na.omit(HRS_CODA_w11_orientation$R11DY))
BeforeH <- c(length(HRS_CODA_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





## WB

### Wave 4

#### Study-specific variable description


  
  
| **Name** |`R4DY`|`R4MO`|`R4YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w4`|`HRS-WB-w4`|`HRS-WB-w4`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign WB w4, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w4_orientation','HRS.HRS-WB-w4', variables=list('R4DY','R4MO','R4YR'), missings = NA)
```

```{r local WB w4, echo=F}
HRS_WB_w4_orientation <- opal.execute(o,'HRS_WB_w4_orientation')
vari <- HRS_WB_w4_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w4_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w4_orientation, aes(x=factor(R4DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w4_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w4_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w4_orientation, aes(x=factor(R4MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w4_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w4_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w4_orientation, aes(x=factor(R4YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w4}
HRS_WB_ds_w4 <- tibble(id=HRS_WB_w4_orientation$id)
HRS_WB_ds_w4$orientation <- rep( 999,length(HRS_WB_ds_w4$id))
HRS_WB_ds_w4$orientation[((HRS_WB_w4_orientation$R4DY==1)&(HRS_WB_w4_orientation$R4MO==1)&(HRS_WB_w4_orientation$R4YR==1))]<-1
HRS_WB_ds_w4$orientation[((HRS_WB_w4_orientation$R4DY==0)|(HRS_WB_w4_orientation$R4MO==0)|(HRS_WB_w4_orientation$R4YR==0))]<- 0
HRS_WB_ds_w4$orientation <- labelled(HRS_WB_ds_w4$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w4, echo=F}
vari <- HRS_WB_ds_w4$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w4$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w4, echo=F}
AfterH <- table(HRS_WB_ds_w4$orientation)
combi<-sum(na.omit((HRS_WB_w4_orientation$R4DY==1)&(HRS_WB_w4_orientation$R4MO==1)&(HRS_WB_w4_orientation$R4YR==1)))
nota<-length(HRS_WB_w4_orientation$R4DY)-length(na.omit(HRS_WB_w4_orientation$R4DY))
BeforeH <- c(length(HRS_WB_w4_orientation$R4DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 5

#### Study-specific variable description


  
  
| **Name** |`R5DY`|`R5MO`|`R5YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w5`|`HRS-WB-w5`|`HRS-WB-w5`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign WB w5, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w5_orientation','HRS.HRS-WB-w5', variables=list('R5DY','R5MO','R5YR'), missings = NA)
```

```{r local WB w5, echo=F}
HRS_WB_w5_orientation <- opal.execute(o,'HRS_WB_w5_orientation')
vari <- HRS_WB_w5_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w5_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w5_orientation, aes(x=factor(R5DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w5_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w5_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w5_orientation, aes(x=factor(R5MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w5_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w5_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w5_orientation, aes(x=factor(R5YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w5}
HRS_WB_ds_w5 <- tibble(id=HRS_WB_w5_orientation$id)
HRS_WB_ds_w5$orientation <- rep( 999,length(HRS_WB_ds_w5$id))
HRS_WB_ds_w5$orientation[((HRS_WB_w5_orientation$R5DY==1)&(HRS_WB_w5_orientation$R5MO==1)&(HRS_WB_w5_orientation$R5YR==1))]<-1
HRS_WB_ds_w5$orientation[((HRS_WB_w5_orientation$R5DY==0)|(HRS_WB_w5_orientation$R5MO==0)|(HRS_WB_w5_orientation$R5YR==0))]<- 0
HRS_WB_ds_w5$orientation <- labelled(HRS_WB_ds_w5$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w5, echo=F}
vari <- HRS_WB_ds_w5$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w5$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w5, echo=F}
AfterH <- table(HRS_WB_ds_w5$orientation)
combi<-sum(na.omit((HRS_WB_w5_orientation$R5DY==1)&(HRS_WB_w5_orientation$R5MO==1)&(HRS_WB_w5_orientation$R5YR==1)))
nota<-length(HRS_WB_w5_orientation$R5DY)-length(na.omit(HRS_WB_w5_orientation$R5DY))
BeforeH <- c(length(HRS_WB_w5_orientation$R5DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 6

#### Study-specific variable description


  
  
| **Name** |`R6DY`|`R6MO`|`R6YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w6`|`HRS-WB-w6`|`HRS-WB-w6`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |

```{r assign WB w6, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w6_orientation','HRS.HRS-WB-w6', variables=list('R6DY','R6MO','R6YR'), missings = NA)
```

```{r local WB w6, echo=F}
HRS_WB_w6_orientation <- opal.execute(o,'HRS_WB_w6_orientation')
vari <- HRS_WB_w6_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w6_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w6_orientation, aes(x=factor(R6DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w6_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w6_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w6_orientation, aes(x=factor(R6MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w6_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w6_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w6_orientation, aes(x=factor(R6YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w6}
HRS_WB_ds_w6 <- tibble(id=HRS_WB_w6_orientation$id)
HRS_WB_ds_w6$orientation <- rep( 999,length(HRS_WB_ds_w6$id))
HRS_WB_ds_w6$orientation[((HRS_WB_w6_orientation$R6DY==1)&(HRS_WB_w6_orientation$R6MO==1)&(HRS_WB_w6_orientation$R6YR==1))]<-1
HRS_WB_ds_w6$orientation[((HRS_WB_w6_orientation$R6DY==0)|(HRS_WB_w6_orientation$R6MO==0)|(HRS_WB_w6_orientation$R6YR==0))]<- 0
HRS_WB_ds_w6$orientation <- labelled(HRS_WB_ds_w6$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w6, echo=F}
vari <- HRS_WB_ds_w6$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w6$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w6, echo=F}
AfterH <- table(HRS_WB_ds_w6$orientation)
combi<-sum(na.omit((HRS_WB_w6_orientation$R6DY==1)&(HRS_WB_w6_orientation$R6MO==1)&(HRS_WB_w6_orientation$R6YR==1)))
nota<-length(HRS_WB_w6_orientation$R6DY)-length(na.omit(HRS_WB_w6_orientation$R6DY))
BeforeH <- c(length(HRS_WB_w6_orientation$R6DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 7

#### Study-specific variable description


  
  
| **Name** |`R7DY`|`R7MO`|`R7YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w7`|`HRS-WB-w7`|`HRS-WB-w7`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign WB w7, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w7_orientation','HRS.HRS-WB-w7', variables=list('R7DY','R7MO','R7YR'), missings = NA)
```

```{r local WB w7, echo=F}
HRS_WB_w7_orientation <- opal.execute(o,'HRS_WB_w7_orientation')
vari <- HRS_WB_w7_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w7_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w7_orientation, aes(x=factor(R7DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w7_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w7_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w7_orientation, aes(x=factor(R7MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w7_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w7_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w7_orientation, aes(x=factor(R7YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w7}
HRS_WB_ds_w7 <- tibble(id=HRS_WB_w7_orientation$id)
HRS_WB_ds_w7$orientation <- rep( 999,length(HRS_WB_ds_w7$id))
HRS_WB_ds_w7$orientation[((HRS_WB_w7_orientation$R7DY==1)&(HRS_WB_w7_orientation$R7MO==1)&(HRS_WB_w7_orientation$R7YR==1))]<-1
HRS_WB_ds_w7$orientation[((HRS_WB_w7_orientation$R7DY==0)|(HRS_WB_w7_orientation$R7MO==0)|(HRS_WB_w7_orientation$R7YR==0))]<- 0
HRS_WB_ds_w7$orientation <- labelled(HRS_WB_ds_w7$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w7, echo=F}
vari <- HRS_WB_ds_w7$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w7$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w7, echo=F}
AfterH <- table(HRS_WB_ds_w7$orientation)
combi<-sum(na.omit((HRS_WB_w7_orientation$R7DY==1)&(HRS_WB_w7_orientation$R7MO==1)&(HRS_WB_w7_orientation$R7YR==1)))
nota<-length(HRS_WB_w7_orientation$R7DY)-length(na.omit(HRS_WB_w7_orientation$R7DY))
BeforeH <- c(length(HRS_WB_w7_orientation$R7DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 8

#### Study-specific variable description


  
  
| **Name** |`R8DY`|`R8MO`|`R8YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w8`|`HRS-WB-w8`|`HRS-WB-w8`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign WB w8, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w8_orientation','HRS.HRS-WB-w8', variables=list('R8DY','R8MO','R8YR'), missings = NA)
```

```{r local WB w8, echo=F}
HRS_WB_w8_orientation <- opal.execute(o,'HRS_WB_w8_orientation')
vari <- HRS_WB_w8_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w8_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w8_orientation, aes(x=factor(R8DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w8_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w8_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w8_orientation, aes(x=factor(R8MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w8_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w8_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w8_orientation, aes(x=factor(R8YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w8}
HRS_WB_ds_w8 <- tibble(id=HRS_WB_w8_orientation$id)
HRS_WB_ds_w8$orientation <- rep( 999,length(HRS_WB_ds_w8$id))
HRS_WB_ds_w8$orientation[((HRS_WB_w8_orientation$R8DY==1)&(HRS_WB_w8_orientation$R8MO==1)&(HRS_WB_w8_orientation$R8YR==1))]<-1
HRS_WB_ds_w8$orientation[((HRS_WB_w8_orientation$R8DY==0)|(HRS_WB_w8_orientation$R8MO==0)|(HRS_WB_w8_orientation$R8YR==0))]<- 0
HRS_WB_ds_w8$orientation <- labelled(HRS_WB_ds_w8$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w8, echo=F}
vari <- HRS_WB_ds_w8$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w8$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w8, echo=F}
AfterH <- table(HRS_WB_ds_w8$orientation)
combi<-sum(na.omit((HRS_WB_w8_orientation$R8DY==1)&(HRS_WB_w8_orientation$R8MO==1)&(HRS_WB_w8_orientation$R8YR==1)))
nota<-length(HRS_WB_w8_orientation$R8DY)-length(na.omit(HRS_WB_w8_orientation$R8DY))
BeforeH <- c(length(HRS_WB_w8_orientation$R8DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 9

#### Study-specific variable description


  
  
| **Name** |`R9DY`|`R9MO`|`R9YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-WB-w9`|`HRS-WB-w9`|`HRS-WB-w9`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign WB w9, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w9_orientation','HRS.HRS-WB-w9', variables=list('R9DY','R9MO','R9YR'), missings = NA)
```

```{r local WB w9, echo=F}
HRS_WB_w9_orientation <- opal.execute(o,'HRS_WB_w9_orientation')
vari <- HRS_WB_w9_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w9_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w9_orientation, aes(x=factor(R9DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w9_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w9_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w9_orientation, aes(x=factor(R9MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w9_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w9_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w9_orientation, aes(x=factor(R9YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w9}
HRS_WB_ds_w9 <- tibble(id=HRS_WB_w9_orientation$id)
HRS_WB_ds_w9$orientation <- rep( 999,length(HRS_WB_ds_w9$id))
HRS_WB_ds_w9$orientation[((HRS_WB_w9_orientation$R9DY==1)&(HRS_WB_w9_orientation$R9MO==1)&(HRS_WB_w9_orientation$R9YR==1))]<-1
HRS_WB_ds_w9$orientation[((HRS_WB_w9_orientation$R9DY==0)|(HRS_WB_w9_orientation$R9MO==0)|(HRS_WB_w9_orientation$R9YR==0))]<- 0
HRS_WB_ds_w9$orientation <- labelled(HRS_WB_ds_w9$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w9, echo=F}
vari <- HRS_WB_ds_w9$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w9$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w9, echo=F}
AfterH <- table(HRS_WB_ds_w9$orientation)
combi<-sum(na.omit((HRS_WB_w9_orientation$R9DY==1)&(HRS_WB_w9_orientation$R9MO==1)&(HRS_WB_w9_orientation$R9YR==1)))
nota<-length(HRS_WB_w9_orientation$R9DY)-length(na.omit(HRS_WB_w9_orientation$R9DY))
BeforeH <- c(length(HRS_WB_w9_orientation$R9DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 10

#### Study-specific variable description


  
| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w10`|`HRS-CODA-w10`|`HRS-CODA-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  


```{r assign WB w10, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w10_orientation','HRS.HRS-WB-w10', variables=list('R10DY','R10MO','R10YR'), missings = NA)
```

```{r local WB w10, echo=F}
HRS_WB_w10_orientation <- opal.execute(o,'HRS_WB_w10_orientation')
vari <- HRS_WB_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w10}
HRS_WB_ds_w10 <- tibble(id=HRS_WB_w10_orientation$id)
HRS_WB_ds_w10$orientation <- rep( 999,length(HRS_WB_ds_w10$id))
HRS_WB_ds_w10$orientation[((HRS_WB_w10_orientation$R10DY==1)&(HRS_WB_w10_orientation$R10MO==1)&(HRS_WB_w10_orientation$R10YR==1))]<-1
HRS_WB_ds_w10$orientation[((HRS_WB_w10_orientation$R10DY==0)|(HRS_WB_w10_orientation$R10MO==0)|(HRS_WB_w10_orientation$R10YR==0))]<- 0
HRS_WB_ds_w10$orientation <- labelled(HRS_WB_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w10, echo=F}
vari <- HRS_WB_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w10, echo=F}
AfterH <- table(HRS_WB_ds_w10$orientation)
combi<-sum(na.omit((HRS_WB_w10_orientation$R10DY==1)&(HRS_WB_w10_orientation$R10MO==1)&(HRS_WB_w10_orientation$R10YR==1)))
nota<-length(HRS_WB_w10_orientation$R10DY)-length(na.omit(HRS_WB_w10_orientation$R10DY))
BeforeH <- c(length(HRS_WB_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 11

#### Study-specific variable description


  
| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-CODA-w11`|`HRS-CODA-w11`|`HRS-CODA-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  
  

```{r assign WB w11, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w11_orientation','HRS.HRS-WB-w11', variables=list('R11DY','R11MO','R11YR'), missings = NA)
```

```{r local WB w11, echo=F}
HRS_WB_w11_orientation <- opal.execute(o,'HRS_WB_w11_orientation')
vari <- HRS_WB_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_WB_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_WB_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_WB_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo WB w11}
HRS_WB_ds_w11 <- tibble(id=HRS_WB_w11_orientation$id)
HRS_WB_ds_w11$orientation <- rep( 999,length(HRS_WB_ds_w11$id))
HRS_WB_ds_w11$orientation[((HRS_WB_w11_orientation$R11DY==1)&(HRS_WB_w11_orientation$R11MO==1)&(HRS_WB_w11_orientation$R11YR==1))]<-1
HRS_WB_ds_w11$orientation[((HRS_WB_w11_orientation$R11DY==0)|(HRS_WB_w11_orientation$R11MO==0)|(HRS_WB_w11_orientation$R11YR==0))]<- 0
HRS_WB_ds_w11$orientation <- labelled(HRS_WB_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript WB w11, echo=F}
vari <- HRS_WB_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_WB_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation WB w11, echo=F}
AfterH <- table(HRS_WB_ds_w11$orientation)
combi<-sum(na.omit((HRS_WB_w11_orientation$R11DY==1)&(HRS_WB_w11_orientation$R11MO==1)&(HRS_WB_w11_orientation$R11YR==1)))
nota<-length(HRS_WB_w11_orientation$R11DY)-length(na.omit(HRS_WB_w11_orientation$R11DY))
BeforeH <- c(length(HRS_WB_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





## EBB

### Wave 7

#### Study-specific variable description


  
  
| **Name** |`R7DY`|`R7MO`|`R7YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-EBB-w7`|`HRS-EBB-w7`|`HRS-EBB-w7`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign EBB w7, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w7_orientation','HRS.HRS-EBB-w7', variables=list('R7DY','R7MO','R7YR'), missings = NA)
```

```{r local EBB w7, echo=F}
HRS_EBB_w7_orientation <- opal.execute(o,'HRS_EBB_w7_orientation')
vari <- HRS_EBB_w7_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w7_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w7_orientation, aes(x=factor(R7DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_EBB_w7_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w7_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w7_orientation, aes(x=factor(R7MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_EBB_w7_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w7_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w7_orientation, aes(x=factor(R7YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo EBB w7}
HRS_EBB_ds_w7 <- tibble(id=HRS_EBB_w7_orientation$id)
HRS_EBB_ds_w7$orientation <- rep( 999,length(HRS_EBB_ds_w7$id))
HRS_EBB_ds_w7$orientation[((HRS_EBB_w7_orientation$R7DY==1)&(HRS_EBB_w7_orientation$R7MO==1)&(HRS_EBB_w7_orientation$R7YR==1))]<-1
HRS_EBB_ds_w7$orientation[((HRS_EBB_w7_orientation$R7DY==0)|(HRS_EBB_w7_orientation$R7MO==0)|(HRS_EBB_w7_orientation$R7YR==0))]<- 0
HRS_EBB_ds_w7$orientation <- labelled(HRS_EBB_ds_w7$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript EBB w7, echo=F}
vari <- HRS_EBB_ds_w7$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_EBB_ds_w7$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation EBB w7, echo=F}
AfterH <- table(HRS_EBB_ds_w7$orientation)
combi<-sum(na.omit((HRS_EBB_w7_orientation$R7DY==1)&(HRS_EBB_w7_orientation$R7MO==1)&(HRS_EBB_w7_orientation$R7YR==1)))
nota<-length(HRS_EBB_w7_orientation$R7DY)-length(na.omit(HRS_EBB_w7_orientation$R7DY))
BeforeH <- c(length(HRS_EBB_w7_orientation$R7DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





### Wave 8

#### Study-specific variable description


  
  
| **Name** |`R8DY`|`R8MO`|`R8YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-EBB-w8`|`HRS-EBB-w8`|`HRS-EBB-w8`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |


```{r assign EBB w8, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w8_orientation','HRS.HRS-EBB-w8', variables=list('R8DY','R8MO','R8YR'), missings = NA)
```

```{r local EBB w8, echo=F}
HRS_EBB_w8_orientation <- opal.execute(o,'HRS_EBB_w8_orientation')
vari <- HRS_EBB_w8_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w8_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w8_orientation, aes(x=factor(R8DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_EBB_w8_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w8_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w8_orientation, aes(x=factor(R8MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_EBB_w8_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w8_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w8_orientation, aes(x=factor(R8YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo EBB w8}
HRS_EBB_ds_w8 <- tibble(id=HRS_EBB_w8_orientation$id)
HRS_EBB_ds_w8$orientation <- rep( 999,length(HRS_EBB_ds_w8$id))
HRS_EBB_ds_w8$orientation[((HRS_EBB_w8_orientation$R8DY==1)&(HRS_EBB_w8_orientation$R8MO==1)&(HRS_EBB_w8_orientation$R8YR==1))]<-1
HRS_EBB_ds_w8$orientation[((HRS_EBB_w8_orientation$R8DY==0)|(HRS_EBB_w8_orientation$R8MO==0)|(HRS_EBB_w8_orientation$R8YR==0))]<- 0
HRS_EBB_ds_w8$orientation <- labelled(HRS_EBB_ds_w8$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript EBB w8, echo=F}
vari <- HRS_EBB_ds_w8$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_EBB_ds_w8$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation EBB w8, echo=F}
AfterH <- table(HRS_EBB_ds_w8$orientation)
combi<-sum(na.omit((HRS_EBB_w8_orientation$R8DY==1)&(HRS_EBB_w8_orientation$R8MO==1)&(HRS_EBB_w8_orientation$R8YR==1)))
nota<-length(HRS_EBB_w8_orientation$R8DY)-length(na.omit(HRS_EBB_w8_orientation$R8DY))
BeforeH <- c(length(HRS_EBB_w8_orientation$R8DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 9

#### Study-specific variable description


  
  
| **Name** |`R9DY`|`R9MO`|`R9YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-EBB-w9`|`HRS-EBB-w9`|`HRS-EBB-w9`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |



```{r assign EBB w9, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w9_orientation','HRS.HRS-EBB-w9', variables=list('R9DY','R9MO','R9YR'), missings = NA)
```

```{r local EBB w9, echo=F}
HRS_EBB_w9_orientation <- opal.execute(o,'HRS_EBB_w9_orientation')
vari <- HRS_EBB_w9_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w9_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w9_orientation, aes(x=factor(R9DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_EBB_w9_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w9_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w9_orientation, aes(x=factor(R9MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_EBB_w9_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w9_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w9_orientation, aes(x=factor(R9YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo EBB w9}
HRS_EBB_ds_w9 <- tibble(id=HRS_EBB_w9_orientation$id)
HRS_EBB_ds_w9$orientation <- rep( 999,length(HRS_EBB_ds_w9$id))
HRS_EBB_ds_w9$orientation[((HRS_EBB_w9_orientation$R9DY==1)&(HRS_EBB_w9_orientation$R9MO==1)&(HRS_EBB_w9_orientation$R9YR==1))]<-1
HRS_EBB_ds_w9$orientation[((HRS_EBB_w9_orientation$R9DY==0)|(HRS_EBB_w9_orientation$R9MO==0)|(HRS_EBB_w9_orientation$R9YR==0))]<- 0
HRS_EBB_ds_w9$orientation <- labelled(HRS_EBB_ds_w9$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript EBB w9, echo=F}
vari <- HRS_EBB_ds_w9$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_EBB_ds_w9$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation EBB w9, echo=F}
AfterH <- table(HRS_EBB_ds_w9$orientation)
combi<-sum(na.omit((HRS_EBB_w9_orientation$R9DY==1)&(HRS_EBB_w9_orientation$R9MO==1)&(HRS_EBB_w9_orientation$R9YR==1)))
nota<-length(HRS_EBB_w9_orientation$R9DY)-length(na.omit(HRS_EBB_w9_orientation$R9DY))
BeforeH <- c(length(HRS_EBB_w9_orientation$R9DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






### Wave 10

#### Study-specific variable description


| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-EBB-w10`|`HRS-EBB-w10`|`HRS-EBB-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  
  
  

```{r assign EBB w10, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w10_orientation','HRS.HRS-EBB-w10', variables=list('R10DY','R10MO','R10YR'), missings = NA)
```

```{r local EBB w10, echo=F}
HRS_EBB_w10_orientation <- opal.execute(o,'HRS_EBB_w10_orientation')
vari <- HRS_EBB_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_EBB_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_EBB_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo EBB w10}
HRS_EBB_ds_w10 <- tibble(id=HRS_EBB_w10_orientation$id)
HRS_EBB_ds_w10$orientation <- rep( 999,length(HRS_EBB_ds_w10$id))
HRS_EBB_ds_w10$orientation[((HRS_EBB_w10_orientation$R10DY==1)&(HRS_EBB_w10_orientation$R10MO==1)&(HRS_EBB_w10_orientation$R10YR==1))]<-1
HRS_EBB_ds_w10$orientation[((HRS_EBB_w10_orientation$R10DY==0)|(HRS_EBB_w10_orientation$R10MO==0)|(HRS_EBB_w10_orientation$R10YR==0))]<- 0
HRS_EBB_ds_w10$orientation <- labelled(HRS_EBB_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript EBB w10, echo=F}
vari <- HRS_EBB_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_EBB_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation EBB w10, echo=F}
AfterH <- table(HRS_EBB_ds_w10$orientation)
combi<-sum(na.omit((HRS_EBB_w10_orientation$R10DY==1)&(HRS_EBB_w10_orientation$R10MO==1)&(HRS_EBB_w10_orientation$R10YR==1)))
nota<-length(HRS_EBB_w10_orientation$R10DY)-length(na.omit(HRS_EBB_w10_orientation$R10DY))
BeforeH <- c(length(HRS_EBB_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 11

#### Study-specific variable description


| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-EBB-w11`|`HRS-EBB-w11`|`HRS-EBB-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  
  
  
  

```{r assign EBB w11, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w11_orientation','HRS.HRS-EBB-w11', variables=list('R11DY','R11MO','R11YR'), missings = NA)
```

```{r local EBB w11, echo=F}
HRS_EBB_w11_orientation <- opal.execute(o,'HRS_EBB_w11_orientation')
vari <- HRS_EBB_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_EBB_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_EBB_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_EBB_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo EBB w11}
HRS_EBB_ds_w11 <- tibble(id=HRS_EBB_w11_orientation$id)
HRS_EBB_ds_w11$orientation <- rep( 999,length(HRS_EBB_ds_w11$id))
HRS_EBB_ds_w11$orientation[((HRS_EBB_w11_orientation$R11DY==1)&(HRS_EBB_w11_orientation$R11MO==1)&(HRS_EBB_w11_orientation$R11YR==1))]<-1
HRS_EBB_ds_w11$orientation[((HRS_EBB_w11_orientation$R11DY==0)|(HRS_EBB_w11_orientation$R11MO==0)|(HRS_EBB_w11_orientation$R11YR==0))]<- 0
HRS_EBB_ds_w11$orientation <- labelled(HRS_EBB_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript EBB w11, echo=F}
vari <- HRS_EBB_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_EBB_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation EBB w11, echo=F}
AfterH <- table(HRS_EBB_ds_w11$orientation)
combi<-sum(na.omit((HRS_EBB_w11_orientation$R11DY==1)&(HRS_EBB_w11_orientation$R11MO==1)&(HRS_EBB_w11_orientation$R11YR==1)))
nota<-length(HRS_EBB_w11_orientation$R11DY)-length(na.omit(HRS_EBB_w11_orientation$R11DY))
BeforeH <- c(length(HRS_EBB_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```





## MBB

### Wave 10

#### Study-specific variable description


| **Name** |`R10DY`|`R10MO`|`R10YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-MBB-w10`|`HRS-MBB-w10`|`HRS-MBB-w10`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  
  
  
  
```{r assign MBB w10, echo=F}
opal.assign.table.tibble(o, 'HRS_MBB_w10_orientation','HRS.HRS-MBB-w10', variables=list('R10DY','R10MO','R10YR'), missings = NA)
```

```{r local MBB w10, echo=F}
HRS_MBB_w10_orientation <- opal.execute(o,'HRS_MBB_w10_orientation')
vari <- HRS_MBB_w10_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w10_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w10_orientation, aes(x=factor(R10DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_MBB_w10_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w10_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w10_orientation, aes(x=factor(R10MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_MBB_w10_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w10_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w10_orientation, aes(x=factor(R10YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo MBB w10}
HRS_MBB_ds_w10 <- tibble(id=HRS_MBB_w10_orientation$id)
HRS_MBB_ds_w10$orientation <- rep( 999,length(HRS_MBB_ds_w10$id))
HRS_MBB_ds_w10$orientation[((HRS_MBB_w10_orientation$R10DY==1)&(HRS_MBB_w10_orientation$R10MO==1)&(HRS_MBB_w10_orientation$R10YR==1))]<-1
HRS_MBB_ds_w10$orientation[((HRS_MBB_w10_orientation$R10DY==0)|(HRS_MBB_w10_orientation$R10MO==0)|(HRS_MBB_w10_orientation$R10YR==0))]<- 0
HRS_MBB_ds_w10$orientation <- labelled(HRS_MBB_ds_w10$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript MBB w10, echo=F}
vari <- HRS_MBB_ds_w10$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_MBB_ds_w10$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation MBB w10, echo=F}
AfterH <- table(HRS_MBB_ds_w10$orientation)
combi<-sum(na.omit((HRS_MBB_w10_orientation$R10DY==1)&(HRS_MBB_w10_orientation$R10MO==1)&(HRS_MBB_w10_orientation$R10YR==1)))
nota<-length(HRS_MBB_w10_orientation$R10DY)-length(na.omit(HRS_MBB_w10_orientation$R10DY))
BeforeH <- c(length(HRS_MBB_w10_orientation$R10DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```







### Wave 11

#### Study-specific variable description


  
| **Name** |`R11DY`|`R11MO`|`R11YR`|
|-|-|-|-|
| **Label** |`Cognition Date naming-Day of month`|`Cognition Date naming-Month`|`Cognition Date naming-Year`|
| **Table name** |`HRS-MBB-w11`|`HRS-MBB-w11`|`HRS-MBB-w11`|
| **Categories** |`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|`0 = Incorrect; 1 = Correct`|
| **Missings** |`NA`|`NA`|`NA`|
| **Description** |  |  |  |
  
  
  


```{r assign MBB w11, echo=F}
opal.assign.table.tibble(o, 'HRS_MBB_w11_orientation','HRS.HRS-MBB-w11', variables=list('R11DY','R11MO','R11YR'), missings = NA)
```

```{r local MBB w11, echo=F}
HRS_MBB_w11_orientation <- opal.execute(o,'HRS_MBB_w11_orientation')
vari <- HRS_MBB_w11_orientation[[2]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w11_orientation)[2])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w11_orientation, aes(x=factor(R11DY))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - day") + ylab("Frequency")
vari <- HRS_MBB_w11_orientation[[3]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w11_orientation)[3])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w11_orientation, aes(x=factor(R11MO))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - month") + ylab("Frequency")
vari <- HRS_MBB_w11_orientation[[4]]
kable(Categorical_summary(vari, missing_values = NA)[2], caption = names(HRS_MBB_w11_orientation)[4])
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w11_orientation, aes(x=factor(R11YR))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time - year") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:
  
* `all 1 into 1` 
* `some 0 into 0`
* `NA into 999`

**R script:**
```{r harmo MBB w11}
HRS_MBB_ds_w11 <- tibble(id=HRS_MBB_w11_orientation$id)
HRS_MBB_ds_w11$orientation <- rep( 999,length(HRS_MBB_ds_w11$id))
HRS_MBB_ds_w11$orientation[((HRS_MBB_w11_orientation$R11DY==1)&(HRS_MBB_w11_orientation$R11MO==1)&(HRS_MBB_w11_orientation$R11YR==1))]<-1
HRS_MBB_ds_w11$orientation[((HRS_MBB_w11_orientation$R11DY==0)|(HRS_MBB_w11_orientation$R11MO==0)|(HRS_MBB_w11_orientation$R11YR==0))]<- 0
HRS_MBB_ds_w11$orientation <- labelled(HRS_MBB_ds_w11$orientation, labels = c(Yes=0, No=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript MBB w11, echo=F}
vari <- HRS_MBB_ds_w11$orientation
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "orientation")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#ggplot(HRS_MBB_ds_w11$orientation, aes(x=factor(orientation))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("orientation in time") + ylab("Frequency")
```

#### Validation
```{r crosstabulation MBB w11, echo=F}
AfterH <- table(HRS_MBB_ds_w11$orientation)
combi<-sum(na.omit((HRS_MBB_w11_orientation$R11DY==1)&(HRS_MBB_w11_orientation$R11MO==1)&(HRS_MBB_w11_orientation$R11YR==1)))
nota<-length(HRS_MBB_w11_orientation$R11DY)-length(na.omit(HRS_MBB_w11_orientation$R11DY))
BeforeH <- c(length(HRS_MBB_w11_orientation$R11DY)-combi-nota,combi,nota)
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("some 0->0","all 1->1","NA->999") 
kable(C)
```






<!--- ############################################# Import to OPAL ###########################################-->
```{r importOPAL, echo=FALSE}
orientation <- HRS_m_ds_hrs_w2  <- HRS_ds_hrs_w2  <- HRS_HRS_ds_w2
save(orientation, file = "../RData/hrs_w2/orientation.RData")

orientation <- HRS_m_ds_hrs_w3  <- HRS_ds_hrs_w3  <- HRS_HRS_ds_w3
save(orientation, file = "../RData/hrs_w3/orientation.RData")

orientation <- HRS_m_ds_hrs_w4  <- HRS_ds_hrs_w4  <- HRS_HRS_ds_w4
save(orientation, file = "../RData/hrs_w4/orientation.RData")

orientation <- HRS_m_ds_hrs_w5  <- HRS_ds_hrs_w5  <- HRS_HRS_ds_w5
save(orientation, file = "../RData/hrs_w5/orientation.RData")

orientation <- HRS_m_ds_hrs_w6  <- HRS_ds_hrs_w6  <- HRS_HRS_ds_w6
save(orientation, file = "../RData/hrs_w6/orientation.RData")

orientation <- HRS_m_ds_hrs_w7  <- HRS_ds_hrs_w7  <- HRS_HRS_ds_w7
save(orientation, file = "../RData/hrs_w7/orientation.RData")

orientation <- HRS_m_ds_hrs_w8  <- HRS_ds_hrs_w8  <- HRS_HRS_ds_w8
save(orientation, file = "../RData/hrs_w8/orientation.RData")

orientation <- HRS_m_ds_hrs_w9  <- HRS_ds_hrs_w9  <- HRS_HRS_ds_w9
save(orientation, file = "../RData/hrs_w9/orientation.RData")

orientation <- HRS_m_ds_hrs_w10 <- HRS_ds_hrs_w10 <- HRS_HRS_ds_w10
save(orientation, file = "../RData/hrs_w10/orientation.RData")

orientation <- HRS_m_ds_hrs_w11 <- HRS_ds_hrs_w11 <- HRS_HRS_ds_w11
save(orientation, file = "../RData/hrs_w11/orientation.RData")


orientation <- HRS_m_ds_ahead_w2  <- HRS_ds_ahead_w2  <- HRS_AHEAD_ds_w2
save(orientation, file = "../RData/ahead_w2/orientation.RData")

orientation <- HRS_m_ds_ahead_w3  <- HRS_ds_ahead_w3  <- HRS_AHEAD_ds_w3
save(orientation, file = "../RData/ahead_w3/orientation.RData")

orientation <- HRS_m_ds_ahead_w4  <- HRS_ds_ahead_w4  <- HRS_AHEAD_ds_w4
save(orientation, file = "../RData/ahead_w4/orientation.RData")

orientation <- HRS_m_ds_ahead_w5  <- HRS_ds_ahead_w5  <- HRS_AHEAD_ds_w5
save(orientation, file = "../RData/ahead_w5/orientation.RData")

orientation <- HRS_m_ds_ahead_w6  <- HRS_ds_ahead_w6  <- HRS_AHEAD_ds_w6
save(orientation, file = "../RData/ahead_w6/orientation.RData")

orientation <- HRS_m_ds_ahead_w7  <- HRS_ds_ahead_w7  <- HRS_AHEAD_ds_w7
save(orientation, file = "../RData/ahead_w7/orientation.RData")

orientation <- HRS_m_ds_ahead_w8  <- HRS_ds_ahead_w8  <- HRS_AHEAD_ds_w8
save(orientation, file = "../RData/ahead_w8/orientation.RData")

orientation <- HRS_m_ds_ahead_w9  <- HRS_ds_ahead_w9  <- HRS_AHEAD_ds_w9
save(orientation, file = "../RData/ahead_w9/orientation.RData")

orientation <- HRS_m_ds_ahead_w10 <- HRS_ds_ahead_w10 <- HRS_AHEAD_ds_w10
save(orientation, file = "../RData/ahead_w10/orientation.RData")

orientation <- HRS_m_ds_ahead_w11 <- HRS_ds_ahead_w11 <- HRS_AHEAD_ds_w11
save(orientation, file = "../RData/ahead_w11/orientation.RData")


orientation <- HRS_m_ds_coda_w4  <- HRS_ds_coda_w4  <- HRS_CODA_ds_w4
save(orientation, file = "../RData/coda_w4/orientation.RData")

orientation <- HRS_m_ds_coda_w5  <- HRS_ds_coda_w5  <- HRS_CODA_ds_w5
save(orientation, file = "../RData/coda_w5/orientation.RData")

orientation <- HRS_m_ds_coda_w6  <- HRS_ds_coda_w6  <- HRS_CODA_ds_w6
save(orientation, file = "../RData/coda_w6/orientation.RData")

orientation <- HRS_m_ds_coda_w7  <- HRS_ds_coda_w7  <- HRS_CODA_ds_w7
save(orientation, file = "../RData/coda_w7/orientation.RData")

orientation <- HRS_m_ds_coda_w8  <- HRS_ds_coda_w8  <- HRS_CODA_ds_w8
save(orientation, file = "../RData/coda_w8/orientation.RData")

orientation <- HRS_m_ds_coda_w9  <- HRS_ds_coda_w9  <- HRS_CODA_ds_w9
save(orientation, file = "../RData/coda_w9/orientation.RData")

orientation <- HRS_m_ds_coda_w10 <- HRS_ds_coda_w10 <- HRS_CODA_ds_w10
save(orientation, file = "../RData/coda_w10/orientation.RData")

orientation <- HRS_m_ds_coda_w11 <- HRS_ds_coda_w11 <- HRS_CODA_ds_w11
save(orientation, file = "../RData/coda_w11/orientation.RData")


orientation <- HRS_m_ds_wb_w4  <- HRS_ds_wb_w4  <- HRS_WB_ds_w4
save(orientation, file = "../RData/wb_w4/orientation.RData")

orientation <- HRS_m_ds_wb_w5  <- HRS_ds_wb_w5  <- HRS_WB_ds_w5
save(orientation, file = "../RData/wb_w5/orientation.RData")

orientation <- HRS_m_ds_wb_w6  <- HRS_ds_wb_w6  <- HRS_WB_ds_w6
save(orientation, file = "../RData/wb_w6/orientation.RData")

orientation <- HRS_m_ds_wb_w7  <- HRS_ds_wb_w7  <- HRS_WB_ds_w7
save(orientation, file = "../RData/wb_w7/orientation.RData")

orientation <- HRS_m_ds_wb_w8  <- HRS_ds_wb_w8  <- HRS_WB_ds_w8
save(orientation, file = "../RData/wb_w8/orientation.RData")

orientation <- HRS_m_ds_wb_w9  <- HRS_ds_wb_w9  <- HRS_WB_ds_w9
save(orientation, file = "../RData/wb_w9/orientation.RData")

orientation <- HRS_m_ds_wb_w10 <- HRS_ds_wb_w10 <- HRS_WB_ds_w10
save(orientation, file = "../RData/wb_w10/orientation.RData")

orientation <- HRS_m_ds_wb_w11 <- HRS_ds_wb_w11 <- HRS_WB_ds_w11
save(orientation, file = "../RData/wb_w11/orientation.RData")


orientation <- HRS_m_ds_ebb_w7  <- HRS_ds_ebb_w7  <- HRS_EBB_ds_w7
save(orientation, file = "../RData/ebb_w7/orientation.RData")

orientation <- HRS_m_ds_ebb_w8  <- HRS_ds_ebb_w8  <- HRS_EBB_ds_w8
save(orientation, file = "../RData/ebb_w8/orientation.RData")

orientation <- HRS_m_ds_ebb_w9  <- HRS_ds_ebb_w9  <- HRS_EBB_ds_w9
save(orientation, file = "../RData/ebb_w9/orientation.RData")

orientation <- HRS_m_ds_ebb_w10 <- HRS_ds_ebb_w10 <- HRS_EBB_ds_w10
save(orientation, file = "../RData/ebb_w10/orientation.RData")

orientation <- HRS_m_ds_ebb_w11 <- HRS_ds_ebb_w11 <- HRS_EBB_ds_w11
save(orientation, file = "../RData/ebb_w11/orientation.RData")


orientation <- HRS_m_ds_mbb_w10 <- HRS_ds_mbb_w10 <- HRS_MBB_ds_w10
save(orientation, file = "../RData/mbb_w10/orientation.RData")

orientation <- HRS_m_ds_mbb_w11 <- HRS_ds_mbb_w11 <- HRS_MBB_ds_w11
save(orientation, file = "../RData/mbb_w11/orientation.RData")


l.hrs <- list(HRS_ds_hrs_w2 = HRS_ds_hrs_w2 ,HRS_ds_hrs_w3 = HRS_ds_hrs_w3 ,HRS_ds_hrs_w4 = HRS_ds_hrs_w4 ,
HRS_ds_hrs_w5 = HRS_ds_hrs_w5 ,HRS_ds_hrs_w6 = HRS_ds_hrs_w6 ,HRS_ds_hrs_w7 = HRS_ds_hrs_w7 ,HRS_ds_hrs_w8 = HRS_ds_hrs_w8 ,
HRS_ds_hrs_w9 = HRS_ds_hrs_w9 ,HRS_ds_hrs_w10 = HRS_ds_hrs_w10 ,HRS_ds_hrs_w11 = HRS_ds_hrs_w11 ,HRS_ds_ahead_w2 = HRS_ds_ahead_w2 ,
HRS_ds_ahead_w3 = HRS_ds_ahead_w3 ,HRS_ds_ahead_w4 = HRS_ds_ahead_w4 ,HRS_ds_ahead_w5 = HRS_ds_ahead_w5 ,HRS_ds_ahead_w6 = HRS_ds_ahead_w6 ,
HRS_ds_ahead_w7 = HRS_ds_ahead_w7 ,HRS_ds_ahead_w8 = HRS_ds_ahead_w8 ,HRS_ds_ahead_w9 = HRS_ds_ahead_w9 ,HRS_ds_ahead_w10 = HRS_ds_ahead_w10 ,
HRS_ds_ahead_w11 = HRS_ds_ahead_w11 ,HRS_ds_coda_w4 = HRS_ds_coda_w4 ,HRS_ds_coda_w5 = HRS_ds_coda_w5 ,HRS_ds_coda_w6 = HRS_ds_coda_w6 ,
HRS_ds_coda_w7 = HRS_ds_coda_w7 ,HRS_ds_coda_w8 = HRS_ds_coda_w8 ,HRS_ds_coda_w9 = HRS_ds_coda_w9 ,HRS_ds_coda_w10 = HRS_ds_coda_w10 ,
HRS_ds_coda_w11 = HRS_ds_coda_w11 ,HRS_ds_wb_w4 = HRS_ds_wb_w4 ,HRS_ds_wb_w5 = HRS_ds_wb_w5 ,HRS_ds_wb_w6 = HRS_ds_wb_w6 ,
HRS_ds_wb_w7 = HRS_ds_wb_w7 ,HRS_ds_wb_w8 = HRS_ds_wb_w8 ,HRS_ds_wb_w9 = HRS_ds_wb_w9 ,HRS_ds_wb_w10 = HRS_ds_wb_w10 ,
HRS_ds_wb_w11 = HRS_ds_wb_w11 ,HRS_ds_ebb_w7 = HRS_ds_ebb_w7 ,HRS_ds_ebb_w8 = HRS_ds_ebb_w8 ,HRS_ds_ebb_w9 = HRS_ds_ebb_w9 ,
HRS_ds_ebb_w10 = HRS_ds_ebb_w10 ,HRS_ds_ebb_w11 = HRS_ds_ebb_w11 ,HRS_ds_mbb_w10 = HRS_ds_mbb_w10 ,HRS_ds_mbb_w11 = HRS_ds_mbb_w11)

m.hrs <- list(HRS_m_ds_hrs_w2 = HRS_m_ds_hrs_w2 ,HRS_m_ds_hrs_w3 = HRS_m_ds_hrs_w3 ,HRS_m_ds_hrs_w4 = HRS_m_ds_hrs_w4 ,
HRS_m_ds_hrs_w5 = HRS_m_ds_hrs_w5 ,HRS_m_ds_hrs_w6 = HRS_m_ds_hrs_w6 ,HRS_m_ds_hrs_w7 = HRS_m_ds_hrs_w7 ,HRS_m_ds_hrs_w8 = HRS_m_ds_hrs_w8 ,
HRS_m_ds_hrs_w9 = HRS_m_ds_hrs_w9 ,HRS_m_ds_hrs_w10 = HRS_m_ds_hrs_w10 ,HRS_m_ds_hrs_w11 = HRS_m_ds_hrs_w11 ,HRS_m_ds_ahead_w2 = HRS_m_ds_ahead_w2 ,
HRS_m_ds_ahead_w3 = HRS_m_ds_ahead_w3 ,HRS_m_ds_ahead_w4 = HRS_m_ds_ahead_w4 ,HRS_m_ds_ahead_w5 = HRS_m_ds_ahead_w5 ,HRS_m_ds_ahead_w6 = HRS_m_ds_ahead_w6 ,
HRS_m_ds_ahead_w7 = HRS_m_ds_ahead_w7 ,HRS_m_ds_ahead_w8 = HRS_m_ds_ahead_w8 ,HRS_m_ds_ahead_w9 = HRS_m_ds_ahead_w9 ,HRS_m_ds_ahead_w10 = HRS_m_ds_ahead_w10 ,
HRS_m_ds_ahead_w11 = HRS_m_ds_ahead_w11 ,HRS_m_ds_coda_w4 = HRS_m_ds_coda_w4 ,HRS_m_ds_coda_w5 = HRS_m_ds_coda_w5 ,HRS_m_ds_coda_w6 = HRS_m_ds_coda_w6 ,
HRS_m_ds_coda_w7 = HRS_m_ds_coda_w7 ,HRS_m_ds_coda_w8 = HRS_m_ds_coda_w8 ,HRS_m_ds_coda_w9 = HRS_m_ds_coda_w9 ,HRS_m_ds_coda_w10 = HRS_m_ds_coda_w10 ,
HRS_m_ds_coda_w11 = HRS_m_ds_coda_w11 ,HRS_m_ds_wb_w4 = HRS_m_ds_wb_w4 ,HRS_m_ds_wb_w5 = HRS_m_ds_wb_w5 ,HRS_m_ds_wb_w6 = HRS_m_ds_wb_w6 ,
HRS_m_ds_wb_w7 = HRS_m_ds_wb_w7 ,HRS_m_ds_wb_w8 = HRS_m_ds_wb_w8 ,HRS_m_ds_wb_w9 = HRS_m_ds_wb_w9 ,HRS_m_ds_wb_w10 = HRS_m_ds_wb_w10 ,
HRS_m_ds_wb_w11 = HRS_m_ds_wb_w11 ,HRS_m_ds_ebb_w7 = HRS_m_ds_ebb_w7 ,HRS_m_ds_ebb_w8 = HRS_m_ds_ebb_w8 ,HRS_m_ds_ebb_w9 = HRS_m_ds_ebb_w9 ,
HRS_m_ds_ebb_w10 = HRS_m_ds_ebb_w10 ,HRS_m_ds_ebb_w11 = HRS_m_ds_ebb_w11 ,HRS_m_ds_mbb_w10 = HRS_m_ds_mbb_w10 ,HRS_m_ds_mbb_w11 = HRS_m_ds_mbb_w11)

for(i in 2:length(l.hrs)) {
  label(l.hrs[[i]][[2]]) <- label(m.hrs[[i]][[2]]) <- ds_label # Text value assigned at the DS description, at the top.
    
  m.hrs[[i]][[2]] <- car::recode(m.hrs[[i]][[2]], "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
  m.hrs[[i]][[2]] <- labelled(m.hrs[[i]][[2]], labels = c(Presence=0, Absence=1))
  nl <- names(l.hrs[i])
  #opal.assign.data(o, nl , l.hrs[[i]])
  #opal.symbol_import(o, nl , project='_Athlos_Harm_Dataset')  

  ml <- names(m.hrs[i])
  #opal.assign.data(o, ml , m.hrs[[i]])
  #opal.symbol_import(o, ml , project='_Athlos_Harm_Dataset')  
}

```

## Descriptive statistics of the harmonised variable accross populations and waves

Percentages of categories in each harmonised variable by cohort:

**R script:**

```{r summ}

#f.ll <- function(ll) {  
#  for (i in 1:length(ll)) {
#    ll[[i]][[2]] <- labelled(ll[[i]][[2]], labels = c(Presence=0, Absence=1, Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))    
#  }
#  return(ll)
#}

#l.hrs <- f.ll(l.hrs)


# Table HRS
t.hrs <- frq(l.hrs[[3]][2])[[1]][,c(1,2)] 
for (i in 1:10){
  t.hrs[2+i] <- frq(l.hrs[[i]][2])[[1]][,4] 
}
t.hrs[13,] <- c("n", "sample size", 
             length(l.hrs[[1]][[2]]), length(l.hrs[[2]][[2]]),
             length(l.hrs[[3]][[2]]), length(l.hrs[[4]][[2]]), length(l.hrs[[5]][[2]]),     
             length(l.hrs[[6]][[2]]), length(l.hrs[[7]][[2]]), length(l.hrs[[8]][[2]]),
             length(l.hrs[[9]][[2]]), length(l.hrs[[10]][[2]]))
names(t.hrs)<-c("val", "label", "w2", "w3", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.hrs)
  

# Table AHEAD
t.ahead <- frq(l.hrs[[11]][2])[[1]][,c(1,2)] 
for (i in 1:10){
  t.ahead[2+i] <- frq(l.hrs[[i+10]][2])[[1]][,4] 
}
t.ahead[13,] <- c("n", "sample size", 
             length(l.hrs[[11]][[2]]), length(l.hrs[[12]][[2]]), length(l.hrs[[13]][[2]]),
             length(l.hrs[[14]][[2]]), length(l.hrs[[15]][[2]]), length(l.hrs[[16]][[2]]),     
             length(l.hrs[[17]][[2]]), length(l.hrs[[18]][[2]]), length(l.hrs[[19]][[2]]),
             length(l.hrs[[20]][[2]]))
names(t.ahead)<-c("val", "label", "w2", "w3", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.ahead)



# Table CODA
t.coda <- frq(l.hrs[[21]][2])[[1]][,c(1,2)] 
for (i in 1:8){
  t.coda[2+i] <- frq(l.hrs[[20+i]][2])[[1]][,4] 
}
t.coda[13,] <- c("n", "sample size", 
             length(l.hrs[[21]][[2]]), length(l.hrs[[22]][[2]]), length(l.hrs[[23]][[2]]),
             length(l.hrs[[24]][[2]]), length(l.hrs[[25]][[2]]), length(l.hrs[[26]][[2]]),     
             length(l.hrs[[27]][[2]]), length(l.hrs[[28]][[2]]))
names(t.coda)<-c("val", "label", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.coda)



# Table WB
t.wb <- frq(l.hrs[[29]][2])[[1]][,c(1,2)] 
for (i in 1:8){
  t.wb[2+i] <- frq(l.hrs[[30+i]][2])[[1]][,4] 
}
t.wb[13,] <- c("n", "sample size", 
             length(l.hrs[[29]][[2]]), length(l.hrs[[30]][[2]]), length(l.hrs[[31]][[2]]),
             length(l.hrs[[32]][[2]]), length(l.hrs[[33]][[2]]), length(l.hrs[[34]][[2]]),     
             length(l.hrs[[35]][[2]]), length(l.hrs[[36]][[2]]))
names(t.wb)<-c("val", "label", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.wb)



# Table EBB
t.ebb <- frq(l.hrs[[37]][2])[[1]][,c(1,2)] 
for (i in 1:5){
  t.ebb[2+i] <- frq(l.hrs[[36+i]][2])[[1]][,4] 
}
t.ebb[13,] <- c("n", "sample size", 
             length(l.hrs[[37]][[2]]), length(l.hrs[[38]][[2]]), length(l.hrs[[39]][[2]]),
             length(l.hrs[[40]][[2]]), length(l.hrs[[41]][[2]]))
names(t.ebb)<-c("val", "label", "w7", "w8", "w9", "w10", "w11")
kable(t.ebb)




# Table MBB
t.mbb <- frq(l.hrs[[42]][2])[[1]][,c(1,2)] 
for (i in 1:2){
  t.mbb[2+i] <- frq(l.hrs[[41+i]][2])[[1]][,4] 
}
t.mbb[13,] <- c("n", "sample size", length(l.hrs[[42]][[2]]), length(l.hrs[[43]][[2]]))
names(t.mbb)<-c("val", "label", "w10", "w11")
kable(t.mbb)

```




# Quality estimation
For this study, the variable is a composed combining day, month, and year which is different from the 
calculation performed in other studies other variables are also available (or some of these variables are not).


<!--- #### Close OPAL R Session -->
```{r closeRsession, echo=FALSE}
opal.logout(o)
```




