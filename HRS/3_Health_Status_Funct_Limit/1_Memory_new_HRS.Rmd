---
title: "Memory"
output:
  html_document:
    highlight: tango
    number_sections: yes
    theme: united
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
      smooth_scroll: yes
---
  
<!-- ########################################################## --> 

<!-- # Installation, loading packages -->
<!-- **R script:** -->

```{r setup, include=FALSE}
source("M:/WPs/WP1/Maelstrom/data_process/athlos-project.github.io/setup_iago.r")
```
<!-- ########################################################## --> 

# Description of DataSchema variable

The description of harmonised variable is the following:


* Short name: `memory`
* Variable label: `Difficulties with memory`
* Variable description: `Difficulties with memory`
* Domain: `Health status and functional limitations`
* Value type: `categorical`
* Category coding:

**Code** | **Category Label**
-------- | ------------------
0        | Presence of difficulties with memory
1        | Absence of memory difficulties

* Category missings: 

**Code** | **Category Label**
----| ------------------
991 | CAPI/interviewer error
992 | Impute
993 | Disable to measure
994 | Not attempt/not done
995 | Does not answer
996 | Not applicable
997 | Refuse
998 | Do not know
999 | Missing

# Data process 



```{r lab, echo=FALSE}
ds_label <- "Self-reported ratings of memory at the time of the interview"
```


## HRS

### Wave 1 

#### Study-specific variable description



| **Name** | `R1SLFMEM`|
|-|-|
| **Label** | `Wave 1 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w1` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |


```{r assign hrs w1, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w1_memory','HRS.HRS-HRS-w1', variables=list('R1SLFMEM'), missings = TRUE)
```

```{r local hrs w1, echo=F}
HRS_HRS_w1_memory <- opal.execute(o,'HRS_HRS_w1_memory')
vari <- HRS_HRS_w1_memory$R1SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R1SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w1_memory, aes(x=factor(R1SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w1}
HRS_HRS_ds_w1 <- tibble(id=HRS_HRS_w1_memory$id)
HRS_HRS_ds_w1$memory <- car::recode(HRS_HRS_w1_memory$R1SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w1$memory <- labelled(HRS_HRS_ds_w1$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w1, echo=F}
vari <- HRS_HRS_ds_w1$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w1, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w1, echo=F}
AfterH <- table(HRS_HRS_ds_w1$memory)
X<-table(HRS_HRS_w1_memory$R1SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w1_memory$R1SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 2 

#### Study-specific variables description




| **Name** | `R2SLFMEM`|
|-|-|
| **Label** | `Wave 2 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w2` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |


```{r assign hrs w2, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w2_memory','HRS.HRS-HRS-w2', variables=list('R2SLFMEM'), missings = TRUE)
```

```{r local hrs w2, echo=F}
HRS_HRS_w2_memory <- opal.execute(o,'HRS_HRS_w2_memory')
vari <- HRS_HRS_w2_memory$R2SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R2SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w2_memory, aes(x=factor(R2SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0` 
* `NA into 999`                                          


**R script:**
```{r harmo hrs w2}
HRS_HRS_ds_w2 <- tibble(id=HRS_HRS_w2_memory$id)
HRS_HRS_ds_w2$memory <- car::recode(HRS_HRS_w2_memory$R2SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w2$memory <- labelled(HRS_HRS_ds_w2$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w2, echo=F}
vari <- HRS_HRS_ds_w2$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w2, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w2, echo=F}
AfterH <- table(HRS_HRS_ds_w2$memory)
X<-table(HRS_HRS_w2_memory$R2SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w2_memory$R2SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 3 

#### Study-specific variables description




| **Name** | `R3SLFMEM`|
|-|-|
| **Label** | `Wave 3 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w3` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w3, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w3_memory','HRS.HRS-HRS-w3', variables=list('R3SLFMEM'), missings = TRUE)
```

```{r local hrs w3, echo=F}
HRS_HRS_w3_memory <- opal.execute(o,'HRS_HRS_w3_memory')
vari <- HRS_HRS_w3_memory$R3SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R3SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w3_memory, aes(x=factor(R3SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0` 
* `NA into 999`                                          


**R script:**
```{r harmo hrs w3}
HRS_HRS_ds_w3 <- tibble(id=HRS_HRS_w3_memory$id)
HRS_HRS_ds_w3$memory <- car::recode(HRS_HRS_w3_memory$R3SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w3$memory <- labelled(HRS_HRS_ds_w3$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w3, echo=F}
vari <- HRS_HRS_ds_w3$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w3, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w3, echo=F}
AfterH <- table(HRS_HRS_ds_w3$memory)
X<-table(HRS_HRS_w3_memory$R3SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w3_memory$R3SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 4 

#### Study-specific variables description




| **Name** | `R4SLFMEM`|
|-|-|
| **Label** | `Wave 4 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w4` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |


```{r assign hrs w4, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w4_memory','HRS.HRS-HRS-w4', variables=list('R4SLFMEM'), missings = TRUE)
```

```{r local hrs w4, echo=F}
HRS_HRS_w4_memory <- opal.execute(o,'HRS_HRS_w4_memory')
vari <- HRS_HRS_w4_memory$R4SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R4SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w4_memory, aes(x=factor(R4SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w4}
HRS_HRS_ds_w4 <- tibble(id=HRS_HRS_w4_memory$id)
HRS_HRS_ds_w4$memory <- car::recode(HRS_HRS_w4_memory$R4SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w4$memory <- labelled(HRS_HRS_ds_w4$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w4, echo=F}
vari <- HRS_HRS_ds_w4$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w4, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w4, echo=F}
AfterH <- table(HRS_HRS_ds_w4$memory)
X<-table(HRS_HRS_w4_memory$R4SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w4_memory$R4SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





### Wave 5 

#### Study-specific variables description




| **Name** | `R5SLFMEM`|
|-|-|
| **Label** | `Wave 5 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w5` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |


```{r assign hrs w5, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w5_memory','HRS.HRS-HRS-w5', variables=list('R5SLFMEM'), missings = TRUE)
```

```{r local hrs w5, echo=F}
HRS_HRS_w5_memory <- opal.execute(o,'HRS_HRS_w5_memory')
vari <- HRS_HRS_w5_memory$R5SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R5SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w5_memory, aes(x=factor(R5SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w5}
HRS_HRS_ds_w5 <- tibble(id=HRS_HRS_w5_memory$id)
HRS_HRS_ds_w5$memory <- car::recode(HRS_HRS_w5_memory$R5SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w5$memory <- labelled(HRS_HRS_ds_w5$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w5, echo=F}
vari <- HRS_HRS_ds_w5$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w5, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w5, echo=F}
AfterH <- table(HRS_HRS_ds_w5$memory)
X<-table(HRS_HRS_w5_memory$R5SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w5_memory$R5SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 6 

#### Study-specific variables description




| **Name** | `R6SLFMEM`|
|-|-|
| **Label** | `Wave 6 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w6` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |


```{r assign hrs w6, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w6_memory','HRS.HRS-HRS-w6', variables=list('R6SLFMEM'), missings = TRUE)
```

```{r local hrs w6, echo=F}
HRS_HRS_w6_memory <- opal.execute(o,'HRS_HRS_w6_memory')
vari <- HRS_HRS_w6_memory$R6SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R6SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w6_memory, aes(x=factor(R6SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w6}
HRS_HRS_ds_w6 <- tibble(id=HRS_HRS_w6_memory$id)
HRS_HRS_ds_w6$memory <- car::recode(HRS_HRS_w6_memory$R6SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w6$memory <- labelled(HRS_HRS_ds_w6$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w6, echo=F}
vari <- HRS_HRS_ds_w6$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w6, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w6, echo=F}
AfterH <- table(HRS_HRS_ds_w6$memory)
X<-table(HRS_HRS_w6_memory$R6SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w6_memory$R6SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```









### Wave 7 

#### Study-specific variables description




| **Name** | `R7SLFMEM`|
|-|-|
| **Label** | `Wave 7 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w7` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w7, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w7_memory','HRS.HRS-HRS-w7', variables=list('R7SLFMEM'), missings = TRUE)
```

```{r local hrs w7, echo=F}
HRS_HRS_w7_memory <- opal.execute(o,'HRS_HRS_w7_memory')
vari <- HRS_HRS_w7_memory$R7SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R7SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w7_memory, aes(x=factor(R7SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w7}
HRS_HRS_ds_w7 <- tibble(id=HRS_HRS_w7_memory$id)
HRS_HRS_ds_w7$memory <- car::recode(HRS_HRS_w7_memory$R7SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w7$memory <- labelled(HRS_HRS_ds_w7$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w7, echo=F}
vari <- HRS_HRS_ds_w7$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w7, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w7, echo=F}
AfterH <- table(HRS_HRS_ds_w7$memory)
X<-table(HRS_HRS_w7_memory$R7SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w7_memory$R7SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 8 

#### Study-specific variables description




| **Name** | `R8SLFMEM`|
|-|-|
| **Label** | `Wave 8 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w8` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w8, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w8_memory','HRS.HRS-HRS-w8', variables=list('R8SLFMEM'), missings = TRUE)
```

```{r local hrs w8, echo=F}
HRS_HRS_w8_memory <- opal.execute(o,'HRS_HRS_w8_memory')
vari <- HRS_HRS_w8_memory$R8SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R8SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w8_memory, aes(x=factor(R8SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w8}
HRS_HRS_ds_w8 <- tibble(id=HRS_HRS_w8_memory$id)
HRS_HRS_ds_w8$memory <- car::recode(HRS_HRS_w8_memory$R8SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w8$memory <- labelled(HRS_HRS_ds_w8$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w8, echo=F}
vari <- HRS_HRS_ds_w8$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w8, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w8, echo=F}
AfterH <- table(HRS_HRS_ds_w8$memory)
X<-table(HRS_HRS_w8_memory$R8SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w8_memory$R8SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 9 

#### Study-specific variables description




| **Name** | `R9SLFMEM`|
|-|-|
| **Label** | `Wave 9 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w9` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w9, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w9_memory','HRS.HRS-HRS-w9', variables=list('R9SLFMEM'), missings = TRUE)
```

```{r local hrs w9, echo=F}
HRS_HRS_w9_memory <- opal.execute(o,'HRS_HRS_w9_memory')
vari <- HRS_HRS_w9_memory$R9SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R9SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w9_memory, aes(x=factor(R9SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w9}
HRS_HRS_ds_w9 <- tibble(id=HRS_HRS_w9_memory$id)
HRS_HRS_ds_w9$memory <- car::recode(HRS_HRS_w9_memory$R9SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w9$memory <- labelled(HRS_HRS_ds_w9$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w9, echo=F}
vari <- HRS_HRS_ds_w9$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w9, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w9, echo=F}
AfterH <- table(HRS_HRS_ds_w9$memory)
X<-table(HRS_HRS_w9_memory$R9SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w9_memory$R9SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```










### Wave 10 

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w10, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w10_memory','HRS.HRS-HRS-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local hrs w10, echo=F}
HRS_HRS_w10_memory <- opal.execute(o,'HRS_HRS_w10_memory')
vari <- HRS_HRS_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w10}
HRS_HRS_ds_w10 <- tibble(id=HRS_HRS_w10_memory$id)
HRS_HRS_ds_w10$memory <- car::recode(HRS_HRS_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w10$memory <- labelled(HRS_HRS_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w10, echo=F}
vari <- HRS_HRS_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w10, echo=F}
AfterH <- table(HRS_HRS_ds_w10$memory)
X<-table(HRS_HRS_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 11 

#### Study-specific variables description




| **Name** | `R7SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-HRS-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign hrs w11, echo=F}
opal.assign.table.tibble(o, 'HRS_HRS_w11_memory','HRS.HRS-HRS-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local hrs w11, echo=F}
HRS_HRS_w11_memory <- opal.execute(o,'HRS_HRS_w11_memory')
vari <- HRS_HRS_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_HRS_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo hrs w11}
HRS_HRS_ds_w11 <- tibble(id=HRS_HRS_w11_memory$id)
HRS_HRS_ds_w11$memory <- car::recode(HRS_HRS_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_HRS_ds_w11$memory <- labelled(HRS_HRS_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript hrs w11, echo=F}
vari <- HRS_HRS_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_HRS_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation hrs w11, echo=F}
AfterH <- table(HRS_HRS_ds_w11$memory)
X<-table(HRS_HRS_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_HRS_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






```{r rm1, echo=FALSE}
#rm(list=setdiff(ls(), c("o", "Categorical_summary", "Continuous_summary",                        "HRS_HRS_ds_w1","HRS_HRS_ds_w2","HRS_HRS_ds_w3","HRS_HRS_ds_w4","HRS_HRS_ds_w5"                        ,"HRS_HRS_ds_w6","HRS_HRS_ds_w7","HRS_HRS_ds_w8","HRS_HRS_ds_w9","HRS_HRS_ds_w10","HRS_HRS_ds_w11")))

```


## AHEAD

### Wave 2


#### Study-specific variables description




| **Name** | `R2SLFMEM`|
|-|-|
| **Label** | `Wave 2 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w2` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |

```{r assign ahead w2, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w2_memory','HRS.HRS-AHEAD-w2', variables=list('R2SLFMEM'), missings = TRUE)
```

```{r local ahead w2, echo=F}
HRS_AHEAD_w2_memory <- opal.execute(o,'HRS_AHEAD_w2_memory')
vari <- HRS_AHEAD_w2_memory$R2SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R2SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w2_memory, aes(x=factor(R2SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w2}
HRS_AHEAD_ds_w2 <- tibble(id=HRS_AHEAD_w2_memory$id)
HRS_AHEAD_ds_w2$memory <- car::recode(HRS_AHEAD_w2_memory$R2SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w2$memory <- labelled(HRS_AHEAD_ds_w2$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w2, echo=F}
vari <- HRS_AHEAD_ds_w2$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w2, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w2, echo=F}
AfterH <- table(HRS_AHEAD_ds_w2$memory)
X<-table(HRS_AHEAD_w2_memory$R2SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w2_memory$R2SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





### Wave 3

#### Study-specific variables description




| **Name** | `R3SLFMEM`|
|-|-|
| **Label** | `Wave 3 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w3` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w3, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w3_memory','HRS.HRS-AHEAD-w3', variables=list('R3SLFMEM'), missings = TRUE)
```

```{r local ahead w3, echo=F}
HRS_AHEAD_w3_memory <- opal.execute(o,'HRS_AHEAD_w3_memory')
vari <- HRS_AHEAD_w3_memory$R3SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R3SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w3_memory, aes(x=factor(R3SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w3}
HRS_AHEAD_ds_w3 <- tibble(id=HRS_AHEAD_w3_memory$id)
HRS_AHEAD_ds_w3$memory <- car::recode(HRS_AHEAD_w3_memory$R3SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w3$memory <- labelled(HRS_AHEAD_ds_w3$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w3, echo=F}
vari <- HRS_AHEAD_ds_w3$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w3, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w3, echo=F}
AfterH <- table(HRS_AHEAD_ds_w3$memory)
X<-table(HRS_AHEAD_w3_memory$R3SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w3_memory$R3SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 4

#### Study-specific variables description




| **Name** | `R4SLFMEM`|
|-|-|
| **Label** | `Wave 4 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w4` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w4, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w4_memory','HRS.HRS-AHEAD-w4', variables=list('R4SLFMEM'), missings = TRUE)
```

```{r local ahead w4, echo=F}
HRS_AHEAD_w4_memory <- opal.execute(o,'HRS_AHEAD_w4_memory')
vari <- HRS_AHEAD_w4_memory$R4SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R4SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w4_memory, aes(x=factor(R4SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w4}
HRS_AHEAD_ds_w4 <- tibble(id=HRS_AHEAD_w4_memory$id)
HRS_AHEAD_ds_w4$memory <- car::recode(HRS_AHEAD_w4_memory$R4SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w4$memory <- labelled(HRS_AHEAD_ds_w4$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w4, echo=F}
vari <- HRS_AHEAD_ds_w4$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w4, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w4, echo=F}
AfterH <- table(HRS_AHEAD_ds_w4$memory)
X<-table(HRS_AHEAD_w4_memory$R4SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w4_memory$R4SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 5

#### Study-specific variables description




| **Name** | `R5SLFMEM`|
|-|-|
| **Label** | `Wave 5 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w5` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w5, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w5_memory','HRS.HRS-AHEAD-w5', variables=list('R5SLFMEM'), missings = TRUE)
```

```{r local ahead w5, echo=F}
HRS_AHEAD_w5_memory <- opal.execute(o,'HRS_AHEAD_w5_memory')
vari <- HRS_AHEAD_w5_memory$R5SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R5SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w5_memory, aes(x=factor(R5SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w5}
HRS_AHEAD_ds_w5 <- tibble(id=HRS_AHEAD_w5_memory$id)
HRS_AHEAD_ds_w5$memory <- car::recode(HRS_AHEAD_w5_memory$R5SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w5$memory <- labelled(HRS_AHEAD_ds_w5$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w5, echo=F}
vari <- HRS_AHEAD_ds_w5$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w3, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w5, echo=F}
AfterH <- table(HRS_AHEAD_ds_w5$memory)
X<-table(HRS_AHEAD_w5_memory$R5SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w5_memory$R5SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 6

#### Study-specific variables description




| **Name** | `R6SLFMEM`|
|-|-|
| **Label** | `Wave 6 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w6` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w6, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w6_memory','HRS.HRS-AHEAD-w6', variables=list('R6SLFMEM'), missings = TRUE)
```

```{r local ahead w6, echo=F}
HRS_AHEAD_w6_memory <- opal.execute(o,'HRS_AHEAD_w6_memory')
vari <- HRS_AHEAD_w6_memory$R6SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R6SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w6_memory, aes(x=factor(R6SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w6}
HRS_AHEAD_ds_w6 <- tibble(id=HRS_AHEAD_w6_memory$id)
HRS_AHEAD_ds_w6$memory <- car::recode(HRS_AHEAD_w6_memory$R6SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w6$memory <- labelled(HRS_AHEAD_ds_w6$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w6, echo=F}
vari <- HRS_AHEAD_ds_w6$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w6, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w6, echo=F}
AfterH <- table(HRS_AHEAD_ds_w6$memory)
X<-table(HRS_AHEAD_w6_memory$R6SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w6_memory$R6SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```









### Wave 7

#### Study-specific variables description




| **Name** | `R6SLFMEM`|
|-|-|
| **Label** | `Wave 6 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w7` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w7, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w7_memory','HRS.HRS-AHEAD-w7', variables=list('R7SLFMEM'), missings = TRUE)
```

```{r local ahead w7, echo=F}
HRS_AHEAD_w7_memory <- opal.execute(o,'HRS_AHEAD_w7_memory')
vari <- HRS_AHEAD_w7_memory$R7SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R7SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w7_memory, aes(x=factor(R7SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w7}
HRS_AHEAD_ds_w7 <- tibble(id=HRS_AHEAD_w7_memory$id)
HRS_AHEAD_ds_w7$memory <- car::recode(HRS_AHEAD_w7_memory$R7SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w7$memory <- labelled(HRS_AHEAD_ds_w7$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w7, echo=F}
vari <- HRS_AHEAD_ds_w7$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w7, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w7, echo=F}
AfterH <- table(HRS_AHEAD_ds_w7$memory)
X<-table(HRS_AHEAD_w7_memory$R7SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w7_memory$R7SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```









### Wave 8

#### Study-specific variables description




| **Name** | `R8SLFMEM`|
|-|-|
| **Label** | `Wave 8 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w8` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w8, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w8_memory','HRS.HRS-AHEAD-w8', variables=list('R8SLFMEM'), missings = TRUE)
```

```{r local ahead w8, echo=F}
HRS_AHEAD_w8_memory <- opal.execute(o,'HRS_AHEAD_w8_memory')
vari <- HRS_AHEAD_w8_memory$R8SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R8SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w8_memory, aes(x=factor(R8SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w8}
HRS_AHEAD_ds_w8 <- tibble(id=HRS_AHEAD_w8_memory$id)
HRS_AHEAD_ds_w8$memory <- car::recode(HRS_AHEAD_w8_memory$R8SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w8$memory <- labelled(HRS_AHEAD_ds_w8$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w8, echo=F}
vari <- HRS_AHEAD_ds_w8$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w8, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w8, echo=F}
AfterH <- table(HRS_AHEAD_ds_w8$memory)
X<-table(HRS_AHEAD_w8_memory$R8SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w8_memory$R8SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```









### Wave 9

#### Study-specific variables description




| **Name** | `R9SLFMEM`|
|-|-|
| **Label** | `Wave 9 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w9` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w9, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w9_memory','HRS.HRS-AHEAD-w9', variables=list('R9SLFMEM'), missings = TRUE)
```

```{r local ahead w9, echo=F}
HRS_AHEAD_w9_memory <- opal.execute(o,'HRS_AHEAD_w9_memory')
vari <- HRS_AHEAD_w9_memory$R9SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R9SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w9_memory, aes(x=factor(R9SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w9}
HRS_AHEAD_ds_w9 <- tibble(id=HRS_AHEAD_w9_memory$id)
HRS_AHEAD_ds_w9$memory <- car::recode(HRS_AHEAD_w9_memory$R9SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w9$memory <- labelled(HRS_AHEAD_ds_w9$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w9, echo=F}
vari <- HRS_AHEAD_ds_w9$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w9, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w9, echo=F}
AfterH <- table(HRS_AHEAD_ds_w9$memory)
X<-table(HRS_AHEAD_w9_memory$R9SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w9_memory$R9SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 10

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w10, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w10_memory','HRS.HRS-AHEAD-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local ahead w10, echo=F}
HRS_AHEAD_w10_memory <- opal.execute(o,'HRS_AHEAD_w10_memory')
vari <- HRS_AHEAD_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w10}
HRS_AHEAD_ds_w10 <- tibble(id=HRS_AHEAD_w10_memory$id)
HRS_AHEAD_ds_w10$memory <- car::recode(HRS_AHEAD_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w10$memory <- labelled(HRS_AHEAD_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w10, echo=F}
vari <- HRS_AHEAD_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w10, echo=F}
AfterH <- table(HRS_AHEAD_ds_w10$memory)
X<-table(HRS_AHEAD_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 11

#### Study-specific variables description




| **Name** | `R11SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-AHEAD-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ahead w11, echo=F}
opal.assign.table.tibble(o, 'HRS_AHEAD_w11_memory','HRS.HRS-AHEAD-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local ahead w11, echo=F}
HRS_AHEAD_w11_memory <- opal.execute(o,'HRS_AHEAD_w11_memory')
vari <- HRS_AHEAD_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_AHEAD_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ahead w11}
HRS_AHEAD_ds_w11 <- tibble(id=HRS_AHEAD_w11_memory$id)
HRS_AHEAD_ds_w11$memory <- car::recode(HRS_AHEAD_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_AHEAD_ds_w11$memory <- labelled(HRS_AHEAD_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ahead w11, echo=F}
vari <- HRS_AHEAD_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_AHEAD_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ahead w11, echo=F}
AfterH <- table(HRS_AHEAD_ds_w11$memory)
X<-table(HRS_AHEAD_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_AHEAD_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





```{r rm2, echo=FALSE}
#rm(list=setdiff(ls(), c("o", "Categorical_summary","Continuous_summary","HRS_HRS_ds_w1","HRS_HRS_ds_w2","HRS_HRS_ds_w3","HRS_HRS_ds_w4","HRS_HRS_ds_w5","HRS_HRS_ds_w6","HRS_HRS_ds_w7","HRS_HRS_ds_w8","HRS_HRS_ds_w9","HRS_HRS_ds_w10","HRS_HRS_ds_w11", "HRS_AHEAD_ds_w2","HRS_AHEAD_ds_w3","HRS_AHEAD_ds_w4","HRS_AHEAD_ds_w5","HRS_AHEAD_ds_w6","HRS_AHEAD_ds_w7","HRS_AHEAD_ds_w8","HRS_AHEAD_ds_w9","HRS_AHEAD_ds_w10","HRS_AHEAD_ds_w11")))

```

## CODA

### Wave 4

#### Study-specific variables description




| **Name** | `R4SLFMEM`|
|-|-|
| **Label** | `Wave 4 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w4` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w4, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w4_memory','HRS.HRS-CODA-w4', variables=list('R4SLFMEM'), missings = TRUE)
```

```{r local coda w4, echo=F}
HRS_CODA_w4_memory <- opal.execute(o,'HRS_CODA_w4_memory')
vari <- HRS_CODA_w4_memory$R4SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R4SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w4_memory, aes(x=factor(R4SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w4}
HRS_CODA_ds_w4 <- tibble(id=HRS_CODA_w4_memory$id)
HRS_CODA_ds_w4$memory <- car::recode(HRS_CODA_w4_memory$R4SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w4$memory <- labelled(HRS_CODA_ds_w4$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w4, echo=F}
vari <- HRS_CODA_ds_w4$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w4, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w4, echo=F}
AfterH <- table(HRS_CODA_ds_w4$memory)
X<-table(HRS_CODA_w4_memory$R4SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w4_memory$R4SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 5

#### Study-specific variables description




| **Name** | `R5SLFMEM`|
|-|-|
| **Label** | `Wave 5 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w5` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w5, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w5_memory','HRS.HRS-CODA-w5', variables=list('R5SLFMEM'), missings = TRUE)
```

```{r local coda w5, echo=F}
HRS_CODA_w5_memory <- opal.execute(o,'HRS_CODA_w5_memory')
vari <- HRS_CODA_w5_memory$R5SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R5SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w5_memory, aes(x=factor(R5SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w5}
HRS_CODA_ds_w5 <- tibble(id=HRS_CODA_w5_memory$id)
HRS_CODA_ds_w5$memory <- car::recode(HRS_CODA_w5_memory$R5SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w5$memory <- labelled(HRS_CODA_ds_w5$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w5, echo=F}
vari <- HRS_CODA_ds_w5$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w5, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w5, echo=F}
AfterH <- table(HRS_CODA_ds_w5$memory)
X<-table(HRS_CODA_w5_memory$R5SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w5_memory$R5SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 6

#### Study-specific variables description




| **Name** | `R6SLFMEM`|
|-|-|
| **Label** | `Wave 6 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w6` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w6, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w6_memory','HRS.HRS-CODA-w6', variables=list('R6SLFMEM'), missings = TRUE)
```

```{r local coda w6, echo=F}
HRS_CODA_w6_memory <- opal.execute(o,'HRS_CODA_w6_memory')
vari <- HRS_CODA_w6_memory$R6SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R6SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w6_memory, aes(x=factor(R6SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w6}
HRS_CODA_ds_w6 <- tibble(id=HRS_CODA_w6_memory$id)
HRS_CODA_ds_w6$memory <- car::recode(HRS_CODA_w6_memory$R6SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w6$memory <- labelled(HRS_CODA_ds_w6$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w6, echo=F}
vari <- HRS_CODA_ds_w6$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w6, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w6, echo=F}
AfterH <- table(HRS_CODA_ds_w6$memory)
X<-table(HRS_CODA_w6_memory$R6SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w6_memory$R6SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 7

#### Study-specific variables description




| **Name** | `R7SLFMEM`|
|-|-|
| **Label** | `Wave 7 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w7` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w7, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w7_memory','HRS.HRS-CODA-w7', variables=list('R7SLFMEM'), missings = TRUE)
```

```{r local coda w7, echo=F}
HRS_CODA_w7_memory <- opal.execute(o,'HRS_CODA_w7_memory')
vari <- HRS_CODA_w7_memory$R7SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R7SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w7_memory, aes(x=factor(R7SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w7}
HRS_CODA_ds_w7 <- tibble(id=HRS_CODA_w7_memory$id)
HRS_CODA_ds_w7$memory <- car::recode(HRS_CODA_w7_memory$R7SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w7$memory <- labelled(HRS_CODA_ds_w7$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w7, echo=F}
vari <- HRS_CODA_ds_w7$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w7, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w7, echo=F}
AfterH <- table(HRS_CODA_ds_w7$memory)
X<-table(HRS_CODA_w7_memory$R7SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w7_memory$R7SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 8

#### Study-specific variables description




| **Name** | `R8SLFMEM`|
|-|-|
| **Label** | `Wave 8 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w8` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w8, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w8_memory','HRS.HRS-CODA-w8', variables=list('R8SLFMEM'), missings = TRUE)
```

```{r local coda w8, echo=F}
HRS_CODA_w8_memory <- opal.execute(o,'HRS_CODA_w8_memory')
vari <- HRS_CODA_w8_memory$R8SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R8SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w8_memory, aes(x=factor(R8SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w8}
HRS_CODA_ds_w8 <- tibble(id=HRS_CODA_w8_memory$id)
HRS_CODA_ds_w8$memory <- car::recode(HRS_CODA_w8_memory$R8SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w8$memory <- labelled(HRS_CODA_ds_w8$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w8, echo=F}
vari <- HRS_CODA_ds_w8$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w8, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w8, echo=F}
AfterH <- table(HRS_CODA_ds_w8$memory)
X<-table(HRS_CODA_w8_memory$R8SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w8_memory$R8SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 9

#### Study-specific variables description




| **Name** | `R9SLFMEM`|
|-|-|
| **Label** | `Wave 9 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w9` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w9, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w9_memory','HRS.HRS-CODA-w9', variables=list('R9SLFMEM'), missings = TRUE)
```

```{r local coda w9, echo=F}
HRS_CODA_w9_memory <- opal.execute(o,'HRS_CODA_w9_memory')
vari <- HRS_CODA_w9_memory$R9SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R9SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w9_memory, aes(x=factor(R9SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w9}
HRS_CODA_ds_w9 <- tibble(id=HRS_CODA_w9_memory$id)
HRS_CODA_ds_w9$memory <- car::recode(HRS_CODA_w9_memory$R9SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w9$memory <- labelled(HRS_CODA_ds_w9$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w9, echo=F}
vari <- HRS_CODA_ds_w9$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w9, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w9, echo=F}
AfterH <- table(HRS_CODA_ds_w9$memory)
X<-table(HRS_CODA_w9_memory$R9SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w9_memory$R9SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 10

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w10, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w10_memory','HRS.HRS-CODA-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local coda w10, echo=F}
HRS_CODA_w10_memory <- opal.execute(o,'HRS_CODA_w10_memory')
vari <- HRS_CODA_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w10}
HRS_CODA_ds_w10 <- tibble(id=HRS_CODA_w10_memory$id)
HRS_CODA_ds_w10$memory <- car::recode(HRS_CODA_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w10$memory <- labelled(HRS_CODA_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w10, echo=F}
vari <- HRS_CODA_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w10, echo=F}
AfterH <- table(HRS_CODA_ds_w10$memory)
X<-table(HRS_CODA_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 11

#### Study-specific variables description




| **Name** | `R11SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-CODA-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign coda w11, echo=F}
opal.assign.table.tibble(o, 'HRS_CODA_w11_memory','HRS.HRS-CODA-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local coda w11, echo=F}
HRS_CODA_w11_memory <- opal.execute(o,'HRS_CODA_w11_memory')
vari <- HRS_CODA_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_CODA_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo coda w11}
HRS_CODA_ds_w11 <- tibble(id=HRS_CODA_w11_memory$id)
HRS_CODA_ds_w11$memory <- car::recode(HRS_CODA_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_CODA_ds_w11$memory <- labelled(HRS_CODA_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript coda w11, echo=F}
vari <- HRS_CODA_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_CODA_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation coda w11, echo=F}
AfterH <- table(HRS_CODA_ds_w11$memory)
X<-table(HRS_CODA_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_CODA_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





```{r rm3, echo=FALSE}
#rm(list=setdiff(ls(), c("o", "Categorical_summary", "Continuous_summary", "HRS_HRS_ds_w1", "HRS_HRS_ds_w2", "HRS_HRS_ds_w3", "HRS_HRS_ds_w4", "HRS_HRS_ds_w5", "HRS_HRS_ds_w6", "HRS_HRS_ds_w7", "HRS_HRS_ds_w8", "HRS_HRS_ds_w9", "HRS_HRS_ds_w10","HRS_HRS_ds_w11", "HRS_AHEAD_ds_w2", "HRS_AHEAD_ds_w3", "HRS_AHEAD_ds_w4", "HRS_AHEAD_ds_w5", "HRS_AHEAD_ds_w6", "HRS_AHEAD_ds_w7", "HRS_AHEAD_ds_w8", "HRS_AHEAD_ds_w9", "HRS_AHEAD_ds_w10", "HRS_AHEAD_ds_w11", "HRS_CODA_ds_w4","HRS_CODA_ds_w5", "HRS_CODA_ds_w6" ,"HRS_CODA_ds_w7", "HRS_CODA_ds_w8", "HRS_CODA_ds_w9", "HRS_CODA_ds_w10","HRS_CODA_ds_w11")))

```

## The War Baby (WB)

### Wave 4

#### Study-specific variables description




| **Name** | `R4SLFMEM`|
|-|-|
| **Label** | `Wave 4 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w4` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w4, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w4_memory','HRS.HRS-WB-w4', variables=list('R4SLFMEM'), missings = TRUE)
```

```{r local wb w4, echo=F}
HRS_WB_w4_memory <- opal.execute(o,'HRS_WB_w4_memory')
vari <- HRS_WB_w4_memory$R4SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R4SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w4_memory, aes(x=factor(R4SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w4}
HRS_WB_ds_w4 <- tibble(id=HRS_WB_w4_memory$id)
HRS_WB_ds_w4$memory <- car::recode(HRS_WB_w4_memory$R4SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w4$memory <- labelled(HRS_WB_ds_w4$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w4, echo=F}
vari <- HRS_WB_ds_w4$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w4, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w4, echo=F}
AfterH <- table(HRS_WB_ds_w4$memory)
X<-table(HRS_WB_w4_memory$R4SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w4_memory$R4SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 5

#### Study-specific variables description




| **Name** | `R5SLFMEM`|
|-|-|
| **Label** | `Wave 5 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w5` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w5, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w5_memory','HRS.HRS-WB-w5', variables=list('R5SLFMEM'), missings = TRUE)
```

```{r local wb w5, echo=F}
HRS_WB_w5_memory <- opal.execute(o,'HRS_WB_w5_memory')
vari <- HRS_WB_w5_memory$R5SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R5SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w5_memory, aes(x=factor(R5SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w5}
HRS_WB_ds_w5 <- tibble(id=HRS_WB_w5_memory$id)
HRS_WB_ds_w5$memory <- car::recode(HRS_WB_w5_memory$R5SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w5$memory <- labelled(HRS_WB_ds_w5$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w5, echo=F}
vari <- HRS_WB_ds_w5$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w5, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w5, echo=F}
AfterH <- table(HRS_WB_ds_w5$memory)
X<-table(HRS_WB_w5_memory$R5SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w5_memory$R5SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 6

#### Study-specific variables description




| **Name** | `R6SLFMEM`|
|-|-|
| **Label** | `Wave 6 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w6` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w6, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w6_memory','HRS.HRS-WB-w6', variables=list('R6SLFMEM'), missings = TRUE)
```

```{r local wb w6, echo=F}
HRS_WB_w6_memory <- opal.execute(o,'HRS_WB_w6_memory')
vari <- HRS_WB_w6_memory$R6SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R6SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w6_memory, aes(x=factor(R6SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w6}
HRS_WB_ds_w6 <- tibble(id=HRS_WB_w6_memory$id)
HRS_WB_ds_w6$memory <- car::recode(HRS_WB_w6_memory$R6SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w6$memory <- labelled(HRS_WB_ds_w6$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w6, echo=F}
vari <- HRS_WB_ds_w6$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w6, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w6, echo=F}
AfterH <- table(HRS_WB_ds_w6$memory)
X<-table(HRS_WB_w6_memory$R6SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w6_memory$R6SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 7

#### Study-specific variables description




| **Name** | `R7SLFMEM`|
|-|-|
| **Label** | `Wave 7 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w7` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w7, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w7_memory','HRS.HRS-WB-w7', variables=list('R7SLFMEM'), missings = TRUE)
```

```{r local wb w7, echo=F}
HRS_WB_w7_memory <- opal.execute(o,'HRS_WB_w7_memory')
vari <- HRS_WB_w7_memory$R7SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R7SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w7_memory, aes(x=factor(R7SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w7}
HRS_WB_ds_w7 <- tibble(id=HRS_WB_w7_memory$id)
HRS_WB_ds_w7$memory <- car::recode(HRS_WB_w7_memory$R7SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w7$memory <- labelled(HRS_WB_ds_w7$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w7, echo=F}
vari <- HRS_WB_ds_w7$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w7, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w7, echo=F}
AfterH <- table(HRS_WB_ds_w7$memory)
X<-table(HRS_WB_w7_memory$R7SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w7_memory$R7SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 8

#### Study-specific variables description




| **Name** | `R8SLFMEM`|
|-|-|
| **Label** | `Wave 8 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w8` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w8, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w8_memory','HRS.HRS-WB-w8', variables=list('R8SLFMEM'), missings = TRUE)
```

```{r local wb w8, echo=F}
HRS_WB_w8_memory <- opal.execute(o,'HRS_WB_w8_memory')
vari <- HRS_WB_w8_memory$R8SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R8SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w8_memory, aes(x=factor(R8SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w8}
HRS_WB_ds_w8 <- tibble(id=HRS_WB_w8_memory$id)
HRS_WB_ds_w8$memory <- car::recode(HRS_WB_w8_memory$R8SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w8$memory <- labelled(HRS_WB_ds_w8$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w8, echo=F}
vari <- HRS_WB_ds_w8$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w8, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w8, echo=F}
AfterH <- table(HRS_WB_ds_w8$memory)
X<-table(HRS_WB_w8_memory$R8SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w8_memory$R8SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 9

#### Study-specific variables description




| **Name** | `R9SLFMEM`|
|-|-|
| **Label** | `Wave 9 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w9` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w9, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w9_memory','HRS.HRS-WB-w9', variables=list('R9SLFMEM'), missings = TRUE)
```

```{r local wb w9, echo=F}
HRS_WB_w9_memory <- opal.execute(o,'HRS_WB_w9_memory')
vari <- HRS_WB_w9_memory$R9SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R9SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w9_memory, aes(x=factor(R9SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w9}
HRS_WB_ds_w9 <- tibble(id=HRS_WB_w9_memory$id)
HRS_WB_ds_w9$memory <- car::recode(HRS_WB_w9_memory$R9SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w9$memory <- labelled(HRS_WB_ds_w9$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w9, echo=F}
vari <- HRS_WB_ds_w9$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w9, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w9, echo=F}
AfterH <- table(HRS_WB_ds_w9$memory)
X<-table(HRS_WB_w9_memory$R9SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w9_memory$R9SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 10

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w10, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w10_memory','HRS.HRS-WB-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local wb w10, echo=F}
HRS_WB_w10_memory <- opal.execute(o,'HRS_WB_w10_memory')
vari <- HRS_WB_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w10}
HRS_WB_ds_w10 <- tibble(id=HRS_WB_w10_memory$id)
HRS_WB_ds_w10$memory <- car::recode(HRS_WB_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w10$memory <- labelled(HRS_WB_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w10, echo=F}
vari <- HRS_WB_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w10, echo=F}
AfterH <- table(HRS_WB_ds_w10$memory)
X<-table(HRS_WB_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 11

#### Study-specific variables description




| **Name** | `R11SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-WB-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign wb w11, echo=F}
opal.assign.table.tibble(o, 'HRS_WB_w11_memory','HRS.HRS-WB-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local wb w11, echo=F}
HRS_WB_w11_memory <- opal.execute(o,'HRS_WB_w11_memory')
vari <- HRS_WB_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_WB_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo wb w11}
HRS_WB_ds_w11 <- tibble(id=HRS_WB_w11_memory$id)
HRS_WB_ds_w11$memory <- car::recode(HRS_WB_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_WB_ds_w11$memory <- labelled(HRS_WB_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript wb w11, echo=F}
vari <- HRS_WB_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_WB_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation wb w11, echo=F}
AfterH <- table(HRS_WB_ds_w11$memory)
X<-table(HRS_WB_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_WB_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





```{r rm4, echo=FALSE}
#rm(list=setdiff(ls(), c("o", "Categorical_summary", "Continuous_summary", "HRS_HRS_ds_w1", "HRS_HRS_ds_w2", "HRS_HRS_ds_w3", "HRS_HRS_ds_w4","HRS_HRS_ds_w5", "HRS_HRS_ds_w6", "HRS_HRS_ds_w7", "HRS_HRS_ds_w8","HRS_HRS_ds_w9", "HRS_HRS_ds_w10", "HRS_HRS_ds_w11", "HRS_AHEAD_ds_w2","HRS_AHEAD_ds_w3","HRS_AHEAD_ds_w4","HRS_AHEAD_ds_w5", "HRS_AHEAD_ds_w6", "HRS_AHEAD_ds_w7", "HRS_AHEAD_ds_w8", "HRS_AHEAD_ds_w9", "HRS_AHEAD_ds_w10","HRS_AHEAD_ds_w11", "HRS_CODA_ds_w4","HRS_CODA_ds_w5", "HRS_CODA_ds_w6", "HRS_CODA_ds_w7", "HRS_CODA_ds_w8", "HRS_CODA_ds_w9", "HRS_CODA_ds_w10", "HRS_CODA_ds_w11", "HRS_WB_ds_w4","HRS_WB_ds_w5", "HRS_WB_ds_w6", "HRS_WB_ds_w7", "HRS_WB_ds_w8","HRS_WB_ds_w9","HRS_WB_ds_w10","HRS_WB_ds_w11")))

```

## The Early Baby Boomer (EBB)

### Wave 7

#### Study-specific variables description




| **Name** | `R7SLFMEM`|
|-|-|
| **Label** | `Wave 7 SELF RATED MEMORY` |
| **Table name** | `HRS-EBB-w7` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ebb w7, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w7_memory','HRS.HRS-EBB-w7', variables=list('R7SLFMEM'), missings = TRUE)
```

```{r local ebb w7, echo=F}
HRS_EBB_w7_memory <- opal.execute(o,'HRS_EBB_w7_memory')
vari <- HRS_EBB_w7_memory$R7SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R7SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w7_memory, aes(x=factor(R7SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ebb w7}
HRS_EBB_ds_w7 <- tibble(id=HRS_EBB_w7_memory$id)
HRS_EBB_ds_w7$memory <- car::recode(HRS_EBB_w7_memory$R7SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_EBB_ds_w7$memory <- labelled(HRS_EBB_ds_w7$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ebb w7, echo=F}
vari <- HRS_EBB_ds_w7$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_EBB_ds_w7, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ebb w7, echo=F}
AfterH <- table(HRS_EBB_ds_w7$memory)
X<-table(HRS_EBB_w7_memory$R7SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_EBB_w7_memory$R7SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```








### Wave 8

#### Study-specific variables description




| **Name** | `R8SLFMEM`|
|-|-|
| **Label** | `Wave8 SELF RATED MEMORY` |
| **Table name** | `HRS-EBB-w8` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ebb w8, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w8_memory','HRS.HRS-EBB-w8', variables=list('R8SLFMEM'), missings = TRUE)
```

```{r local ebb w8, echo=F}
HRS_EBB_w8_memory <- opal.execute(o,'HRS_EBB_w8_memory')
vari <- HRS_EBB_w8_memory$R8SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R8SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w8_memory, aes(x=factor(R8SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ebb w8}
HRS_EBB_ds_w8 <- tibble(id=HRS_EBB_w8_memory$id)
HRS_EBB_ds_w8$memory <- car::recode(HRS_EBB_w8_memory$R8SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_EBB_ds_w8$memory <- labelled(HRS_EBB_ds_w8$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ebb w8, echo=F}
vari <- HRS_EBB_ds_w8$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_EBB_ds_w8, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ebb w8, echo=F}
AfterH <- table(HRS_EBB_ds_w8$memory)
X<-table(HRS_EBB_w8_memory$R8SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_EBB_w8_memory$R8SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 9

#### Study-specific variables description




| **Name** | `R9SLFMEM`|
|-|-|
| **Label** | `Wave 9 SELF RATED MEMORY` |
| **Table name** | `HRS-EBB-w9` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ebb w9, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w9_memory','HRS.HRS-EBB-w9', variables=list('R9SLFMEM'), missings = TRUE)
```

```{r local ebb w9, echo=F}
HRS_EBB_w9_memory <- opal.execute(o,'HRS_EBB_w9_memory')
vari <- HRS_EBB_w9_memory$R9SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R9SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w9_memory, aes(x=factor(R9SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ebb w9}
HRS_EBB_ds_w9 <- tibble(id=HRS_EBB_w9_memory$id)
HRS_EBB_ds_w9$memory <- car::recode(HRS_EBB_w9_memory$R9SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_EBB_ds_w9$memory <- labelled(HRS_EBB_ds_w9$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ebb w9, echo=F}
vari <- HRS_EBB_ds_w9$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_EBB_ds_w9, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ebb w9, echo=F}
AfterH <- table(HRS_EBB_ds_w9$memory)
X<-table(HRS_EBB_w9_memory$R9SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_EBB_w9_memory$R9SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```







### Wave 10

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-EBB-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ebb w10, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w10_memory','HRS.HRS-EBB-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local ebb w10, echo=F}
HRS_EBB_w10_memory <- opal.execute(o,'HRS_EBB_w10_memory')
vari <- HRS_EBB_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ebb w10}
HRS_EBB_ds_w10 <- tibble(id=HRS_EBB_w10_memory$id)
HRS_EBB_ds_w10$memory <- car::recode(HRS_EBB_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_EBB_ds_w10$memory <- labelled(HRS_EBB_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ebb w10, echo=F}
vari <- HRS_EBB_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_EBB_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ebb w10, echo=F}
AfterH <- table(HRS_EBB_ds_w10$memory)
X<-table(HRS_EBB_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_EBB_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 11

#### Study-specific variables description




| **Name** | `R11SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-EBB-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign ebb w11, echo=F}
opal.assign.table.tibble(o, 'HRS_EBB_w11_memory','HRS.HRS-EBB-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local ebb w11, echo=F}
HRS_EBB_w11_memory <- opal.execute(o,'HRS_EBB_w11_memory')
vari <- HRS_EBB_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_EBB_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo ebb w11}
HRS_EBB_ds_w11 <- tibble(id=HRS_EBB_w11_memory$id)
HRS_EBB_ds_w11$memory <- car::recode(HRS_EBB_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_EBB_ds_w11$memory <- labelled(HRS_EBB_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript ebb w11, echo=F}
vari <- HRS_EBB_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_EBB_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation ebb w11, echo=F}
AfterH <- table(HRS_EBB_ds_w11$memory)
X<-table(HRS_EBB_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_EBB_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





## The Mid Baby Boomer (MBB)

### Wave 10

#### Study-specific variables description




| **Name** | `R10SLFMEM`|
|-|-|
| **Label** | `Wave 10 SELF RATED MEMORY` |
| **Table name** | `HRS-MBB-w10` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign mbb w10, echo=F}
opal.assign.table.tibble(o, 'HRS_MBB_w10_memory','HRS.HRS-MBB-w10', variables=list('R10SLFMEM'), missings = TRUE)
```

```{r local mbb w10, echo=F}
HRS_MBB_w10_memory <- opal.execute(o,'HRS_MBB_w10_memory')
vari <- HRS_MBB_w10_memory$R10SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R10SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w10_memory, aes(x=factor(R10SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo mbb w10}
HRS_MBB_ds_w10 <- tibble(id=HRS_MBB_w10_memory$id)
HRS_MBB_ds_w10$memory <- car::recode(HRS_MBB_w10_memory$R10SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_MBB_ds_w10$memory <- labelled(HRS_MBB_ds_w10$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript mbb w10, echo=F}
vari <- HRS_MBB_ds_w10$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_MBB_ds_w10, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation mbb w10, echo=F}
AfterH <- table(HRS_MBB_ds_w10$memory)
X<-table(HRS_MBB_w10_memory$R10SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_MBB_w10_memory$R10SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```






### Wave 11

#### Study-specific variables description




| **Name** | `R11SLFMEM`|
|-|-|
| **Label** | `Wave 11 SELF RATED MEMORY` |
| **Table name** | `HRS-MBB-w11` |
| **Categories** | `1 = Excellent; 2 = Very good; 3 = Good; 4 = Fair; 5 = Poor` |
| **Missings** | `NA` |
| **Description** |  |









```{r assign mbb w11, echo=F}
opal.assign.table.tibble(o, 'HRS_MBB_w11_memory','HRS.HRS-MBB-w11', variables=list('R11SLFMEM'), missings = TRUE)
```

```{r local mbb w11, echo=F}
HRS_MBB_w11_memory <- opal.execute(o,'HRS_MBB_w11_memory')
vari <- HRS_MBB_w11_memory$R11SLFMEM
kable(Categorical_summary(vari, missing_values = NA)[2], caption = "R11SLFMEM")
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
ggplot(HRS_MBB_w11_memory, aes(x=factor(R11SLFMEM))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Harmonisation algorithm

To compute the harmonize variable from the study-specific variable it has to be recoded as follows:

* `1 Excellent into 1` 
* `2 Very good into 1` 
* `3 Good into 1` 
* `4 Fair into 0` 
* `5 or, poor? into 0`  
* `NA into 999`                                          


**R script:**
```{r harmo mbb w11}
HRS_MBB_ds_w11 <- tibble(id=HRS_MBB_w11_memory$id)
HRS_MBB_ds_w11$memory <- car::recode(HRS_MBB_w11_memory$R11SLFMEM, "1 = '1';2 = '1';3 = '1';4 = '0';5 = '0';NA='999'")
HRS_MBB_ds_w11$memory <- labelled(HRS_MBB_ds_w11$memory, labels = c(Presence=0, Absence=1,Missing=999, Do_not_know=998, Refuse=997, Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994, Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))
```

#### Statistical description of the new harmonised variable
```{r descript mbb w11, echo=F}
vari <- HRS_MBB_ds_w11$memory
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3], caption = "memory")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
ggplot(HRS_MBB_ds_w11, aes(x=factor(memory))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("memory") + ylab("Frequency")
```

#### Validation
```{r crosstabulation mbb w11, echo=F}
AfterH <- table(HRS_MBB_ds_w11$memory)
X<-table(HRS_MBB_w11_memory$R11SLFMEM)
BeforeH <- c(sum(X[4:5]),sum(X[1:3]),sum(is.na(HRS_MBB_w11_memory$R11SLFMEM)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("5,4->0","3,2,1->1","NA->999") 
kable(C)
```





```{r rm5, echo=FALSE}
#rm(list=setdiff(ls(), c("o", "Categorical_summary", "Continuous_summary",                        "HRS_HRS_ds_w1","HRS_HRS_ds_w2","HRS_HRS_ds_w3","HRS_HRS_ds_w4","HRS_HRS_ds_w5", "HRS_HRS_ds_w6", "HRS_HRS_ds_w7", "HRS_HRS_ds_w8", "HRS_HRS_ds_w9", "HRS_HRS_ds_w10", "HRS_HRS_ds_w11", "HRS_AHEAD_ds_w2","HRS_AHEAD_ds_w3", "HRS_AHEAD_ds_w4", "HRS_AHEAD_ds_w5"		       ,"HRS_AHEAD_ds_w6","HRS_AHEAD_ds_w7","HRS_AHEAD_ds_w8","HRS_AHEAD_ds_w9","HRS_AHEAD_ds_w10","HRS_AHEAD_ds_w11",                        "HRS_CODA_ds_w4", "HRS_CODA_ds_w5", "HRS_CODA_ds_w6", "HRS_CODA_ds_w7", "HRS_CODA_ds_w8", "HRS_CODA_ds_w9","HRS_CODA_ds_w10"		      ,"HRS_CODA_ds_w11", "HRS_EBB_ds_w7", "HRS_EBB_ds_w8","HRS_EBB_ds_w9","HRS_EBB_ds_w10","HRS_EBB_ds_w11","HRS_MBB_ds_w10", "HRS_MBB_ds_w11")))

```


```{r importOPAL, echo=FALSE}
memory <- HRS_m_ds_hrs_w1  <- HRS_ds_hrs_w1  <- HRS_HRS_ds_w1
save(memory, file = "../RData/hrs_w1/memory.RData")

memory <- HRS_m_ds_hrs_w2  <- HRS_ds_hrs_w2  <- HRS_HRS_ds_w2
save(memory, file = "../RData/hrs_w2/memory.RData")

memory <- HRS_m_ds_hrs_w3  <- HRS_ds_hrs_w3  <- HRS_HRS_ds_w3
save(memory, file = "../RData/hrs_w3/memory.RData")

memory <- HRS_m_ds_hrs_w4  <- HRS_ds_hrs_w4  <- HRS_HRS_ds_w4
save(memory, file = "../RData/hrs_w4/memory.RData")

memory <- HRS_m_ds_hrs_w5  <- HRS_ds_hrs_w5  <- HRS_HRS_ds_w5
save(memory, file = "../RData/hrs_w5/memory.RData")

memory <- HRS_m_ds_hrs_w6  <- HRS_ds_hrs_w6  <- HRS_HRS_ds_w6
save(memory, file = "../RData/hrs_w6/memory.RData")

memory <- HRS_m_ds_hrs_w7  <- HRS_ds_hrs_w7  <- HRS_HRS_ds_w7
save(memory, file = "../RData/hrs_w7/memory.RData")

memory <- HRS_m_ds_hrs_w8  <- HRS_ds_hrs_w8  <- HRS_HRS_ds_w8
save(memory, file = "../RData/hrs_w8/memory.RData")

memory <- HRS_m_ds_hrs_w9  <- HRS_ds_hrs_w9  <- HRS_HRS_ds_w9
save(memory, file = "../RData/hrs_w9/memory.RData")

memory <- HRS_m_ds_hrs_w10 <- HRS_ds_hrs_w10 <- HRS_HRS_ds_w10
save(memory, file = "../RData/hrs_w10/memory.RData")

memory <- HRS_m_ds_hrs_w11 <- HRS_ds_hrs_w11 <- HRS_HRS_ds_w11
save(memory, file = "../RData/hrs_w11/memory.RData")


memory <- HRS_m_ds_ahead_w2  <- HRS_ds_ahead_w2  <- HRS_AHEAD_ds_w2
save(memory, file = "../RData/ahead_w2/memory.RData")

memory <- HRS_m_ds_ahead_w3  <- HRS_ds_ahead_w3  <- HRS_AHEAD_ds_w3
save(memory, file = "../RData/ahead_w3/memory.RData")

memory <- HRS_m_ds_ahead_w4  <- HRS_ds_ahead_w4  <- HRS_AHEAD_ds_w4
save(memory, file = "../RData/ahead_w4/memory.RData")

memory <- HRS_m_ds_ahead_w5  <- HRS_ds_ahead_w5  <- HRS_AHEAD_ds_w5
save(memory, file = "../RData/ahead_w5/memory.RData")

memory <- HRS_m_ds_ahead_w6  <- HRS_ds_ahead_w6  <- HRS_AHEAD_ds_w6
save(memory, file = "../RData/ahead_w6/memory.RData")

memory <- HRS_m_ds_ahead_w7  <- HRS_ds_ahead_w7  <- HRS_AHEAD_ds_w7
save(memory, file = "../RData/ahead_w7/memory.RData")

memory <- HRS_m_ds_ahead_w8  <- HRS_ds_ahead_w8  <- HRS_AHEAD_ds_w8
save(memory, file = "../RData/ahead_w8/memory.RData")

memory <- HRS_m_ds_ahead_w9  <- HRS_ds_ahead_w9  <- HRS_AHEAD_ds_w9
save(memory, file = "../RData/ahead_w9/memory.RData")

memory <- HRS_m_ds_ahead_w10 <- HRS_ds_ahead_w10 <- HRS_AHEAD_ds_w10
save(memory, file = "../RData/ahead_w10/memory.RData")

memory <- HRS_m_ds_ahead_w11 <- HRS_ds_ahead_w11 <- HRS_AHEAD_ds_w11
save(memory, file = "../RData/ahead_w11/memory.RData")


memory <- HRS_m_ds_coda_w4  <- HRS_ds_coda_w4  <- HRS_CODA_ds_w4
save(memory, file = "../RData/coda_w4/memory.RData")

memory <- HRS_m_ds_coda_w5  <- HRS_ds_coda_w5  <- HRS_CODA_ds_w5
save(memory, file = "../RData/coda_w5/memory.RData")

memory <- HRS_m_ds_coda_w6  <- HRS_ds_coda_w6  <- HRS_CODA_ds_w6
save(memory, file = "../RData/coda_w6/memory.RData")

memory <- HRS_m_ds_coda_w7  <- HRS_ds_coda_w7  <- HRS_CODA_ds_w7
save(memory, file = "../RData/coda_w7/memory.RData")

memory <- HRS_m_ds_coda_w8  <- HRS_ds_coda_w8  <- HRS_CODA_ds_w8
save(memory, file = "../RData/coda_w8/memory.RData")

memory <- HRS_m_ds_coda_w9  <- HRS_ds_coda_w9  <- HRS_CODA_ds_w9
save(memory, file = "../RData/coda_w9/memory.RData")

memory <- HRS_m_ds_coda_w10 <- HRS_ds_coda_w10 <- HRS_CODA_ds_w10
save(memory, file = "../RData/coda_w10/memory.RData")

memory <- HRS_m_ds_coda_w11 <- HRS_ds_coda_w11 <- HRS_CODA_ds_w11
save(memory, file = "../RData/coda_w11/memory.RData")


memory <- HRS_m_ds_wb_w4  <- HRS_ds_wb_w4  <- HRS_WB_ds_w4
save(memory, file = "../RData/wb_w4/memory.RData")

memory <- HRS_m_ds_wb_w5  <- HRS_ds_wb_w5  <- HRS_WB_ds_w5
save(memory, file = "../RData/wb_w5/memory.RData")

memory <- HRS_m_ds_wb_w6  <- HRS_ds_wb_w6  <- HRS_WB_ds_w6
save(memory, file = "../RData/wb_w6/memory.RData")

memory <- HRS_m_ds_wb_w7  <- HRS_ds_wb_w7  <- HRS_WB_ds_w7
save(memory, file = "../RData/wb_w7/memory.RData")

memory <- HRS_m_ds_wb_w8  <- HRS_ds_wb_w8  <- HRS_WB_ds_w8
save(memory, file = "../RData/wb_w8/memory.RData")

memory <- HRS_m_ds_wb_w9  <- HRS_ds_wb_w9  <- HRS_WB_ds_w9
save(memory, file = "../RData/wb_w9/memory.RData")

memory <- HRS_m_ds_wb_w10 <- HRS_ds_wb_w10 <- HRS_WB_ds_w10
save(memory, file = "../RData/wb_w10/memory.RData")

memory <- HRS_m_ds_wb_w11 <- HRS_ds_wb_w11 <- HRS_WB_ds_w11
save(memory, file = "../RData/wb_w11/memory.RData")


memory <- HRS_m_ds_ebb_w7  <- HRS_ds_ebb_w7  <- HRS_EBB_ds_w7
save(memory, file = "../RData/ebb_w7/memory.RData")

memory <- HRS_m_ds_ebb_w8  <- HRS_ds_ebb_w8  <- HRS_EBB_ds_w8
save(memory, file = "../RData/ebb_w8/memory.RData")

memory <- HRS_m_ds_ebb_w9  <- HRS_ds_ebb_w9  <- HRS_EBB_ds_w9
save(memory, file = "../RData/ebb_w9/memory.RData")

memory <- HRS_m_ds_ebb_w10 <- HRS_ds_ebb_w10 <- HRS_EBB_ds_w10
save(memory, file = "../RData/ebb_w10/memory.RData")

memory <- HRS_m_ds_ebb_w11 <- HRS_ds_ebb_w11 <- HRS_EBB_ds_w11
save(memory, file = "../RData/ebb_w11/memory.RData")


memory <- HRS_m_ds_mbb_w10 <- HRS_ds_mbb_w10 <- HRS_MBB_ds_w10
save(memory, file = "../RData/mbb_w10/memory.RData")

memory <- HRS_m_ds_mbb_w11 <- HRS_ds_mbb_w11 <- HRS_MBB_ds_w11
save(memory, file = "../RData/mbb_w11/memory.RData")


l.hrs <- list(HRS_ds_hrs_w1 = HRS_ds_hrs_w1 , HRS_ds_hrs_w2 = HRS_ds_hrs_w2 ,HRS_ds_hrs_w3 = HRS_ds_hrs_w3 ,HRS_ds_hrs_w4 = HRS_ds_hrs_w4 ,
HRS_ds_hrs_w5 = HRS_ds_hrs_w5 ,HRS_ds_hrs_w6 = HRS_ds_hrs_w6 ,HRS_ds_hrs_w7 = HRS_ds_hrs_w7 ,HRS_ds_hrs_w8 = HRS_ds_hrs_w8 ,
HRS_ds_hrs_w9 = HRS_ds_hrs_w9 ,HRS_ds_hrs_w10 = HRS_ds_hrs_w10 ,HRS_ds_hrs_w11 = HRS_ds_hrs_w11 ,HRS_ds_ahead_w2 = HRS_ds_ahead_w2 ,
HRS_ds_ahead_w3 = HRS_ds_ahead_w3 ,HRS_ds_ahead_w4 = HRS_ds_ahead_w4 ,HRS_ds_ahead_w5 = HRS_ds_ahead_w5 ,HRS_ds_ahead_w6 = HRS_ds_ahead_w6 ,
HRS_ds_ahead_w7 = HRS_ds_ahead_w7 ,HRS_ds_ahead_w8 = HRS_ds_ahead_w8 ,HRS_ds_ahead_w9 = HRS_ds_ahead_w9 ,HRS_ds_ahead_w10 = HRS_ds_ahead_w10 ,
HRS_ds_ahead_w11 = HRS_ds_ahead_w11 ,HRS_ds_coda_w4 = HRS_ds_coda_w4 ,HRS_ds_coda_w5 = HRS_ds_coda_w5 ,HRS_ds_coda_w6 = HRS_ds_coda_w6 ,
HRS_ds_coda_w7 = HRS_ds_coda_w7 ,HRS_ds_coda_w8 = HRS_ds_coda_w8 ,HRS_ds_coda_w9 = HRS_ds_coda_w9 ,HRS_ds_coda_w10 = HRS_ds_coda_w10 ,
HRS_ds_coda_w11 = HRS_ds_coda_w11 ,HRS_ds_wb_w4 = HRS_ds_wb_w4 ,HRS_ds_wb_w5 = HRS_ds_wb_w5 ,HRS_ds_wb_w6 = HRS_ds_wb_w6 ,
HRS_ds_wb_w7 = HRS_ds_wb_w7 ,HRS_ds_wb_w8 = HRS_ds_wb_w8 ,HRS_ds_wb_w9 = HRS_ds_wb_w9 ,HRS_ds_wb_w10 = HRS_ds_wb_w10 ,
HRS_ds_wb_w11 = HRS_ds_wb_w11 ,HRS_ds_ebb_w7 = HRS_ds_ebb_w7 ,HRS_ds_ebb_w8 = HRS_ds_ebb_w8 ,HRS_ds_ebb_w9 = HRS_ds_ebb_w9 ,
HRS_ds_ebb_w10 = HRS_ds_ebb_w10 ,HRS_ds_ebb_w11 = HRS_ds_ebb_w11 ,HRS_ds_mbb_w10 = HRS_ds_mbb_w10 ,HRS_ds_mbb_w11 = HRS_ds_mbb_w11 
)

m.hrs <- list(HRS_m_ds_hrs_w1 = HRS_m_ds_hrs_w1 , HRS_m_ds_hrs_w2 = HRS_m_ds_hrs_w2 ,HRS_m_ds_hrs_w3 = HRS_m_ds_hrs_w3 ,HRS_m_ds_hrs_w4 = HRS_m_ds_hrs_w4 ,
HRS_m_ds_hrs_w5 = HRS_m_ds_hrs_w5 ,HRS_m_ds_hrs_w6 = HRS_m_ds_hrs_w6 ,HRS_m_ds_hrs_w7 = HRS_m_ds_hrs_w7 ,HRS_m_ds_hrs_w8 = HRS_m_ds_hrs_w8 ,
HRS_m_ds_hrs_w9 = HRS_m_ds_hrs_w9 ,HRS_m_ds_hrs_w10 = HRS_m_ds_hrs_w10 ,HRS_m_ds_hrs_w11 = HRS_m_ds_hrs_w11 ,HRS_m_ds_ahead_w2 = HRS_m_ds_ahead_w2 ,
HRS_m_ds_ahead_w3 = HRS_m_ds_ahead_w3 ,HRS_m_ds_ahead_w4 = HRS_m_ds_ahead_w4 ,HRS_m_ds_ahead_w5 = HRS_m_ds_ahead_w5 ,HRS_m_ds_ahead_w6 = HRS_m_ds_ahead_w6 ,
HRS_m_ds_ahead_w7 = HRS_m_ds_ahead_w7 ,HRS_m_ds_ahead_w8 = HRS_m_ds_ahead_w8 ,HRS_m_ds_ahead_w9 = HRS_m_ds_ahead_w9 ,HRS_m_ds_ahead_w10 = HRS_m_ds_ahead_w10 ,
HRS_m_ds_ahead_w11 = HRS_m_ds_ahead_w11 ,HRS_m_ds_coda_w4 = HRS_m_ds_coda_w4 ,HRS_m_ds_coda_w5 = HRS_m_ds_coda_w5 ,HRS_m_ds_coda_w6 = HRS_m_ds_coda_w6 ,
HRS_m_ds_coda_w7 = HRS_m_ds_coda_w7 ,HRS_m_ds_coda_w8 = HRS_m_ds_coda_w8 ,HRS_m_ds_coda_w9 = HRS_m_ds_coda_w9 ,HRS_m_ds_coda_w10 = HRS_m_ds_coda_w10 ,
HRS_m_ds_coda_w11 = HRS_m_ds_coda_w11 ,HRS_m_ds_wb_w4 = HRS_m_ds_wb_w4 ,HRS_m_ds_wb_w5 = HRS_m_ds_wb_w5 ,HRS_m_ds_wb_w6 = HRS_m_ds_wb_w6 ,
HRS_m_ds_wb_w7 = HRS_m_ds_wb_w7 ,HRS_m_ds_wb_w8 = HRS_m_ds_wb_w8 ,HRS_m_ds_wb_w9 = HRS_m_ds_wb_w9 ,HRS_m_ds_wb_w10 = HRS_m_ds_wb_w10 ,
HRS_m_ds_wb_w11 = HRS_m_ds_wb_w11 ,HRS_m_ds_ebb_w7 = HRS_m_ds_ebb_w7 ,HRS_m_ds_ebb_w8 = HRS_m_ds_ebb_w8 ,HRS_m_ds_ebb_w9 = HRS_m_ds_ebb_w9 ,
HRS_m_ds_ebb_w10 = HRS_m_ds_ebb_w10 ,HRS_m_ds_ebb_w11 = HRS_m_ds_ebb_w11 ,HRS_m_ds_mbb_w10 = HRS_m_ds_mbb_w10 ,HRS_m_ds_mbb_w11 = HRS_m_ds_mbb_w11)

for(i in 1:length(l.hrs)) {
  #val_labels(l.hrs[[i]]$memory) <- NULL
  label(l.hrs[[i]][[2]]) <- label(m.hrs[[i]][[2]]) <- ds_label # Text value assigned at the DS description, at the top.
    
  m.hrs[[i]][[2]] <- car::recode(m.hrs[[i]][[2]], "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
  m.hrs[[i]][[2]] <- labelled(m.hrs[[i]][[2]], labels = c(Presence=0, Absence=1))

  nl <- names(l.hrs[i])
  #opal.assign.data(o, nl , l.hrs[[i]])
  #opal.symbol_import(o, nl , project='_Athlos_Harm_Dataset')  

  ml <- names(m.hrs[i])
  #opal.assign.data(o, ml , m.hrs[[i]])
  #opal.symbol_import(o, ml , project='_Athlos_Harm_Dataset')  
}

```

## Descriptive statistics of the harmonised variable accross populations and waves

Percentages of categories in each harmonised variable by cohort:

**R script:**

```{r summ}

f.ll <- function(ll) {  
  for (i in 1:length(ll)) {
    ll[[i]][[2]] <- labelled(ll[[i]][[2]], labels = c(Presence=0, Absence=1, Missing=999, Do_not_know=998, Refuse=997,Not_applicable=996, Does_not_answer=995,  Not_attempt_not_done=994,Disable_to_measure=993, Impute=992, CAPI_interviewer_error=991))    
  }
  return(ll)
}

l.hrs <- f.ll(l.hrs)


# Table HRS
t.hrs <- frq(l.hrs[[1]][2])[[1]][,c(1,2)] 
for (i in 1:11){
  t.hrs[2+i] <- frq(l.hrs[[i]][2])[[1]][,4] 
}
t.hrs[13,] <- c("n", "sample size", 
             length(l.hrs[[1]][[2]]), length(l.hrs[[2]][[2]]), length(l.hrs[[3]][[2]]),
             length(l.hrs[[4]][[2]]), length(l.hrs[[5]][[2]]), length(l.hrs[[6]][[2]]),     
             length(l.hrs[[7]][[2]]), length(l.hrs[[8]][[2]]), length(l.hrs[[9]][[2]]),
             length(l.hrs[[10]][[2]]), length(l.hrs[[11]][[2]]))
names(t.hrs)<-c("val", "label", "w1", "w2", "w3", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.hrs)
  

# Table AHEAD
t.ahead <- frq(l.hrs[[12]][2])[[1]][,c(1,2)] 
for (i in 1:10){
  t.ahead[2+i] <- frq(l.hrs[[i+11]][2])[[1]][,4] 
}
t.ahead[13,] <- c("n", "sample size", 
             length(l.hrs[[12]][[2]]), length(l.hrs[[13]][[2]]), length(l.hrs[[14]][[2]]),
             length(l.hrs[[15]][[2]]), length(l.hrs[[16]][[2]]), length(l.hrs[[17]][[2]]),     
             length(l.hrs[[18]][[2]]), length(l.hrs[[19]][[2]]), length(l.hrs[[20]][[2]]),
             length(l.hrs[[21]][[2]]))
names(t.ahead)<-c("val", "label", "w2", "w3", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.ahead)



# Table CODA
t.coda <- frq(l.hrs[[22]][2])[[1]][,c(1,2)] 
for (i in 1:8){
  t.coda[2+i] <- frq(l.hrs[[21+i]][2])[[1]][,4] 
}
t.coda[13,] <- c("n", "sample size", 
             length(l.hrs[[22]][[2]]), length(l.hrs[[23]][[2]]), length(l.hrs[[24]][[2]]),
             length(l.hrs[[25]][[2]]), length(l.hrs[[26]][[2]]), length(l.hrs[[27]][[2]]),     
             length(l.hrs[[28]][[2]]), length(l.hrs[[29]][[2]]))
names(t.coda)<-c("val", "label", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.coda)



# Table WB
t.wb <- frq(l.hrs[[30]][2])[[1]][,c(1,2)] 
for (i in 1:8){
  t.wb[2+i] <- frq(l.hrs[[31+i]][2])[[1]][,4] 
}
t.wb[13,] <- c("n", "sample size", 
             length(l.hrs[[30]][[2]]), length(l.hrs[[31]][[2]]), length(l.hrs[[32]][[2]]),
             length(l.hrs[[33]][[2]]), length(l.hrs[[34]][[2]]), length(l.hrs[[35]][[2]]),     
             length(l.hrs[[36]][[2]]), length(l.hrs[[37]][[2]]))
names(t.wb)<-c("val", "label", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11")
kable(t.wb)



# Table EBB
t.ebb <- frq(l.hrs[[38]][2])[[1]][,c(1,2)] 
for (i in 1:5){
  t.ebb[2+i] <- frq(l.hrs[[37+i]][2])[[1]][,4] 
}
t.ebb[13,] <- c("n", "sample size", 
             length(l.hrs[[38]][[2]]), length(l.hrs[[39]][[2]]), length(l.hrs[[40]][[2]]),
             length(l.hrs[[41]][[2]]), length(l.hrs[[42]][[2]]))
names(t.ebb)<-c("val", "label", "w7", "w8", "w9", "w10", "w11")
kable(t.ebb)




# Table MBB
t.mbb <- frq(l.hrs[[43]][2])[[1]][,c(1,2)] 
for (i in 1:2){
  t.mbb[2+i] <- frq(l.hrs[[42+i]][2])[[1]][,4] 
}
t.mbb[13,] <- c("n", "sample size", length(l.hrs[[43]][[2]]), length(l.hrs[[44]][[2]]))
names(t.mbb)<-c("val", "label", "w10", "w11")
kable(t.mbb)

```






# Quality estimation
No comments (maybe category 4=0: self reported memory: fair=difficulties 
with memory could be revised... not sure whether it shout be recodified as 1= no difficulties).



<!--- #### Close OPAL R Session -->
```{r closeRsession, echo=FALSE}
opal.logout(o)
```




