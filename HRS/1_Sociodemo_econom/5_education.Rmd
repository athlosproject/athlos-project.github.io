---
title: "Education"
output: 
  html_document:
    theme: united
    highlight: tango
    toc: true
    toc_depth: 6
    toc_float:
      collapsed: true
      smooth_scroll: true
    number_sections: true
---

<!-- ########################################################## --> 

<!-- # Installation, loading packages -->
<!-- **R script:** -->



```{r setup, include=FALSE,  echo=FALSE}
source("M:/WPs/WP1/Maelstrom/data_process/athlos-project.github.io/setup_ania.r")
```

<!-- ########################################################## --> 

# Description of DataSchema variable 

* Short name: `education`
* Variable label: `Highest level of formal education achieved`
* Domain: `Socio-demographic and economic characteristics`
* Value type: `categorical`
* Category coding:

**Code** | **Category Label**
-------- | ------------------
0        | less than primary education
1        | primary education
2        | secondary education
3        | tertiary education

* Category missings: 

**Code** | **Category Label**
----| ------------------
991 | CAPI/interviewer error
992 | Impute
993 | Disable to measure
994 | Not attempt/not done
995 | Does not answer
996 | Not applicable
997 | Refuse
998 | Do not know
999 | Missing




<!-- ########################################################## --> 

# Data process

## HRS
### Wave 1 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs1,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w1_educ','HRS.HRS-HRS-w1',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs1,  echo=FALSE}
HRS_hrs_w1_educ <- opal.execute(o,'HRS_hrs_w1_educ')
vari <- HRS_hrs_w1_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w1_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w1_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs1,   echo=TRUE}
HRS_ds_hrs_w1 <- tibble(id=HRS_hrs_w1_educ$id)
HRS_ds_hrs_w1$education <- car::recode(HRS_hrs_w1_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w1$education <- labelled(HRS_ds_hrs_w1$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs1,  echo=FALSE}
vari <- HRS_ds_hrs_w1$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w1$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w1, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs1,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w1$education)
BeforeH <- table(HRS_hrs_w1_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w1_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs1,  echo=FALSE}
val_labels(HRS_ds_hrs_w1) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w1', HRS_ds_hrs_w1)
#opal.symbol_import(o,'HRS_ds_hrs_w1', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w1
save(education, file = "../RData/hrs_w1/education.RData")
rm(education)

HRS_m_ds_hrs_w1 <- HRS_ds_hrs_w1
HRS_m_ds_hrs_w1$education <- car::recode(HRS_m_ds_hrs_w1$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w1', HRS_m_ds_hrs_w1)
#opal.symbol_import(o,'HRS_m_ds_hrs_w1', project='_Athlos_Harm_Dataset')
```




### Wave 2 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs2,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w2_educ','HRS.HRS-HRS-w2',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs2,  echo=FALSE}
HRS_hrs_w2_educ <- opal.execute(o,'HRS_hrs_w2_educ')
vari <- HRS_hrs_w2_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w2_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w2_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs2,   echo=TRUE}
HRS_ds_hrs_w2 <- tibble(id=HRS_hrs_w2_educ$id)
HRS_ds_hrs_w2$education <- car::recode(HRS_hrs_w2_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w2$education <- labelled(HRS_ds_hrs_w2$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs2,  echo=FALSE}
vari <- HRS_ds_hrs_w2$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w2$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w2, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs2,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w2$education)
BeforeH <- table(HRS_hrs_w2_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w2_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs2,  echo=FALSE}
val_labels(HRS_ds_hrs_w2) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w2', HRS_ds_hrs_w2)
#opal.symbol_import(o,'HRS_ds_hrs_w2', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w2
save(education, file = "../RData/hrs_w2/education.RData")
rm(education)

HRS_m_ds_hrs_w2 <- HRS_ds_hrs_w2
HRS_m_ds_hrs_w2$education <- car::recode(HRS_m_ds_hrs_w2$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w2', HRS_m_ds_hrs_w2)
#opal.symbol_import(o,'HRS_m_ds_hrs_w2', project='_Athlos_Harm_Dataset')
```




### Wave 3 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_hrs3,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w3_educ','HRS.HRS-HRS-w3',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs3,  echo=FALSE}
HRS_hrs_w3_educ <- opal.execute(o,'HRS_hrs_w3_educ')
vari <- HRS_hrs_w3_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w3_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w3_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```


#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs3,   echo=TRUE}
HRS_ds_hrs_w3 <- tibble(id=HRS_hrs_w3_educ$id)
HRS_ds_hrs_w3$education <- car::recode(HRS_hrs_w3_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w3$education <- labelled(HRS_ds_hrs_w3$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs3,  echo=FALSE}
vari <- HRS_ds_hrs_w3$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w3$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w3, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs3,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w3$education)
BeforeH <- table(HRS_hrs_w3_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w3_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)

```

 
 

 
```{r importOPAL_hrs3,  echo=FALSE}
val_labels(HRS_ds_hrs_w3) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w3', HRS_ds_hrs_w3)
#opal.symbol_import(o,'HRS_ds_hrs_w3', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w3
save(education, file = "../RData/hrs_w3/education.RData")
rm(education)

HRS_m_ds_hrs_w3 <- HRS_ds_hrs_w3
HRS_m_ds_hrs_w3$education <- car::recode(HRS_m_ds_hrs_w3$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w3', HRS_m_ds_hrs_w3)
#opal.symbol_import(o,'HRS_m_ds_hrs_w3', project='_Athlos_Harm_Dataset')
```





### Wave 4 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_hrs4,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w4_educ','HRS.HRS-HRS-w4',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs4,  echo=FALSE}
HRS_hrs_w4_educ <- opal.execute(o,'HRS_hrs_w4_educ')
vari <- HRS_hrs_w4_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w4_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w4_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs4,   echo=TRUE}
HRS_ds_hrs_w4 <- tibble(id=HRS_hrs_w4_educ$id)
HRS_ds_hrs_w4$education <- car::recode(HRS_hrs_w4_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w4$education <- labelled(HRS_ds_hrs_w4$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs4,  echo=FALSE}
vari <- HRS_ds_hrs_w4$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w4$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w4, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs4,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w4$education)
BeforeH <- table(HRS_hrs_w4_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w4_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs4,  echo=FALSE}
val_labels(HRS_ds_hrs_w4) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w4', HRS_ds_hrs_w4)
#opal.symbol_import(o,'HRS_ds_hrs_w4', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w4
save(education, file = "../RData/hrs_w4/education.RData")
rm(education)

HRS_m_ds_hrs_w4 <- HRS_ds_hrs_w4
HRS_m_ds_hrs_w4$education <- car::recode(HRS_m_ds_hrs_w4$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w4', HRS_m_ds_hrs_w4)
#opal.symbol_import(o,'HRS_m_ds_hrs_w4', project='_Athlos_Harm_Dataset')
```





### Wave 5

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs5,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w5_educ','HRS.HRS-HRS-w5',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs5,  echo=FALSE}
HRS_hrs_w5_educ <- opal.execute(o,'HRS_hrs_w5_educ')
vari <- HRS_hrs_w5_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w5_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w5_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs5,   echo=TRUE}
HRS_ds_hrs_w5 <- tibble(id=HRS_hrs_w5_educ$id)
HRS_ds_hrs_w5$education <- car::recode(HRS_hrs_w5_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w5$education <- labelled(HRS_ds_hrs_w5$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs5,  echo=FALSE}
vari <- HRS_ds_hrs_w5$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w5$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w5, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs5,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w5$education)
BeforeH <- table(HRS_hrs_w5_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w5_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs5,  echo=FALSE}
val_labels(HRS_ds_hrs_w5) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w5', HRS_ds_hrs_w5)
#opal.symbol_import(o,'HRS_ds_hrs_w5', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w5
save(education, file = "../RData/hrs_w5/education.RData")
rm(education)

HRS_m_ds_hrs_w5 <- HRS_ds_hrs_w5
HRS_m_ds_hrs_w5$education <- car::recode(HRS_m_ds_hrs_w5$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w5', HRS_m_ds_hrs_w5)
#opal.symbol_import(o,'HRS_m_ds_hrs_w5', project='_Athlos_Harm_Dataset')
```





### Wave 6

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs6,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w6_educ','HRS.HRS-HRS-w6',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs6,  echo=FALSE}
HRS_hrs_w6_educ <- opal.execute(o,'HRS_hrs_w6_educ')
vari <- HRS_hrs_w6_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w6_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w6_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs6,   echo=TRUE}
HRS_ds_hrs_w6 <- tibble(id=HRS_hrs_w6_educ$id)
HRS_ds_hrs_w6$education <- car::recode(HRS_hrs_w6_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w6$education <- labelled(HRS_ds_hrs_w6$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs6,  echo=FALSE}
vari <- HRS_ds_hrs_w6$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w6$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w6, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs6,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w6$education)
BeforeH <- table(HRS_hrs_w6_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w6_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs6,  echo=FALSE}
val_labels(HRS_ds_hrs_w6) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w6', HRS_ds_hrs_w6)
#opal.symbol_import(o,'HRS_ds_hrs_w6', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w6
save(education, file = "../RData/hrs_w6/education.RData")
rm(education)

HRS_m_ds_hrs_w6 <- HRS_ds_hrs_w6
HRS_m_ds_hrs_w6$education <- car::recode(HRS_m_ds_hrs_w6$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w6', HRS_m_ds_hrs_w6)
#opal.symbol_import(o,'HRS_m_ds_hrs_w6', project='_Athlos_Harm_Dataset')
```






### Wave 7

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs7,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w7_educ','HRS.HRS-HRS-w7',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs7,  echo=FALSE}
HRS_hrs_w7_educ <- opal.execute(o,'HRS_hrs_w7_educ')
vari <- HRS_hrs_w7_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w7_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w7_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs7,   echo=TRUE}
HRS_ds_hrs_w7 <- tibble(id=HRS_hrs_w7_educ$id)
HRS_ds_hrs_w7$education <- car::recode(HRS_hrs_w7_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w7$education <- labelled(HRS_ds_hrs_w7$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs7,  echo=FALSE}
vari <- HRS_ds_hrs_w7$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w7$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w7, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs7,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w7$education)
BeforeH <- table(HRS_hrs_w7_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w7_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs7,  echo=FALSE}
val_labels(HRS_ds_hrs_w7) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w7', HRS_ds_hrs_w7)
#opal.symbol_import(o,'HRS_ds_hrs_w7', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w7
save(education, file = "../RData/hrs_w7/education.RData")
rm(education)

HRS_m_ds_hrs_w7 <- HRS_ds_hrs_w7
HRS_m_ds_hrs_w7$education <- car::recode(HRS_m_ds_hrs_w7$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w7', HRS_m_ds_hrs_w7)
#opal.symbol_import(o,'HRS_m_ds_hrs_w7', project='_Athlos_Harm_Dataset')
```






### Wave 8

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_hrs8,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w8_educ','HRS.HRS-HRS-w8',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs8,  echo=FALSE}
HRS_hrs_w8_educ <- opal.execute(o,'HRS_hrs_w8_educ')
vari <- HRS_hrs_w8_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w8_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w8_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs8,   echo=TRUE}
HRS_ds_hrs_w8 <- tibble(id=HRS_hrs_w8_educ$id)
HRS_ds_hrs_w8$education <- car::recode(HRS_hrs_w8_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w8$education <- labelled(HRS_ds_hrs_w8$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs8,  echo=FALSE}
vari <- HRS_ds_hrs_w8$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w8$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w8, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs8,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w8$education)
BeforeH <- table(HRS_hrs_w8_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w8_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs8,  echo=FALSE}
val_labels(HRS_ds_hrs_w8) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w8', HRS_ds_hrs_w8)
#opal.symbol_import(o,'HRS_ds_hrs_w8', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w8
save(education, file = "../RData/hrs_w8/education.RData")
rm(education)

HRS_m_ds_hrs_w8 <- HRS_ds_hrs_w8
HRS_m_ds_hrs_w8$education <- car::recode(HRS_m_ds_hrs_w8$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w8', HRS_m_ds_hrs_w8)
#opal.symbol_import(o,'HRS_m_ds_hrs_w8', project='_Athlos_Harm_Dataset')
```







### Wave 9

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_hrs9,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w9_educ','HRS.HRS-HRS-w9',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs9,  echo=FALSE}
HRS_hrs_w9_educ <- opal.execute(o,'HRS_hrs_w9_educ')
vari <- HRS_hrs_w9_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w9_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w9_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`


**R script:**

```{r harmo_hrs9,   echo=TRUE}
HRS_ds_hrs_w9 <- tibble(id=HRS_hrs_w9_educ$id)
HRS_ds_hrs_w9$education <- car::recode(HRS_hrs_w9_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w9$education <- labelled(HRS_ds_hrs_w9$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs9,  echo=FALSE}
vari <- HRS_ds_hrs_w9$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w9$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w9, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs9,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w9$education)
BeforeH <- table(HRS_hrs_w9_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w9_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs9,  echo=FALSE}
val_labels(HRS_ds_hrs_w9) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w9', HRS_ds_hrs_w9)
#opal.symbol_import(o,'HRS_ds_hrs_w9', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w9
save(education, file = "../RData/hrs_w9/education.RData")
rm(education)

HRS_m_ds_hrs_w9 <- HRS_ds_hrs_w9
HRS_m_ds_hrs_w9$education <- car::recode(HRS_m_ds_hrs_w9$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w9', HRS_m_ds_hrs_w9)
#opal.symbol_import(o,'HRS_m_ds_hrs_w9', project='_Athlos_Harm_Dataset')
```






### Wave 10

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_hrs10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w10_educ','HRS.HRS-HRS-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs10,  echo=FALSE}
HRS_hrs_w10_educ <- opal.execute(o,'HRS_hrs_w10_educ')
vari <- HRS_hrs_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_hrs10,   echo=TRUE}
HRS_ds_hrs_w10 <- tibble(id=HRS_hrs_w10_educ$id)
HRS_ds_hrs_w10$education <- car::recode(HRS_hrs_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w10$education <- labelled(HRS_ds_hrs_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs10,  echo=FALSE}
vari <- HRS_ds_hrs_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs10,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w10$education)
BeforeH <- table(HRS_hrs_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w10_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs10,  echo=FALSE}
val_labels(HRS_ds_hrs_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w10', HRS_ds_hrs_w10)
#opal.symbol_import(o,'HRS_ds_hrs_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w10
save(education, file = "../RData/hrs_w10/education.RData")
rm(education)

HRS_m_ds_hrs_w10 <- HRS_ds_hrs_w10
HRS_m_ds_hrs_w10$education <- car::recode(HRS_m_ds_hrs_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w10', HRS_m_ds_hrs_w10)
#opal.symbol_import(o,'HRS_m_ds_hrs_w10', project='_Athlos_Harm_Dataset')
```






### Wave 11

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_hrs11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_hrs_w11_educ','HRS.HRS-HRS-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_hrs11,  echo=FALSE}
HRS_hrs_w11_educ <- opal.execute(o,'HRS_hrs_w11_educ')
vari <- HRS_hrs_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_hrs_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_hrs_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`


**R script:**

```{r harmo_hrs11,   echo=TRUE}
HRS_ds_hrs_w11 <- tibble(id=HRS_hrs_w11_educ$id)
HRS_ds_hrs_w11$education <- car::recode(HRS_hrs_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_hrs_w11$education <- labelled(HRS_ds_hrs_w11$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_hrs11,  echo=FALSE}
vari <- HRS_ds_hrs_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_hrs_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_hrs_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_hrs11,  echo=FALSE}
AfterH <- table(HRS_ds_hrs_w11$education)
BeforeH <- table(HRS_hrs_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_hrs_w11_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_hrs11,  echo=FALSE}
val_labels(HRS_ds_hrs_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_hrs_w11', HRS_ds_hrs_w11)
#opal.symbol_import(o,'HRS_ds_hrs_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_hrs_w11
save(education, file = "../RData/hrs_w11/education.RData")
rm(education)

HRS_m_ds_hrs_w11 <- HRS_ds_hrs_w11
HRS_m_ds_hrs_w11$education <- car::recode(HRS_m_ds_hrs_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_hrs_w11', HRS_m_ds_hrs_w11)
#opal.symbol_import(o,'HRS_m_ds_hrs_w11', project='_Athlos_Harm_Dataset')
```





## AHEAD
### Wave 2 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ahead2,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w2_educ','HRS.HRS-AHEAD-w2',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead2,  echo=FALSE}
HRS_ahead_w2_educ <- opal.execute(o,'HRS_ahead_w2_educ')
vari <- HRS_ahead_w2_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w2_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w2_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead2,   echo=TRUE}
HRS_ds_ahead_w2 <- tibble(id=HRS_ahead_w2_educ$id)
HRS_ds_ahead_w2$education <- car::recode(HRS_ahead_w2_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w2$education <- labelled(HRS_ds_ahead_w2$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead2,  echo=FALSE}
vari <- HRS_ds_ahead_w2$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w2$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w2, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead2,  echo=FALSE}
AfterH <- c(table(HRS_ds_ahead_w2$education),0)
BeforeH <- table(HRS_ahead_w2_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ahead_w2_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ahead2,  echo=FALSE}
val_labels(HRS_ds_ahead_w2) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w2', HRS_ds_ahead_w2)
#opal.symbol_import(o,'HRS_ds_ahead_w2', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w2
save(education, file = "../RData/ahead_w2/education.RData")
rm(education)

HRS_m_ds_ahead_w2 <- HRS_ds_ahead_w2
HRS_m_ds_ahead_w2$education <- car::recode(HRS_m_ds_ahead_w2$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w2', HRS_m_ds_ahead_w2)
#opal.symbol_import(o,'HRS_m_ds_ahead_w2', project='_Athlos_Harm_Dataset')
```




### Wave 3 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ahead3,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w3_educ','HRS.HRS-AHEAD-w3',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead3,  echo=FALSE}
HRS_ahead_w3_educ <- opal.execute(o,'HRS_ahead_w3_educ')
vari <- HRS_ahead_w3_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w3_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w3_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead3,   echo=TRUE}
HRS_ds_ahead_w3 <- tibble(id=HRS_ahead_w3_educ$id)
HRS_ds_ahead_w3$education <- car::recode(HRS_ahead_w3_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w3$education <- labelled(HRS_ds_ahead_w3$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead3,  echo=FALSE}
vari <- HRS_ds_ahead_w3$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w3$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w3, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead3,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w3$education)
BeforeH <- table(HRS_ahead_w3_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead3,  echo=FALSE}
val_labels(HRS_ds_ahead_w3) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w3', HRS_ds_ahead_w3)
#opal.symbol_import(o,'HRS_ds_ahead_w3', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w3
save(education, file = "../RData/ahead_w3/education.RData")
rm(education)

HRS_m_ds_ahead_w3 <- HRS_ds_ahead_w3
HRS_m_ds_ahead_w3$education <- car::recode(HRS_m_ds_ahead_w3$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w3', HRS_m_ds_ahead_w3)
#opal.symbol_import(o,'HRS_m_ds_ahead_w3', project='_Athlos_Harm_Dataset')
```





### Wave 4 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ahead4,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w4_educ','HRS.HRS-AHEAD-w4',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead4,  echo=FALSE}
HRS_ahead_w4_educ <- opal.execute(o,'HRS_ahead_w4_educ')
vari <- HRS_ahead_w4_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w4_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w4_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead4,   echo=TRUE}
HRS_ds_ahead_w4 <- tibble(id=HRS_ahead_w4_educ$id)
HRS_ds_ahead_w4$education <- car::recode(HRS_ahead_w4_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w4$education <- labelled(HRS_ds_ahead_w4$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead4,  echo=FALSE}
vari <- HRS_ds_ahead_w4$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w4$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w4, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead4,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w4$education)
BeforeH <- table(HRS_ahead_w4_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead4,  echo=FALSE}
val_labels(HRS_ds_ahead_w4) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w4', HRS_ds_ahead_w4)
#opal.symbol_import(o,'HRS_ds_ahead_w4', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w4
save(education, file = "../RData/ahead_w4/education.RData")
rm(education)

HRS_m_ds_ahead_w4 <- HRS_ds_ahead_w4
HRS_m_ds_ahead_w4$education <- car::recode(HRS_m_ds_ahead_w4$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w4', HRS_m_ds_ahead_w4)
#opal.symbol_import(o,'HRS_m_ds_ahead_w4', project='_Athlos_Harm_Dataset')
```






### Wave 5 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ahead5,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w5_educ','HRS.HRS-AHEAD-w5',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead5,  echo=FALSE}
HRS_ahead_w5_educ <- opal.execute(o,'HRS_ahead_w5_educ')
vari <- HRS_ahead_w5_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w5_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w5_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead5,   echo=TRUE}
HRS_ds_ahead_w5 <- tibble(id=HRS_ahead_w5_educ$id)
HRS_ds_ahead_w5$education <- car::recode(HRS_ahead_w5_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w5$education <- labelled(HRS_ds_ahead_w5$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead5,  echo=FALSE}
vari <- HRS_ds_ahead_w5$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w5$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w5, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead5,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w5$education)
BeforeH <- table(HRS_ahead_w5_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead5,  echo=FALSE}
val_labels(HRS_ds_ahead_w5) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w5', HRS_ds_ahead_w5)
#opal.symbol_import(o,'HRS_ds_ahead_w5', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w5
save(education, file = "../RData/ahead_w5/education.RData")
rm(education)

HRS_m_ds_ahead_w5 <- HRS_ds_ahead_w5
HRS_m_ds_ahead_w5$education <- car::recode(HRS_m_ds_ahead_w5$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w5', HRS_m_ds_ahead_w5)
#opal.symbol_import(o,'HRS_m_ds_ahead_w5', project='_Athlos_Harm_Dataset')
```








### Wave 6 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ahead6,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w6_educ','HRS.HRS-AHEAD-w6',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead6,  echo=FALSE}
HRS_ahead_w6_educ <- opal.execute(o,'HRS_ahead_w6_educ')
vari <- HRS_ahead_w6_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w6_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w6_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead6,   echo=TRUE}
HRS_ds_ahead_w6 <- tibble(id=HRS_ahead_w6_educ$id)
HRS_ds_ahead_w6$education <- car::recode(HRS_ahead_w6_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w6$education <- labelled(HRS_ds_ahead_w6$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead6,  echo=FALSE}
vari <- HRS_ds_ahead_w6$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w6$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w6, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead6,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w6$education)
BeforeH <- table(HRS_ahead_w6_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead6,  echo=FALSE}
val_labels(HRS_ds_ahead_w6) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w6', HRS_ds_ahead_w6)
#opal.symbol_import(o,'HRS_ds_ahead_w6', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w6
save(education, file = "../RData/ahead_w6/education.RData")
rm(education)

HRS_m_ds_ahead_w6 <- HRS_ds_ahead_w6
HRS_m_ds_ahead_w6$education <- car::recode(HRS_m_ds_ahead_w6$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w6', HRS_m_ds_ahead_w6)
#opal.symbol_import(o,'HRS_m_ds_ahead_w6', project='_Athlos_Harm_Dataset')
```






### Wave 7 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ahead7,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w7_educ','HRS.HRS-AHEAD-w7',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead7,  echo=FALSE}
HRS_ahead_w7_educ <- opal.execute(o,'HRS_ahead_w7_educ')
vari <- HRS_ahead_w7_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w7_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w7_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead7,   echo=TRUE}
HRS_ds_ahead_w7 <- tibble(id=HRS_ahead_w7_educ$id)
HRS_ds_ahead_w7$education <- car::recode(HRS_ahead_w7_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w7$education <- labelled(HRS_ds_ahead_w7$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead7,  echo=FALSE}
vari <- HRS_ds_ahead_w7$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w7$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w7, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead7,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w7$education)
BeforeH <- table(HRS_ahead_w7_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead7,  echo=FALSE}
val_labels(HRS_ds_ahead_w7) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w7', HRS_ds_ahead_w7)
#opal.symbol_import(o,'HRS_ds_ahead_w7', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w7
save(education, file = "../RData/ahead_w7/education.RData")
rm(education)

HRS_m_ds_ahead_w7 <- HRS_ds_ahead_w7
HRS_m_ds_ahead_w7$education <- car::recode(HRS_m_ds_ahead_w7$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w7', HRS_m_ds_ahead_w7)
#opal.symbol_import(o,'HRS_m_ds_ahead_w7', project='_Athlos_Harm_Dataset')
```







#### Wave 8 

##### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ahead8,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w8_educ','HRS.HRS-AHEAD-w8',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead8,  echo=FALSE}
HRS_ahead_w8_educ <- opal.execute(o,'HRS_ahead_w8_educ')
vari <- HRS_ahead_w8_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w8_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w8_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead8,   echo=TRUE}
HRS_ds_ahead_w8 <- tibble(id=HRS_ahead_w8_educ$id)
HRS_ds_ahead_w8$education <- car::recode(HRS_ahead_w8_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w8$education <- labelled(HRS_ds_ahead_w8$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead8,  echo=FALSE}
vari <- HRS_ds_ahead_w8$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w8$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w8, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead8,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w8$education)
BeforeH <- table(HRS_ahead_w8_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead8,  echo=FALSE}
val_labels(HRS_ds_ahead_w8) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w8', HRS_ds_ahead_w8)
#opal.symbol_import(o,'HRS_ds_ahead_w8', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w8
save(education, file = "../RData/ahead_w8/education.RData")
rm(education)

HRS_m_ds_ahead_w8 <- HRS_ds_ahead_w8
HRS_m_ds_ahead_w8$education <- car::recode(HRS_m_ds_ahead_w8$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w8', HRS_m_ds_ahead_w8)
#opal.symbol_import(o,'HRS_m_ds_ahead_w8', project='_Athlos_Harm_Dataset')
```







### Wave 9 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ahead9,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w9_educ','HRS.HRS-AHEAD-w9',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead9,  echo=FALSE}
HRS_ahead_w9_educ <- opal.execute(o,'HRS_ahead_w9_educ')
vari <- HRS_ahead_w9_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w9_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w9_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead9,   echo=TRUE}
HRS_ds_ahead_w9 <- tibble(id=HRS_ahead_w9_educ$id)
HRS_ds_ahead_w9$education <- car::recode(HRS_ahead_w9_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w9$education <- labelled(HRS_ds_ahead_w9$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead9,  echo=FALSE}
vari <- HRS_ds_ahead_w9$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w9$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w9, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead9,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w9$education)
BeforeH <- table(HRS_ahead_w9_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead9,  echo=FALSE}
val_labels(HRS_ds_ahead_w9) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w9', HRS_ds_ahead_w9)
#opal.symbol_import(o,'HRS_ds_ahead_w9', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w9
save(education, file = "../RData/ahead_w9/education.RData")
rm(education)

HRS_m_ds_ahead_w9 <- HRS_ds_ahead_w9
HRS_m_ds_ahead_w9$education <- car::recode(HRS_m_ds_ahead_w9$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w9', HRS_m_ds_ahead_w9)
#opal.symbol_import(o,'HRS_m_ds_ahead_w9', project='_Athlos_Harm_Dataset')
```






### Wave 10 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ahead10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w10_educ','HRS.HRS-AHEAD-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead10,  echo=FALSE}
HRS_ahead_w10_educ <- opal.execute(o,'HRS_ahead_w10_educ')
vari <- HRS_ahead_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ahead10,   echo=TRUE}
HRS_ds_ahead_w10 <- tibble(id=HRS_ahead_w10_educ$id)
HRS_ds_ahead_w10$education <- car::recode(HRS_ahead_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w10$education <- labelled(HRS_ds_ahead_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead10,  echo=FALSE}
vari <- HRS_ds_ahead_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead10,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w10$education)
BeforeH <- table(HRS_ahead_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead10,  echo=FALSE}
val_labels(HRS_ds_ahead_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w10', HRS_ds_ahead_w10)
#opal.symbol_import(o,'HRS_ds_ahead_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w10
save(education, file = "../RData/ahead_w10/education.RData")
rm(education)

HRS_m_ds_ahead_w10 <- HRS_ds_ahead_w10
HRS_m_ds_ahead_w10$education <- car::recode(HRS_m_ds_ahead_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w10', HRS_m_ds_ahead_w10)
#opal.symbol_import(o,'HRS_m_ds_ahead_w10', project='_Athlos_Harm_Dataset')
```






### Wave 11 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ahead11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ahead_w11_educ','HRS.HRS-AHEAD-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ahead11,  echo=FALSE}
HRS_ahead_w11_educ <- opal.execute(o,'HRS_ahead_w11_educ')
vari <- HRS_ahead_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ahead_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ahead_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`


**R script:**

```{r harmo_ahead11,   echo=TRUE}
HRS_ds_ahead_w11 <- tibble(id=HRS_ahead_w11_educ$id)
HRS_ds_ahead_w11$education <- car::recode(HRS_ahead_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ahead_w11$education <- labelled(HRS_ds_ahead_w11$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ahead11,  echo=FALSE}
vari <- HRS_ds_ahead_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ahead_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ahead_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ahead11,  echo=FALSE}
AfterH <- table(HRS_ds_ahead_w11$education)
BeforeH <- table(HRS_ahead_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_ahead11,  echo=FALSE}
val_labels(HRS_ds_ahead_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_ahead_w11', HRS_ds_ahead_w11)
#opal.symbol_import(o,'HRS_ds_ahead_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ahead_w11
save(education, file = "../RData/ahead_w11/education.RData")
rm(education)

HRS_m_ds_ahead_w11 <- HRS_ds_ahead_w11
HRS_m_ds_ahead_w11$education <- car::recode(HRS_m_ds_ahead_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ahead_w11', HRS_m_ds_ahead_w11)
#opal.symbol_import(o,'HRS_m_ds_ahead_w11', project='_Athlos_Harm_Dataset')
```





## CODA
### Wave 4 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_coda4,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w4_educ','HRS.HRS-CODA-w4',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda4,  echo=FALSE}
HRS_coda_w4_educ <- opal.execute(o,'HRS_coda_w4_educ')
vari <- HRS_coda_w4_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w4_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w4_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda4,   echo=TRUE}
HRS_ds_coda_w4 <- tibble(id=HRS_coda_w4_educ$id)
HRS_ds_coda_w4$education <- car::recode(HRS_coda_w4_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w4$education <- labelled(HRS_ds_coda_w4$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda4,  echo=FALSE}
vari <- HRS_ds_coda_w4$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w4$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w4, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda4,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w4$education)
BeforeH <- table(HRS_coda_w4_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda4,  echo=FALSE}
val_labels(HRS_ds_coda_w4) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w4', HRS_ds_coda_w4)
#opal.symbol_import(o,'HRS_ds_coda_w4', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w4
save(education, file = "../RData/coda_w4/education.RData")
rm(education)

HRS_m_ds_coda_w4 <- HRS_ds_coda_w4
HRS_m_ds_coda_w4$education <- car::recode(HRS_m_ds_coda_w4$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w4', HRS_m_ds_coda_w4)
#opal.symbol_import(o,'HRS_m_ds_coda_w4', project='_Athlos_Harm_Dataset')
```







### Wave 5 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_coda5,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w5_educ','HRS.HRS-CODA-w5',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda5,  echo=FALSE}
HRS_coda_w5_educ <- opal.execute(o,'HRS_coda_w5_educ')
vari <- HRS_coda_w5_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w5_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w5_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda5,   echo=TRUE}
HRS_ds_coda_w5 <- tibble(id=HRS_coda_w5_educ$id)
HRS_ds_coda_w5$education <- car::recode(HRS_coda_w5_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w5$education <- labelled(HRS_ds_coda_w5$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda5,  echo=FALSE}
vari <- HRS_ds_coda_w5$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w5$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w5, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda5,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w5$education)
BeforeH <- table(HRS_coda_w5_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda5,  echo=FALSE}
val_labels(HRS_ds_coda_w5) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w5', HRS_ds_coda_w5)
#opal.symbol_import(o,'HRS_ds_coda_w5', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w5
save(education, file = "../RData/coda_w5/education.RData")
rm(education)

HRS_m_ds_coda_w5 <- HRS_ds_coda_w5
HRS_m_ds_coda_w5$education <- car::recode(HRS_m_ds_coda_w5$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w5', HRS_m_ds_coda_w5)
#opal.symbol_import(o,'HRS_m_ds_coda_w5', project='_Athlos_Harm_Dataset')
```







### Wave 6 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_coda6,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w6_educ','HRS.HRS-CODA-w6',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda6,  echo=FALSE}
HRS_coda_w6_educ <- opal.execute(o,'HRS_coda_w6_educ')
vari <- HRS_coda_w6_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w6_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w6_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda6,   echo=TRUE}
HRS_ds_coda_w6 <- tibble(id=HRS_coda_w6_educ$id)
HRS_ds_coda_w6$education <- car::recode(HRS_coda_w6_educ$RAEDUC, "1=2; 3=2; 4=3;5=3; NA=999")
HRS_ds_coda_w6$education <- labelled(HRS_ds_coda_w6$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda6,  echo=FALSE}
vari <- HRS_ds_coda_w6$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w6$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w6, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda6,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w6$education)
BeforeH <- table(HRS_coda_w6_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda6,  echo=FALSE}
val_labels(HRS_ds_coda_w6) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w6', HRS_ds_coda_w6)
#opal.symbol_import(o,'HRS_ds_coda_w6', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w6
save(education, file = "../RData/coda_w6/education.RData")
rm(education)

HRS_m_ds_coda_w6 <- HRS_ds_coda_w6
HRS_m_ds_coda_w6$education <- car::recode(HRS_m_ds_coda_w6$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w6', HRS_m_ds_coda_w6)
#opal.symbol_import(o,'HRS_m_ds_coda_w6', project='_Athlos_Harm_Dataset')
```







### Wave 7 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_coda7,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w7_educ','HRS.HRS-CODA-w7',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda7,  echo=FALSE}
HRS_coda_w7_educ <- opal.execute(o,'HRS_coda_w7_educ')
vari <- HRS_coda_w7_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w7_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w7_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda7,   echo=TRUE}
HRS_ds_coda_w7 <- tibble(id=HRS_coda_w7_educ$id)
HRS_ds_coda_w7$education <- car::recode(HRS_coda_w7_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w7$education <- labelled(HRS_ds_coda_w7$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda7,  echo=FALSE}
vari <- HRS_ds_coda_w7$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w7$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w7, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda7,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w7$education)
BeforeH <- table(HRS_coda_w7_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda7,  echo=FALSE}
val_labels(HRS_ds_coda_w7) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w7', HRS_ds_coda_w7)
#opal.symbol_import(o,'HRS_ds_coda_w7', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w7
save(education, file = "../RData/coda_w7/education.RData")
rm(education)

HRS_m_ds_coda_w7 <- HRS_ds_coda_w7
HRS_m_ds_coda_w7$education <- car::recode(HRS_m_ds_coda_w7$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w7', HRS_m_ds_coda_w7)
#opal.symbol_import(o,'HRS_m_ds_coda_w7', project='_Athlos_Harm_Dataset')
```






### Wave 8 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_coda8,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w8_educ','HRS.HRS-CODA-w8',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda8,  echo=FALSE}
HRS_coda_w8_educ <- opal.execute(o,'HRS_coda_w8_educ')
vari <- HRS_coda_w8_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w8_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w8_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda8,   echo=TRUE}
HRS_ds_coda_w8 <- tibble(id=HRS_coda_w8_educ$id)
HRS_ds_coda_w8$education <- car::recode(HRS_coda_w8_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w8$education <- labelled(HRS_ds_coda_w8$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda8,  echo=FALSE}
vari <- HRS_ds_coda_w8$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w8$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w8, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda8,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w8$education)
BeforeH <- table(HRS_coda_w8_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda8,  echo=FALSE}
val_labels(HRS_ds_coda_w8) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w8', HRS_ds_coda_w8)
#opal.symbol_import(o,'HRS_ds_coda_w8', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w8
save(education, file = "../RData/coda_w8/education.RData")
rm(education)

HRS_m_ds_coda_w8 <- HRS_ds_coda_w8
HRS_m_ds_coda_w8$education <- car::recode(HRS_m_ds_coda_w8$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w8', HRS_m_ds_coda_w8)
#opal.symbol_import(o,'HRS_m_ds_coda_w8', project='_Athlos_Harm_Dataset')
```





### Wave 9 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_coda9,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w9_educ','HRS.HRS-CODA-w9',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda9,  echo=FALSE}
HRS_coda_w9_educ <- opal.execute(o,'HRS_coda_w9_educ')
vari <- HRS_coda_w9_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w9_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w9_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda9,   echo=TRUE}
HRS_ds_coda_w9 <- tibble(id=HRS_coda_w9_educ$id)
HRS_ds_coda_w9$education <- car::recode(HRS_coda_w9_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w9$education <- labelled(HRS_ds_coda_w9$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda9,  echo=FALSE}
vari <- HRS_ds_coda_w9$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w9$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w9, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda9,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w9$education)
BeforeH <- table(HRS_coda_w9_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```



 
```{r importOPAL_coda9,  echo=FALSE}
val_labels(HRS_ds_coda_w9) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w9', HRS_ds_coda_w9)
#opal.symbol_import(o,'HRS_ds_coda_w9', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w9
save(education, file = "../RData/coda_w9/education.RData")
rm(education)

HRS_m_ds_coda_w9 <- HRS_ds_coda_w9
HRS_m_ds_coda_w9$education <- car::recode(HRS_m_ds_coda_w9$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w9', HRS_m_ds_coda_w9)
#opal.symbol_import(o,'HRS_m_ds_coda_w9', project='_Athlos_Harm_Dataset')
```






### Wave 10 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_coda10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w10_educ','HRS.HRS-CODA-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda10,  echo=FALSE}
HRS_coda_w10_educ <- opal.execute(o,'HRS_coda_w10_educ')
vari <- HRS_coda_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda10,   echo=TRUE}
HRS_ds_coda_w10 <- tibble(id=HRS_coda_w10_educ$id)
HRS_ds_coda_w10$education <- car::recode(HRS_coda_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w10$education <- labelled(HRS_ds_coda_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda10,  echo=FALSE}
vari <- HRS_ds_coda_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda10,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w10$education)
BeforeH <- table(HRS_coda_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda10,  echo=FALSE}
val_labels(HRS_ds_coda_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w10', HRS_ds_coda_w10)
#opal.symbol_import(o,'HRS_ds_coda_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w10
save(education, file = "../RData/coda_w10/education.RData")
rm(education)

HRS_m_ds_coda_w10 <- HRS_ds_coda_w10
HRS_m_ds_coda_w10$education <- car::recode(HRS_m_ds_coda_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w10', HRS_m_ds_coda_w10)
#opal.symbol_import(o,'HRS_m_ds_coda_w10', project='_Athlos_Harm_Dataset')
```






### Wave 11 

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_coda11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_coda_w11_educ','HRS.HRS-CODA-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_coda11,  echo=FALSE}
HRS_coda_w11_educ <- opal.execute(o,'HRS_coda_w11_educ')
vari <- HRS_coda_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_coda_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_coda_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_coda11,   echo=TRUE}
HRS_ds_coda_w11 <- tibble(id=HRS_coda_w11_educ$id)
HRS_ds_coda_w11$education <- car::recode(HRS_coda_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_coda_w11$education <- labelled(HRS_ds_coda_w11$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_coda11,  echo=FALSE}
vari <- HRS_ds_coda_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_coda_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_coda_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_coda11,  echo=FALSE}
AfterH <- table(HRS_ds_coda_w11$education)
BeforeH <- table(HRS_coda_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_coda11,  echo=FALSE}
val_labels(HRS_ds_coda_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_coda_w11', HRS_ds_coda_w11)
#opal.symbol_import(o,'HRS_ds_coda_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_coda_w11
save(education, file = "../RData/coda_w11/education.RData")
rm(education)

HRS_m_ds_coda_w11 <- HRS_ds_coda_w11
HRS_m_ds_coda_w11$education <- car::recode(HRS_m_ds_coda_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_coda_w11', HRS_m_ds_coda_w11)
#opal.symbol_import(o,'HRS_m_ds_coda_w11', project='_Athlos_Harm_Dataset')
```






## WB
### Wave 4  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_wb4,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w4_educ','HRS.HRS-WB-w4',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb4,  echo=FALSE}
HRS_wb_w4_educ <- opal.execute(o,'HRS_wb_w4_educ')
vari <- HRS_wb_w4_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w4_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w4_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`


**R script:**

```{r harmo_wb4,   echo=TRUE}
HRS_ds_wb_w4 <- tibble(id=HRS_wb_w4_educ$id)
HRS_ds_wb_w4$education <- car::recode(HRS_wb_w4_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w4$education <- labelled(HRS_ds_wb_w4$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb4,  echo=FALSE}
vari <- HRS_ds_wb_w4$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w4$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w4, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb4,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w4$education)
BeforeH <- table(HRS_wb_w4_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w4_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb4,  echo=FALSE}
val_labels(HRS_ds_wb_w4) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w4', HRS_ds_wb_w4)
#opal.symbol_import(o,'HRS_ds_wb_w4', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w4
save(education, file = "../RData/wb_w4/education.RData")
rm(education)

HRS_m_ds_wb_w4 <- HRS_ds_wb_w4
HRS_m_ds_wb_w4$education <- car::recode(HRS_m_ds_wb_w4$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w4', HRS_m_ds_wb_w4)
#opal.symbol_import(o,'HRS_m_ds_wb_w4', project='_Athlos_Harm_Dataset')
```








### Wave 5  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb5,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w5_educ','HRS.HRS-WB-w5',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb5,  echo=FALSE}
HRS_wb_w5_educ <- opal.execute(o,'HRS_wb_w5_educ')
vari <- HRS_wb_w5_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w5_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w5_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb5,   echo=TRUE}
HRS_ds_wb_w5 <- tibble(id=HRS_wb_w5_educ$id)
HRS_ds_wb_w5$education <- car::recode(HRS_wb_w5_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w5$education <- labelled(HRS_ds_wb_w5$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript_wb5,  echo=FALSE}
vari <- HRS_ds_wb_w5$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w5$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w5, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb5,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w5$education)
BeforeH <- table(HRS_wb_w5_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w5_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```


 

 
```{r importOPAL_wb5,  echo=FALSE}
val_labels(HRS_ds_wb_w5) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w5', HRS_ds_wb_w5)
#opal.symbol_import(o,'HRS_ds_wb_w5', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w5
save(education, file = "../RData/wb_w5/education.RData")
rm(education)

HRS_m_ds_wb_w5 <- HRS_ds_wb_w5
HRS_m_ds_wb_w5$education <- car::recode(HRS_m_ds_wb_w5$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w5', HRS_m_ds_wb_w5)
#opal.symbol_import(o,'HRS_m_ds_wb_w5', project='_Athlos_Harm_Dataset')
```







### Wave 6  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_wb6,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w6_educ','HRS.HRS-WB-w6',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb6,  echo=FALSE}
HRS_wb_w6_educ <- opal.execute(o,'HRS_wb_w6_educ')
vari <- HRS_wb_w6_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w6_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w6_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb6,   echo=TRUE}
HRS_ds_wb_w6 <- tibble(id=HRS_wb_w6_educ$id)
HRS_ds_wb_w6$education <- car::recode(HRS_wb_w6_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w6$education <- labelled(HRS_ds_wb_w6$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb6,  echo=FALSE}
vari <- HRS_ds_wb_w6$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w6$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w6, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb6,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w6$education)
BeforeH <- table(HRS_wb_w6_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w6_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb6,  echo=FALSE}
val_labels(HRS_ds_wb_w6) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w6', HRS_ds_wb_w6)
#opal.symbol_import(o,'HRS_ds_wb_w6', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w6
save(education, file = "../RData/wb_w6/education.RData")
rm(education)

HRS_m_ds_wb_w6 <- HRS_ds_wb_w6
HRS_m_ds_wb_w6$education <- car::recode(HRS_m_ds_wb_w6$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w6', HRS_m_ds_wb_w6)
#opal.symbol_import(o,'HRS_m_ds_wb_w6', project='_Athlos_Harm_Dataset')
```






### Wave 7  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb7,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w7_educ','HRS.HRS-WB-w7',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb7,  echo=FALSE}
HRS_wb_w7_educ <- opal.execute(o,'HRS_wb_w7_educ')
vari <- HRS_wb_w7_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w7_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w7_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb7,   echo=TRUE}
HRS_ds_wb_w7 <- tibble(id=HRS_wb_w7_educ$id)
HRS_ds_wb_w7$education <- car::recode(HRS_wb_w7_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w7$education <- labelled(HRS_ds_wb_w7$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb7,  echo=FALSE}
vari <- HRS_ds_wb_w7$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w7$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w7, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb7,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w7$education)
BeforeH <- table(HRS_wb_w7_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w7_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb7,  echo=FALSE}
val_labels(HRS_ds_wb_w7) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w7', HRS_ds_wb_w7)
#opal.symbol_import(o,'HRS_ds_wb_w7', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w7
save(education, file = "../RData/wb_w7/education.RData")
rm(education)

HRS_m_ds_wb_w7 <- HRS_ds_wb_w7
HRS_m_ds_wb_w7$education <- car::recode(HRS_m_ds_wb_w7$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w7', HRS_m_ds_wb_w7)
#opal.symbol_import(o,'HRS_m_ds_wb_w7', project='_Athlos_Harm_Dataset')
```






### Wave 8  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb8,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w8_educ','HRS.HRS-WB-w8',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb8,  echo=FALSE}
HRS_wb_w8_educ <- opal.execute(o,'HRS_wb_w8_educ')
vari <- HRS_wb_w8_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w8_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w8_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb8,   echo=TRUE}
HRS_ds_wb_w8 <- tibble(id=HRS_wb_w8_educ$id)
HRS_ds_wb_w8$education <- car::recode(HRS_wb_w8_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w8$education <- labelled(HRS_ds_wb_w8$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```

#### Statistical description of the new harmonised variable
```{r descript_wb8,  echo=FALSE}
vari <- HRS_ds_wb_w8$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w8$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w8, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb8,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w8$education)
BeforeH <- table(HRS_wb_w8_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w8_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb8,  echo=FALSE}
val_labels(HRS_ds_wb_w8) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w8', HRS_ds_wb_w8)
#opal.symbol_import(o,'HRS_ds_wb_w8', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w8
save(education, file = "../RData/wb_w8/education.RData")
rm(education)

HRS_m_ds_wb_w8 <- HRS_ds_wb_w8
HRS_m_ds_wb_w8$education <- car::recode(HRS_m_ds_wb_w8$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w8', HRS_m_ds_wb_w8)
#opal.symbol_import(o,'HRS_m_ds_wb_w8', project='_Athlos_Harm_Dataset')
```







### Wave 9  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb9,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w9_educ','HRS.HRS-WB-w9',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb9,  echo=FALSE}
HRS_wb_w9_educ <- opal.execute(o,'HRS_wb_w9_educ')
vari <- HRS_wb_w9_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w9_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w9_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`


**R script:**

```{r harmo_wb9,   echo=TRUE}
HRS_ds_wb_w9 <- tibble(id=HRS_wb_w9_educ$id)
HRS_ds_wb_w9$education <- car::recode(HRS_wb_w9_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w9$education <- labelled(HRS_ds_wb_w9$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb9,  echo=FALSE}
vari <- HRS_ds_wb_w9$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w9$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w9, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb9,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w9$education)
BeforeH <- table(HRS_wb_w9_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w9_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb9,  echo=FALSE}
val_labels(HRS_ds_wb_w9) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w9', HRS_ds_wb_w9)
#opal.symbol_import(o,'HRS_ds_wb_w9', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w9
save(education, file = "../RData/wb_w9/education.RData")
rm(education)

HRS_m_ds_wb_w9 <- HRS_ds_wb_w9
HRS_m_ds_wb_w9$education <- car::recode(HRS_m_ds_wb_w9$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w9', HRS_m_ds_wb_w9)
#opal.symbol_import(o,'HRS_m_ds_wb_w9', project='_Athlos_Harm_Dataset')
```






### Wave 10  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w10_educ','HRS.HRS-WB-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb10,  echo=FALSE}
HRS_wb_w10_educ <- opal.execute(o,'HRS_wb_w10_educ')
vari <- HRS_wb_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb10,   echo=TRUE}
HRS_ds_wb_w10 <- tibble(id=HRS_wb_w10_educ$id)
HRS_ds_wb_w10$education <- car::recode(HRS_wb_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w10$education <- labelled(HRS_ds_wb_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb10,  echo=FALSE}
vari <- HRS_ds_wb_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb10,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w10$education)
BeforeH <- table(HRS_wb_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w10_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb10,  echo=FALSE}
val_labels(HRS_ds_wb_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w10', HRS_ds_wb_w10)
#opal.symbol_import(o,'HRS_ds_wb_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w10
save(education, file = "../RData/wb_w10/education.RData")
rm(education)

HRS_m_ds_wb_w10 <- HRS_ds_wb_w10
HRS_m_ds_wb_w10$education <- car::recode(HRS_m_ds_wb_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w10', HRS_m_ds_wb_w10)
#opal.symbol_import(o,'HRS_m_ds_wb_w10', project='_Athlos_Harm_Dataset')
```






### Wave 11  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_wb11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_wb_w11_educ','HRS.HRS-WB-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_wb11,  echo=FALSE}
HRS_wb_w11_educ <- opal.execute(o,'HRS_wb_w11_educ')
vari <- HRS_wb_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_wb_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_wb_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_wb11,   echo=TRUE}
HRS_ds_wb_w11 <- tibble(id=HRS_wb_w11_educ$id)
HRS_ds_wb_w11$education <- car::recode(HRS_wb_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_wb_w11$education <- labelled(HRS_ds_wb_w11$education, labels =c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_wb11,  echo=FALSE}
vari <- HRS_ds_wb_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_wb_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_wb_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_wb11,  echo=FALSE}
AfterH <- table(HRS_ds_wb_w11$education)
BeforeH <- table(HRS_wb_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_wb_w11_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_wb11,  echo=FALSE}
val_labels(HRS_ds_wb_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_wb_w11', HRS_ds_wb_w11)
#opal.symbol_import(o,'HRS_ds_wb_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_wb_w11
save(education, file = "../RData/wb_w11/education.RData")
rm(education)

HRS_m_ds_wb_w11 <- HRS_ds_wb_w11
HRS_m_ds_wb_w11$education <- car::recode(HRS_m_ds_wb_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_wb_w11', HRS_m_ds_wb_w11)
#opal.symbol_import(o,'HRS_m_ds_wb_w11', project='_Athlos_Harm_Dataset')
```






## EBB
### Wave 7  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ebb7,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ebb_w7_educ','HRS.HRS-EBB-w7',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ebb7,  echo=FALSE}
HRS_ebb_w7_educ <- opal.execute(o,'HRS_ebb_w7_educ')
vari <- HRS_ebb_w7_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ebb_w7_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ebb_w7_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ebb7,   echo=TRUE}
HRS_ds_ebb_w7 <- tibble(id=HRS_ebb_w7_educ$id)
HRS_ds_ebb_w7$education <- car::recode(HRS_ebb_w7_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ebb_w7$education <- labelled(HRS_ds_ebb_w7$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ebb7,  echo=FALSE}
vari <- HRS_ds_ebb_w7$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w7$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w7, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ebb7,  echo=FALSE}
AfterH <- table(HRS_ds_ebb_w7$education)
BeforeH <- table(HRS_ebb_w7_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ebb_w7_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ebb7,  echo=FALSE}
val_labels(HRS_ds_ebb_w7) <- NULL
#opal.assign.data(o, 'HRS_ds_ebb_w7', HRS_ds_ebb_w7)
#opal.symbol_import(o,'HRS_ds_ebb_w7', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ebb_w7
save(education, file = "../RData/ebb_w7/education.RData")
rm(education)

HRS_m_ds_ebb_w7 <- HRS_ds_ebb_w7
HRS_m_ds_ebb_w7$education <- car::recode(HRS_m_ds_ebb_w7$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ebb_w7', HRS_m_ds_ebb_w7)
#opal.symbol_import(o,'HRS_m_ds_ebb_w7', project='_Athlos_Harm_Dataset')
```






### Wave 8  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ebb8,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ebb_w8_educ','HRS.HRS-EBB-w8',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ebb8,  echo=FALSE}
HRS_ebb_w8_educ <- opal.execute(o,'HRS_ebb_w8_educ')
vari <- HRS_ebb_w8_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ebb_w8_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ebb_w8_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ebb8,   echo=TRUE}
HRS_ds_ebb_w8 <- tibble(id=HRS_ebb_w8_educ$id)
HRS_ds_ebb_w8$education <- car::recode(HRS_ebb_w8_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ebb_w8$education <- labelled(HRS_ds_ebb_w8$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ebb8,  echo=FALSE}
vari <- HRS_ds_ebb_w8$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w8$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w8, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ebb8,  echo=FALSE}
AfterH <- table(HRS_ds_ebb_w8$education)
BeforeH <- table(HRS_ebb_w8_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ebb_w8_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ebb8,  echo=FALSE}
val_labels(HRS_ds_ebb_w8) <- NULL
#opal.assign.data(o, 'HRS_ds_ebb_w8', HRS_ds_ebb_w8)
#opal.symbol_import(o,'HRS_ds_ebb_w8', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ebb_w8
save(education, file = "../RData/ebb_w8/education.RData")
rm(education)

HRS_m_ds_ebb_w8 <- HRS_ds_ebb_w8
HRS_m_ds_ebb_w8$education <- car::recode(HRS_m_ds_ebb_w8$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ebb_w8', HRS_m_ds_ebb_w8)
#opal.symbol_import(o,'HRS_m_ds_ebb_w8', project='_Athlos_Harm_Dataset')
```






### Wave 9  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ebb9,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ebb_w9_educ','HRS.HRS-EBB-w9',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ebb9,  echo=FALSE}
HRS_ebb_w9_educ <- opal.execute(o,'HRS_ebb_w9_educ')
vari <- HRS_ebb_w9_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ebb_w9_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ebb_w9_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ebb9,   echo=TRUE}
HRS_ds_ebb_w9 <- tibble(id=HRS_ebb_w9_educ$id)
HRS_ds_ebb_w9$education <- car::recode(HRS_ebb_w9_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ebb_w9$education <- labelled(HRS_ds_ebb_w9$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ebb9,  echo=FALSE}
vari <- HRS_ds_ebb_w9$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w9$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w9, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ebb9,  echo=FALSE}
AfterH <- table(HRS_ds_ebb_w9$education)
BeforeH <- table(HRS_ebb_w9_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ebb_w9_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ebb9,  echo=FALSE}
val_labels(HRS_ds_ebb_w9) <- NULL
#opal.assign.data(o, 'HRS_ds_ebb_w9', HRS_ds_ebb_w9)
#opal.symbol_import(o,'HRS_ds_ebb_w9', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ebb_w9
save(education, file = "../RData/ebb_w9/education.RData")
rm(education)

HRS_m_ds_ebb_w9 <- HRS_ds_ebb_w9
HRS_m_ds_ebb_w9$education <- car::recode(HRS_m_ds_ebb_w9$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ebb_w9', HRS_m_ds_ebb_w9)
#opal.symbol_import(o,'HRS_m_ds_ebb_w9', project='_Athlos_Harm_Dataset')
```





### Wave 10  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_ebb10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ebb_w10_educ','HRS.HRS-EBB-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ebb10,  echo=FALSE}
HRS_ebb_w10_educ <- opal.execute(o,'HRS_ebb_w10_educ')
vari <- HRS_ebb_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ebb_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ebb_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonize variable from the study-specific variable `RAEDUC` it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ebb10,   echo=TRUE}
HRS_ds_ebb_w10 <- tibble(id=HRS_ebb_w10_educ$id)
HRS_ds_ebb_w10$education <- car::recode(HRS_ebb_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ebb_w10$education <- labelled(HRS_ds_ebb_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ebb10,  echo=FALSE}
vari <- HRS_ds_ebb_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ebb10,  echo=FALSE}
AfterH <- table(HRS_ds_ebb_w10$education)
BeforeH <- table(HRS_ebb_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ebb_w10_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ebb10,  echo=FALSE}
val_labels(HRS_ds_ebb_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_ebb_w10', HRS_ds_ebb_w10)
#opal.symbol_import(o,'HRS_ds_ebb_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ebb_w10
save(education, file = "../RData/ebb_w10/education.RData")
rm(education)

HRS_m_ds_ebb_w10 <- HRS_ds_ebb_w10
HRS_m_ds_ebb_w10$education <- car::recode(HRS_m_ds_ebb_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ebb_w10', HRS_m_ds_ebb_w10)
#opal.symbol_import(o,'HRS_m_ds_ebb_w10', project='_Athlos_Harm_Dataset')
```





### Wave 11  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`


* Description: 
```{r assign_ebb11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_ebb_w11_educ','HRS.HRS-EBB-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_ebb11,  echo=FALSE}
HRS_ebb_w11_educ <- opal.execute(o,'HRS_ebb_w11_educ')
vari <- HRS_ebb_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_ebb_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_ebb_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_ebb11,   echo=TRUE}
HRS_ds_ebb_w11 <- tibble(id=HRS_ebb_w11_educ$id)
HRS_ds_ebb_w11$education <- car::recode(HRS_ebb_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_ebb_w11$education <- labelled(HRS_ds_ebb_w11$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_ebb11,  echo=FALSE}
vari <- HRS_ds_ebb_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_ebb_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_ebb_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_ebb11,  echo=FALSE}
AfterH <- table(HRS_ds_ebb_w11$education)
BeforeH <- table(HRS_ebb_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]), sum(is.na(HRS_ebb_w11_educ$RAEDUC)))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3", "NA->999")
kable(C)
```

 
 

 
```{r importOPAL_ebb11,  echo=FALSE}
val_labels(HRS_ds_ebb_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_ebb_w11', HRS_ds_ebb_w11)
#opal.symbol_import(o,'HRS_ds_ebb_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_ebb_w11
save(education, file = "../RData/ebb_w11/education.RData")
rm(education)

HRS_m_ds_ebb_w11 <- HRS_ds_ebb_w11
HRS_m_ds_ebb_w11$education <- car::recode(HRS_m_ds_ebb_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_ebb_w11', HRS_m_ds_ebb_w11)
#opal.symbol_import(o,'HRS_m_ds_ebb_w11', project='_Athlos_Harm_Dataset')
```





## MBB
### Wave 10  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_mbb10,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_mbb_w10_educ','HRS.HRS-MBB-w10',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_mbb10,  echo=FALSE}
HRS_mbb_w10_educ <- opal.execute(o,'HRS_mbb_w10_educ')
vari <- HRS_mbb_w10_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_mbb_w10_educ$RAEDUC, missing_values = NA)
ggplot(HRS_mbb_w10_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_mbb10,   echo=TRUE}
HRS_ds_mbb_w10 <- tibble(id=HRS_mbb_w10_educ$id)
HRS_ds_mbb_w10$education <- car::recode(HRS_mbb_w10_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_mbb_w10$education <- labelled(HRS_ds_mbb_w10$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_mbb10,  echo=FALSE}
vari <- HRS_ds_mbb_w10$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w10$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w10, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_mbb10,  echo=FALSE}
AfterH <- table(HRS_ds_mbb_w10$education)
BeforeH <- table(HRS_mbb_w10_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 

 
```{r importOPAL_mbb10,  echo=FALSE}
val_labels(HRS_ds_mbb_w10) <- NULL
#opal.assign.data(o, 'HRS_ds_mbb_w10', HRS_ds_mbb_w10)
#opal.symbol_import(o,'HRS_ds_mbb_w10', project='_Athlos_Harm_Dataset')
education <- HRS_ds_mbb_w10
save(education, file = "../RData/mbb_w10/education.RData")
rm(education)

HRS_m_ds_mbb_w10 <- HRS_ds_mbb_w10
HRS_m_ds_mbb_w10$education <- car::recode(HRS_m_ds_mbb_w10$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_mbb_w10', HRS_m_ds_mbb_w10)
#opal.symbol_import(o,'HRS_m_ds_mbb_w10', project='_Athlos_Harm_Dataset')
```








### Wave 11  

#### Study-specific variable description

 

* Name: `RAEDUC`
* Label: `R education (categ)`
* Categories: 
    + `1 = Lt High-school`
    + `2 = GED`
    + `3 = High-school graduate`
    + `4 = Some college`
    + `5 = College and above`

* Description: 
```{r assign_mbb11,  echo=FALSE}
opal.assign.table.tibble(o, 'HRS_mbb_w11_educ','HRS.HRS-MBB-w11',
                         variables=list('RAEDUC'), missings = TRUE)
```

```{r local_mbb11,  echo=FALSE}
HRS_mbb_w11_educ <- opal.execute(o,'HRS_mbb_w11_educ')
vari <- HRS_mbb_w11_educ$RAEDUC
kable(Categorical_summary(vari, missing_values = NA)[2], caption = attributes(vari)$`spss::shortName`) 
kable(Categorical_summary(vari, missing_values = NA)[1], caption = "Category")
#Categorical_summary(var = HRS_mbb_w11_educ$RAEDUC, missing_values = NA)
ggplot(HRS_mbb_w11_educ, aes(x=factor(RAEDUC))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Harmonisation algorithm
To compute the harmonized variable from the study-specific variable `RAEDUC`, it has to be recoded as follows:

* `1 "Lt High-school" into 2`
* `keep "GED" into 2`
* `3 "High-school graduate" into 2`
* `4 "Some college" into 3`
* `5 "College and above" into 3`
* `NA into 999`

**R script:**

```{r harmo_mbb11,   echo=TRUE}
HRS_ds_mbb_w11 <- tibble(id=HRS_mbb_w11_educ$id)
HRS_ds_mbb_w11$education <- car::recode(HRS_mbb_w11_educ$RAEDUC, "1=2; 3=2; 4=3; 5=3; NA=999")
HRS_ds_mbb_w11$education <- labelled(HRS_ds_mbb_w11$education, labels = c("less than primary education"=0, "primary education"=1, "secondary education"=2, "tertiary education"=3, "Missing"=999, "Do not know"=998, "Refuse"=997, "Not applicable"=996, "Does not answer"=995,  "Not attempt not done"=994, "Disable to measure"=993, "Impute"=992, "CAPI interviewer error"=991))
```


#### Statistical description of the new harmonised variable
```{r descript_mbb11,  echo=FALSE}
vari <- HRS_ds_mbb_w11$education
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[3]) 
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[1], caption = "Category")
kable(Categorical_summary(vari, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))[2], caption = "Type of missing")
#Categorical_summary(var = HRS_ds_mbb_w11$education, missing_values = c(991, 992, 993, 994, 995, 996, 997, 998, 999))
ggplot(HRS_ds_mbb_w11, aes(x=factor(education))) + geom_bar(stat="count", width=0.4, fill="steelblue") + xlab("Level of education") + ylab("Frequency")
```

#### Validation
```{r crosstabulation_mbb11,  echo=FALSE}
AfterH <- table(HRS_ds_mbb_w11$education)
BeforeH <- table(HRS_mbb_w11_educ$RAEDUC)
BeforeH <- c(sum(BeforeH[c(1, 2, 3)]), sum(BeforeH[c(4,5)]))
C <- rbind(BeforeH,AfterH)
colnames(C) <- c("(1,2,3)->2","(4,5)->3")
kable(C)
```

 
 


```{r importOPAL_mbb11,  echo=FALSE}
val_labels(HRS_ds_mbb_w11) <- NULL
#opal.assign.data(o, 'HRS_ds_mbb_w11', HRS_ds_mbb_w11)
#opal.symbol_import(o,'HRS_ds_mbb_w11', project='_Athlos_Harm_Dataset')
education <- HRS_ds_mbb_w11
save(education, file = "../RData/mbb_w11/education.RData")
rm(education)

HRS_m_ds_mbb_w11 <- HRS_ds_mbb_w11
HRS_m_ds_mbb_w11$education <- car::recode(HRS_m_ds_mbb_w11$education, "c(991, 992, 993, 994, 995, 996, 997,998, 999)=NA")
#opal.assign.data(o, 'HRS_m_ds_mbb_w11', HRS_m_ds_mbb_w11)
#opal.symbol_import(o,'HRS_m_ds_mbb_w11', project='_Athlos_Harm_Dataset')
```


# Quality estimation

There is no representation of 0=less than primary education and 1=primary education in the used variable. 

```{r closeRsession, echo=FALSE,  echo=FALSE} 
opal.logout(o)
```